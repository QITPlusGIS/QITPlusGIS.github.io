import{a as c,b as l,c as p,aS as v,V as m,l as P,cP as b,aJ as y,cQ as x}from"./index-58dffe5f.js";import{m as _}from"./AnchorElementViewModel-d5f6d2e3.js";let d=class extends v{constructor(e){super(e),this._hoveredPoints=new m}initialize(){this.addHandles(P(()=>this._hoveredPoints.toArray().map(({anchor:e,element:r})=>({screenLocation:e.screenLocation,element:r})),e=>{for(const{screenLocation:r,element:o}of e)y(r,({x:i,y:n})=>{o.style.transform=`translate(${i}px, ${n}px)`})},b))}destroy(){this._hoveredPoints.drain(e=>this._destroyHoveredPoint(e))}update(e){var n;const r=this.view,o=this._hoveredPoints,i=e.length;for(;this._hoveredPoints.length>i;)this._destroyHoveredPoint(this._hoveredPoints.pop());for(;this._hoveredPoints.length<i;){const s=this._makeHoveredPoint();o.push(s),(n=r.surface)==null||n.appendChild(s.element)}for(let s=0;s<i;++s){const h=o.at(i-1-s),a=e[s];this._updateHoveredPoint(h,a)}}_makeHoveredPoint(){const{size:e,borderStyle:r,borderColor:o,borderWidth:i,boxShadow:n}=x().hoveredPointsStyle,s=this.view,h=new _({view:s,screenLocationEnabled:!0}),a=document.createElement("div"),t=a.style;return t.position="absolute",t.top="0",t.left="0",t.contain="strict",t.boxSizing="border-box",t.width=`${e}px`,t.height=`${e}px`,t.marginTop=`-${e/2}px`,t.marginLeft=`-${e/2}px`,t.border=`${r} ${i}px ${o}`,t.borderRadius=`${e}px`,t.boxShadow=n,{anchor:h,element:a}}_updateHoveredPoint({anchor:e,element:r},o){e.screenLocationEnabled=!0,e.location=o.hoveredPoint;const i=r.style;i.display="block",i.background=o.color.toCss()}_destroyHoveredPoint({anchor:e,element:r}){var o;e.destroy(),(o=this.view.surface)==null||o.removeChild(r)}};c([l()],d.prototype,"view",void 0),c([l()],d.prototype,"_hoveredPoints",void 0),d=c([p("esri.widgets.ElevationProfile.support.HoveredPoints")],d);export{d as p};
