import{u as a}from"./workerHelper-904b6c4a.js";import{f as p,u as c,p as l,A as d,a as f,m as g}from"./edgeProcessing-0f01fb64.js";import"./InterleavedLayout-2de7b1c4.js";import"./BufferView-eb3bc1bb.js";import"./index-4457faad.js";import"./types-1305598a.js";import"./deduplicate-34be5e74.js";import"./Indices-836a5a9a.js";import"./glUtil-0b7ee6ea.js";import"./enums-b14466b3.js";import"./VertexElementDescriptor-2925c6af.js";class v{async extract(e){const t=o(e),n=p(t),s=[t.data.buffer];return{result:m(n,s),transferList:s}}async extractComponentsEdgeLocations(e){const t=o(e),n=c(t.data,t.skipDeduplicate,t.indices,t.indicesLength),s=l(n,D,u),r=[];return{result:a(s.regular.instancesData,r),transferList:r}}async extractEdgeLocations(e){const t=o(e),n=c(t.data,t.skipDeduplicate,t.indices,t.indicesLength),s=l(n,w,u),r=[];return{result:a(s.regular.instancesData,r),transferList:r}}}function o(i){return{data:d.createView(i.dataBuffer),indices:i.indicesType==="Uint32Array"?new Uint32Array(i.indices):i.indicesType==="Uint16Array"?new Uint16Array(i.indices):i.indices,indicesLength:i.indicesLength,writerSettings:i.writerSettings,skipDeduplicate:i.skipDeduplicate}}function m(i,e){return e.push(i.regular.lodInfo.lengths.buffer),e.push(i.silhouette.lodInfo.lengths.buffer),{regular:{instancesData:a(i.regular.instancesData,e),lodInfo:{lengths:i.regular.lodInfo.lengths.buffer}},silhouette:{instancesData:a(i.silhouette.instancesData,e),lodInfo:{lengths:i.silhouette.lodInfo.lengths.buffer}},averageEdgeLength:i.averageEdgeLength}}class h{allocate(e){return f.createBuffer(e)}trim(e,t){return e.slice(0,t)}write(e,t,n){e.position0.setVec(t,n.position0),e.position1.setVec(t,n.position1)}}class L{allocate(e){return g.createBuffer(e)}trim(e,t){return e.slice(0,t)}write(e,t,n){e.position0.setVec(t,n.position0),e.position1.setVec(t,n.position1),e.componentIndex.set(t,n.componentIndex)}}const w=new h,D=new L,u={allocate:()=>null,write:()=>{},trim:()=>null};export{v as default};
