import{c as u,a as b}from"./devEnvironmentUtils-4eab2a99.js";import{s as m,bX as f,d8 as l,c4 as p,b_ as c,b$ as i,aA as w,bF as d,bY as h,c5 as $}from"./index-2abb185a.js";import{getStyleItemFromStyle as g}from"./webStyleSymbolUtils-5620ce5e.js";async function D(e,t,a){if(!e.name)throw new m("style-symbol-reference-name-missing","Missing name in style symbol reference");if(e.styleName&&e.styleName==="Esri2DPointSymbolsStyle")return S(e,a);try{return N(await f(e,t,a),e.name,t,a)}catch(n){return l(n),null}}async function S(e,t){const a=p.replaceAll(/\{SymbolName\}/gi,e.name);try{const n=await c(a,t);return i(n.data)}catch(n){return l(n),null}}async function N(e,t,a,n){const y={portal:(a==null?void 0:a.portal)!=null?a.portal:w.getDefault(),url:d(e.baseUrl),origin:"portal-item"},o=g(t,e.data);if(!o)throw new m("symbolstyleutils:symbol-name-not-found",`The symbol name '${t}' could not be found`,{symbolName:t});let s=h($(o,"cimRef"),y);u()&&(s=b(s));try{const r=await c(s,n);return i(r.data)}catch(r){return l(r),null}}export{D as fetchCIMSymbolReference};
