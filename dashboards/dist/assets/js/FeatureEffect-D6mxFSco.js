import{Q as x,q as u,R as E,a as i,y as s,a8 as $,c as j,o as y,ai as m}from"./uuid-De2V3pkO.js";import{a as S,n as g}from"./jsonUtils-Ds9cu0Qh.js";import{c as L}from"./arcgisLayerUrl-DMpJLG2u.js";import{b as N}from"./Query-CEg5oX17.js";var w;const p=new E({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),f=new E({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let l=w=class extends x{constructor(e){super(e),this.where=null,this.geometry=null,this.spatialRelationship="intersects",this.distance=void 0,this.objectIds=null,this.units=null,this.timeExtent=null}createQuery(e={}){const{where:t,geometry:r,spatialRelationship:n,timeExtent:o,objectIds:c,units:d,distance:I}=this;return new N({geometry:u(r),objectIds:u(c),spatialRelationship:n,timeExtent:u(o),where:t,units:d,distance:I,...e})}clone(){const{where:e,geometry:t,spatialRelationship:r,timeExtent:n,objectIds:o,units:c,distance:d}=this;return new w({geometry:u(t),objectIds:u(o),spatialRelationship:r,timeExtent:u(n),where:e,units:c,distance:d})}};i([s({type:String,json:{write:!0}})],l.prototype,"where",void 0),i([s({types:$,json:{write:!0}})],l.prototype,"geometry",void 0),i([s({type:p.apiValues,json:{name:"spatialRel",read:{reader:p.read},write:{allowNull:!1,writer:p.write,overridePolicy(){return{enabled:this.geometry!=null}}}}})],l.prototype,"spatialRelationship",void 0),i([s({type:Number,json:{write:{overridePolicy(e){return{enabled:e!=null&&this.geometry!=null}}}}})],l.prototype,"distance",void 0),i([s({type:[Number],json:{write:!0}})],l.prototype,"objectIds",void 0),i([s({type:f.apiValues,json:{read:f.read,write:{writer:f.write,overridePolicy(e){return{enabled:e!=null&&this.geometry!=null}}}}})],l.prototype,"units",void 0),i([s({type:L,json:{write:!0}})],l.prototype,"timeExtent",void 0),l=w=i([j("esri.layers.support.FeatureFilter")],l);const U=l;var h;const b={read:{reader:g},write:{writer:S,overridePolicy(){return{allowNull:this.excludedEffect!=null,isRequired:this.excludedEffect==null}}}},R={read:{reader:g},write:{writer:S,overridePolicy(){return{allowNull:this.includedEffect!=null,isRequired:this.includedEffect==null}}}},v={name:"showExcludedLabels",default:!0};let a=h=class extends x{constructor(e){super(e),this.filter=null,this.includedEffect=null,this.excludedEffect=null,this.excludedLabelsVisible=!1}write(e,t){const r=super.write(e,t);if(t?.origin){if(r.filter){const n=Object.keys(r.filter);if(n.length>1||n[0]!=="where")return t.messages?.push(new y("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",{layer:t.layer,effect:this})),null}if("showExcludedLabels"in r)return t.messages?.push(new y("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",{layer:t.layer,effect:this})),null}return r}clone(){return new h({filter:this.filter!=null?this.filter.clone():null,includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})}};i([s({type:U,json:{write:{allowNull:!0,writer(e,t,r,n){const o=e?.write({},n);o&&Object.keys(o).length!==0?m(r,o,t):m(r,null,t)}}}})],a.prototype,"filter",void 0),i([s({json:{write:!0,origins:{"web-map":b,"portal-item":b}}})],a.prototype,"includedEffect",void 0),i([s({json:{write:!0,origins:{"web-map":R,"portal-item":R}}})],a.prototype,"excludedEffect",void 0),i([s({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":v,"portal-item":v}}})],a.prototype,"excludedLabelsVisible",void 0),a=h=i([j("esri.layers.support.FeatureEffect")],a);const M=a;export{U as d,M as w};
