import{_ as pt}from"./index-e42a63f9.js";let or;function $(e){return typeof or[e]=="function"?or[e]=or[e](globalThis):or[e]}var tf,rf,nf,sf;or=(tf=globalThis.dojoConfig)!=null&&tf.has||(rf=globalThis.esriConfig)!=null&&rf.has?{...(nf=globalThis.dojoConfig)==null?void 0:nf.has,...(sf=globalThis.esriConfig)==null?void 0:sf.has}:{},$.add=(e,t,r,n)=>((n||or[e]===void 0)&&(or[e]=t),r&&$(e)),$.cache=or,$.add("big-integer-warning-enabled",!0),$.add("esri-deprecation-warnings",!0),$.add("esri-tests-disable-screenshots",!1),$.add("esri-tests-use-full-window",!1),$.add("esri-tests-post-to-influx",!0),(()=>{var t;$.add("host-webworker",globalThis.WorkerGlobalScope!==void 0&&self instanceof globalThis.WorkerGlobalScope);const e=typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;if($.add("host-browser",e),$.add("host-node",typeof globalThis.process=="object"&&((t=globalThis.process.versions)==null?void 0:t.node)&&globalThis.process.versions.v8),$.add("dom",e),$("host-browser")){const r=navigator,n=r.userAgent,s=r.appVersion,o=parseFloat(s);if($.add("wp",parseFloat(n.split("Windows Phone")[1])||void 0),$.add("msapp",parseFloat(n.split("MSAppHost/")[1])||void 0),$.add("khtml",s.includes("Konqueror")?o:void 0),$.add("edge",parseFloat(n.split("Edge/")[1])||void 0),$.add("opr",parseFloat(n.split("OPR/")[1])||void 0),$.add("webkit",!$("wp")&&!$("edge")&&parseFloat(n.split("WebKit/")[1])||void 0),$.add("chrome",!$("edge")&&!$("opr")&&parseFloat(n.split("Chrome/")[1])||void 0),$.add("android",!$("wp")&&parseFloat(n.split("Android ")[1])||void 0),$.add("safari",!s.includes("Safari")||$("wp")||$("chrome")||$("android")||$("edge")||$("opr")?void 0:parseFloat(s.split("Version/")[1])),$.add("mac",s.includes("Macintosh")),!$("wp")&&/(iPhone|iPod|iPad)/.test(n)){const a=RegExp.$1.replace(/P/,"p"),l=/OS ([\d_]+)/.test(n)?RegExp.$1:"1",c=parseFloat(l.replace(/_/,".").replaceAll("_",""));$.add(a,c),$.add("ios",c)}$("webkit")||(!n.includes("Gecko")||$("wp")||$("khtml")||$("edge")||$.add("mozilla",o),$("mozilla")&&$.add("ff",parseFloat(n.split("Firefox/")[1]||n.split("Minefield/")[1])||void 0))}})(),(()=>{if(globalThis.navigator){const e=navigator.userAgent,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(e),r=/iPhone/i.test(e);t&&$.add("esri-mobile",t),r&&$.add("esri-iPhone",r),$.add("esri-geolocation",!!navigator.geolocation)}$.add("esri-wasm","WebAssembly"in globalThis),$.add("esri-performance-mode-frames-between-render",20),$.add("esri-force-performance-mode",!1),$.add("esri-shared-array-buffer",()=>{const e="SharedArrayBuffer"in globalThis,t=globalThis.crossOriginIsolated===!1;return e&&!t}),$.add("wasm-simd",()=>{const e=[0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11];return WebAssembly.validate(new Uint8Array(e))}),$.add("esri-atomics","Atomics"in globalThis),$.add("esri-workers","Worker"in globalThis),$.add("web-feat:cache","caches"in globalThis),$.add("esri-workers-arraybuffer-transfer",!$("safari")||Number($("safari"))>=12),$.add("workers-pool-size",8),$.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),$.add("featurelayer-simplify-payload-size-factors",[1,1,4]),$.add("featurelayer-animation-enabled",!0),$.add("featurelayer-snapshot-enabled",!0),$.add("featurelayer-snapshot-point-min-threshold",8e4),$.add("featurelayer-snapshot-point-max-threshold",4e5),$.add("featurelayer-snapshot-point-coverage",.1),$.add("featurelayer-advanced-symbols",!1),$.add("featurelayer-pbf",!0),$.add("featurelayer-pbf-statistics",!1),$.add("feature-layers-workers",!0),$.add("feature-polyline-generalization-factor",1),$.add("mapview-transitions-duration",200),$.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),$.add("mapserver-pbf-version-support",10.81),$.add("mapservice-popup-identify-max-tolerance",20),$.add("heatmap-allow-raster-fallback",!1),$.add("heatmap-force-raster",!1),$("host-webworker")||$("host-browser")&&($.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),$.add("esri-image-decode",()=>{if("decode"in new Image){const e=new Image;return e.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void e.decode().then(()=>{$.add("esri-image-decode",!0,!0,!0)}).catch(()=>{$.add("esri-image-decode",!1,!0,!0)})}return!1}),$.add("esri-url-encodes-apostrophe",()=>{const e=window.document.createElement("a");return e.href="?'",e.href.includes("?%27")}))})();let Sa=class wr{constructor(t=1){this._seed=t}set seed(t){this._seed=t??Math.random()*wr._m}getInt(){return this._seed=(wr._a*this._seed+wr._c)%wr._m,this._seed}getFloat(){return this.getInt()/(wr._m-1)}getIntRange(t,r){return Math.round(this.getFloatRange(t,r))}getFloatRange(t,r){const n=r-t;return t+this.getInt()/wr._m*n}};Sa._m=2147483647,Sa._a=48271,Sa._c=0;const M6=1.5;function E6(e,t){return t?e.filter((r,n,s)=>s.findIndex(t.bind(null,r))===n):Array.from(new Set(e))}function Zo(e,t,r){if(e==null&&t==null)return!0;if(e==null||t==null||e.length!==t.length)return!1;if(r){for(let n=0;n<e.length;n++)if(!r(e[n],t[n]))return!1}else for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function A6(e,t){let r=e.length!==t.length;r&&(e.length=t.length);for(let n=0;n<t.length;++n)e[n]!==t[n]&&(e[n]=t[n],r=!0);return r}function P6(e,t,r){let n,s;return r?(n=t.filter(o=>!e.some(a=>r(a,o))),s=e.filter(o=>!t.some(a=>r(a,o)))):(n=t.filter(o=>!e.includes(o)),s=e.filter(o=>!t.includes(o))),{added:n,removed:s}}function N6(e){return e&&typeof e.length=="number"}const c1=!!Array.prototype.fill;function I6(e,t){if(c1)return new Array(e).fill(t);const r=new Array(e);for(let n=0;n<e;n++)r[n]=t;return r}function C6(e,t){t===void 0&&(t=e,e=0);const r=new Array(t-e);for(let n=e;n<t;n++)r[n-e]=n;return r}let cf=class{constructor(){this.last=0}};const hf=new cf;function Qa(e,t,r,n){n=n||hf;const s=Math.max(0,n.last-10);for(let a=s;a<r;++a)if(e[a]===t)return n.last=a,a;const o=Math.min(s,r);for(let a=0;a<o;++a)if(e[a]===t)return n.last=a,a;return-1}function D6(e,t,r,n){const s=r??e.length,o=Qa(e,t,s,n);if(o!==-1)return e[o]=e[s-1],r==null&&e.pop(),t}const Ue=new Set;function h1(e,t,r=e.length,n=t.length,s,o){if(n===0||r===0)return r;Ue.clear();for(let l=0;l<n;++l)Ue.add(t[l]);s=s||hf;const a=Math.max(0,s.last-10);for(let l=a;l<r;++l)if(Ue.has(e[l])&&(o==null||o.push(e[l]),Ue.delete(e[l]),e[l]=e[r-1],--r,--l,Ue.size===0||r===0))return Ue.clear(),r;for(let l=0;l<a;++l)if(Ue.has(e[l])&&(o==null||o.push(e[l]),Ue.delete(e[l]),e[l]=e[r-1],--r,--l,Ue.size===0||r===0))return Ue.clear(),r;return Ue.clear(),r}function d1(e,t){const r=e.indexOf(t);return r!==-1?(e.splice(r,1),t):null}function f1(e,t){return e!=null}function df(e){return 32+e.length}function tc(){return 16}function R6(e){if(!e)return 0;let t=pf;for(const r in e)if(e.hasOwnProperty(r)){const n=e[r];switch(typeof n){case"string":t+=df(n);break;case"number":t+=tc();break;case"boolean":t+=4}}return t}function p1(e){if(!e)return 0;if(Array.isArray(e))return m1(e);let t=pf;for(const r in e)e.hasOwnProperty(r)&&(t+=ff(e[r]));return t}function m1(e){const t=e.length;if(t===0||typeof e[0]=="number")return 32+8*t;let r=mf;for(let n=0;n<t;n++)r+=ff(e[n]);return r}function ff(e){switch(typeof e){case"object":return p1(e);case"string":return df(e);case"number":return tc();case"boolean":return 4;default:return 8}}function y1(e,t){return mf+e.length*t}const pf=32,mf=32;function F6(e){return e instanceof ArrayBuffer}function rc(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Int8Array"}function yf(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Uint8Array"}function gf(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Uint8ClampedArray"}function nc(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Int16Array"}function wf(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Uint16Array"}function sc(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Int32Array"}function vf(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Uint32Array"}function Jo(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Float32Array"}function Yo(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)==="Float64Array"}function g1(e){return!("buffer"in e)}function L6(...e){return e.reduce((t,r)=>t+(r?g1(r)?y1(r,tc()):r.byteLength+w1:0),0)}const w1=145,j6=1024;function U6(e){return Yo(e)||Jo(e)||sc(e)||nc(e)||rc(e)}function z6(e){return Yo(e)||Jo(e)}function G6(e){return Yo(e)?179769e303:Jo(e)?3402823e32:vf(e)?4294967295:wf(e)?65535:yf(e)||gf(e)?255:sc(e)?2147483647:nc(e)?32767:rc(e)?127:256}function v1(e,t){let r;if(t)for(r in e)e.hasOwnProperty(r)&&(e[r]===void 0?delete e[r]:e[r]instanceof Object&&v1(e[r],!0));else for(r in e)e.hasOwnProperty(r)&&e[r]===void 0&&delete e[r];return e}function T(e){if(!e||typeof e!="object"||typeof e=="function")return e;const t=Sf(e);if(t!=null)return t;if(bf(e))return e.clone();if($f(e))return e.map(T);if(_f(e))return e.clone();const r={};for(const n of Object.getOwnPropertyNames(e))r[n]=T(e[n]);return r}function Xa(e){if(!e||typeof e!="object"||typeof e=="function"||"HTMLElement"in globalThis&&e instanceof HTMLElement)return e;const t=Sf(e);if(t!=null)return t;if($f(e)){let r=!0;const n=e.map(s=>{const o=Xa(s);return s!=null&&o==null&&(r=!1),o});return r?n:null}if(bf(e))return e.clone();if(e instanceof File||e instanceof Blob)return e;if(!_f(e)){const r=new(Object.getPrototypeOf(e)).constructor;for(const n of Object.getOwnPropertyNames(e)){const s=e[n],o=Xa(s);if(s!=null&&o==null)return null;r[n]=o}return r}return null}function bf(e){return typeof e.clone=="function"}function $f(e){return typeof e.map=="function"&&typeof e.forEach=="function"}function _f(e){return typeof e.notifyChange=="function"&&typeof e.watch=="function"}function bh(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function Sf(e){if(rc(e)||yf(e)||gf(e)||nc(e)||wf(e)||sc(e)||vf(e)||Jo(e)||Yo(e))return e.slice();if(e instanceof Date)return new Date(e.getTime());if(e instanceof ArrayBuffer)return e.slice(0,e.byteLength);if(e instanceof Map){const t=new Map;for(const[r,n]of e)t.set(r,T(n));return t}if(e instanceof Set){const t=new Set;for(const r of e)t.add(T(r));return t}return null}function ic(e,t){return e===t||typeof e=="number"&&isNaN(e)&&typeof t=="number"&&isNaN(t)||typeof(e==null?void 0:e.getTime)=="function"&&typeof(t==null?void 0:t.getTime)=="function"&&e.getTime()===t.getTime()||!1}function b1(e,t){return e===t||(e==null||typeof e=="string"?e===t:typeof e=="number"?e===t||typeof t=="number"&&isNaN(e)&&isNaN(t):e instanceof Date?t instanceof Date&&e.getTime()===t.getTime():Array.isArray(e)?Array.isArray(t)&&Zo(e,t):e instanceof Set?t instanceof Set&&_1(e,t):e instanceof Map?t instanceof Map&&S1(e,t):!!bh(e)&&bh(t)&&$1(e,t))}function $1(e,t){if(e===null||t===null)return!1;const r=Object.keys(e);if(t===null||Object.keys(t).length!==r.length)return!1;for(const n of r)if(e[n]!==t[n]||!Object.prototype.hasOwnProperty.call(t,n))return!1;return!0}function _1(e,t){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}function S1(e,t){if(e.size!==t.size)return!1;for(const[r,n]of e){const s=t.get(r);if(s!==n||s===void 0&&!t.has(r))return!1}return!0}function x1(e,t,r=!1){return Tf(e,t,r)}function Ko(e,t){if(t!=null)return t[e]||xf(e.split("."),!1,t)}function Pn(e,t,r){const n=e.split("."),s=n.pop(),o=xf(n,!0,r);o&&s&&(o[s]=t)}function xf(e,t,r){let n=r;for(const s of e){if(n==null)return;if(!(s in n)){if(!t)return;n[s]={}}n=n[s]}return n}function Tf(e,t,r){return t?Object.keys(t).reduce((n,s)=>{let o=n[s],a=t[s];return o===a?n:o===void 0?(n[s]=T(a),n):(Array.isArray(a)||Array.isArray(n)?(o=o?Array.isArray(o)?n[s]=o.concat():n[s]=[o]:n[s]=[],a&&(Array.isArray(a)||(a=[a]),r?a.forEach(l=>{o.includes(l)||o.push(l)}):n[s]=a.concat())):a&&typeof a=="object"?n[s]=Tf(o,a,r):n.hasOwnProperty(s)&&!t.hasOwnProperty(s)||(n[s]=a),n)},e||{}):e}var of;const K={apiKey:void 0,applicationName:"",applicationUrl:(of=globalThis.location)==null?void 0:of.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!0,portalUrl:"https://www.arcgis.com",routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],maxUrlLength:2e3,priority:"high",proxyRules:[],proxyUrl:null,timeout:6e4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(globalThis.esriConfig&&(x1(K,globalThis.esriConfig,!0),delete K.has),!K.assetsPath){{const e="4.28";K.assetsPath=`https://js.arcgis.com/${e}/@arcgis/core/assets`}K.defaultAssetsPath=K.assetsPath}function u(e,t,r,n){var s,o=arguments.length,a=o<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,r,n);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(a=(o<3?s(a):o>3?s(t,r,a):s(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a}function q6(e,t,r,n){function s(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(p){try{d(n.next(p))}catch(m){a(m)}}function c(p){try{d(n.throw(p))}catch(m){a(m)}}function d(p){p.done?o(p.value):s(p.value).then(l,c)}d((n=n.apply(e,t||[])).next())})}const T1=/\{([^\}]+)\}/g;function $h(e){return e??""}function oc(e,t){return t?e.replaceAll(T1,typeof t=="object"?(r,n)=>$h(Ko(n,t)):(r,n)=>$h(t(n))):e}function V6(e,t){return e.replaceAll(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,r=>t&&t.includes(r)?r:`\\${r}`)}function Of(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return t}function B6(e){return new DOMParser().parseFromString(e||"","text/html").body.innerText||""}function W6(e,t){return new RegExp(`{${t}}`,"ig").test(e)}const _h={info:0,warn:1,error:2,none:3};let V=class pe{constructor(t){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},t.level!=null&&(this.level=t.level),t.writer!=null&&(this.writer=t.writer),this._module=t.module,pe._loggers.set(this.module,this);const r=this.module.lastIndexOf(".");r!==-1&&(this._parent=pe.getLogger(this.module.slice(0,r)))}get module(){return this._module}get parent(){return this._parent}error(...t){this._log("error","always",...t)}warn(...t){this._log("warn","always",...t)}info(...t){this._log("info","always",...t)}errorOnce(...t){this._log("error","once",...t)}warnOnce(...t){this._log("warn","once",...t)}infoOnce(...t){this._log("info","once",...t)}errorOncePerTick(...t){this._log("error","oncePerTick",...t)}warnOncePerTick(...t){this._log("warn","oncePerTick",...t)}infoOncePerTick(...t){this._log("info","oncePerTick",...t)}get test(){const t=this;return{loggedMessages:t._loggedMessages,clearLoggedWarnings:()=>t._loggedMessages.warn.clear()}}static get test(){return{resetLoggers(t=new Map){const r=pe._loggers;return pe._loggers=t,r},set throttlingDisabled(t){pe._throttlingDisabled=t}}}static getLogger(t){return t=typeof t!="string"?t.declaredClass:t,pe._loggers.get(t)||new pe({module:t})}_log(t,r,...n){if(this._matchLevel(t)){if(r!=="always"&&!pe._throttlingDisabled){const s=this._argsToKey(n),o=this._loggedMessages[t].get(s);if(r==="once"&&o!=null||r==="oncePerTick"&&o&&o>=pe._tickCounter)return;this._loggedMessages[t].set(s,pe._tickCounter),pe._scheduleTickCounterIncrement()}for(const s of K.log.interceptors)if(s(t,this.module,...n))return;this._inheritedWriter()(t,this.module,...n)}}_parentWithMember(t,r){let n=this;for(;n!=null;){const s=n[t];if(s!=null)return s;n=n.parent}return r}_inheritedWriter(){return this._parentWithMember("writer",this._consoleWriter)}_consoleWriter(t,r,...n){console[t](`[${r}]`,...n)}_matchLevel(t){const r=K.log.level||"warn";return _h[this._parentWithMember("level",r)]<=_h[t]}_argsToKey(...t){return Of(JSON.stringify(t,(n,s)=>typeof s!="object"||Array.isArray(s)?s:"[Object]"))}static _scheduleTickCounterIncrement(){pe._tickCounterScheduled||(pe._tickCounterScheduled=!0,Promise.resolve().then(()=>{pe._tickCounter++,pe._tickCounterScheduled=!1}))}};V._loggers=new Map,V._tickCounter=0,V._tickCounterScheduled=!1,V._throttlingDisabled=!1;function O1(e,t){return e.replaceAll(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,(r,n)=>n===""?"$":(Ko(n,t)??"").toString())}let Mf=class{constructor(t,r,n){this.name=t,this.details=n,this.message=(r&&O1(r,n))??""}toString(){return"["+this.name+"]: "+this.message}},G=class Ef extends Mf{constructor(t,r,n){super(t,r,n)}toJSON(){if(this.details!=null)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(t,r)=>{if(r&&typeof r=="object"&&typeof r.toJSON=="function")return r;try{return T(r)}catch{return"[object]"}}))}}catch(t){throw V.getLogger("esri.core.Error").error(t),t}return{name:this.name,message:this.message,details:this.details}}static fromJSON(t){return new Ef(t.name,t.message,t.details)}};G.prototype.type="error";const Sh=new Set;function M1(e,t,r=!1){r&&Sh.has(t)||(r&&Sh.add(t),e.warn(`🛑 DEPRECATED - ${t}`))}function E1(e,t,r={}){if($("esri-deprecation-warnings")){const{moduleName:n}=r;co(e,`Function: ${(n?n+"::":"")+t+"()"}`,r)}}function Z6(e,t,r={}){if($("esri-deprecation-warnings")){const{moduleName:n}=r;co(e,`Property: ${(n?n+"::":"")+t}`,r)}}function co(e,t,r={}){if($("esri-deprecation-warnings")){const{replacement:n,version:s,see:o,warnOnce:a}=r;let l=t;n&&(l+=`
	🛠️ Replacement: ${n}`),s&&(l+=`
	⚙️ Version: ${s}`),o&&(l+=`
	🔗 See ${o} for more details.`),M1(e,l,a)}}function J6(e){const t=[];return function*(){yield*t;for(const r of e)t.push(r),yield r}}function Y6(e,t){for(const r of e)if(r!=null&&t(r))return r}function xh(e){return e!=null&&typeof e[Symbol.iterator]=="function"}let A1=class el{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let t=0;return this._groups.forEach(r=>{t+=r.length}),t}add(t,r){if(xh(t)){const n=this._getOrCreateGroup(r);for(const s of t)this._isHandle(s)&&n.push(s)}else this._isHandle(t)&&this._getOrCreateGroup(r).push(t);return this}forEach(t,r){if(typeof t=="function")this._groups.forEach(n=>n.forEach(t));else{const n=this._getGroup(t);n&&r&&n.forEach(r)}}has(t){return this._groups.has(this._ensureGroupKey(t))}remove(t){if(typeof t!="string"&&xh(t)){for(const r of t)this.remove(r);return this}return this.has(t)?(this._removeAllFromGroup(this._getGroup(t)),this._groups.delete(this._ensureGroupKey(t)),this):this}removeAll(){return this._groups.forEach(t=>this._removeAllFromGroup(t)),this._groups.clear(),this}_isHandle(t){return t&&(!!t.remove||t instanceof el)}_getOrCreateGroup(t){if(this.has(t))return this._getGroup(t);const r=[];return this._groups.set(this._ensureGroupKey(t),r),r}_getGroup(t){return this._groups.get(this._ensureGroupKey(t))}_ensureGroupKey(t){return t||"_default_"}_removeAllFromGroup(t){for(const r of t)r instanceof el?r.removeAll():r.remove()}};function P1(e,t){if(e==null)throw new Error(t??"value is None")}function Ci(e){return e==null||e.destroy(),null}function K6(e){return e==null||e.dispose(),null}function Nn(e){return e==null||e.remove(),null}function Af(e){return e==null||e.abort(),null}function Q6(e){return e==null||e.release(),null}function X6(e,t,r){return e!=null&&t!=null?r!=null?r(e,t):e.equals(t):e===t}const Pf=Symbol("Accessor-beforeDestroy"),N1={remove:()=>{}};function de(e){return e?{remove(){e&&(e(),e=void 0)}}:N1}function I1(e){e.forEach(t=>t==null?void 0:t.remove())}function ac(e){return de(()=>I1(e))}function cr(e){return e.__accessor__??null}function C1(e,t){var r;return((r=e==null?void 0:e.metadatas)==null?void 0:r[t])!=null}function ki(e,t,r){return r?ho(e,t,{policy:r,path:""}):ho(e,t,null)}function ho(e,t,r){return t?Object.keys(t).reduce((n,s)=>{const o=s;let a=null,l="merge";if(r&&(a=r.path?`${r.path}.${s}`:s,l=r.policy(a)),l==="replace"||l==="replace-arrays"&&Array.isArray(n[o]))return n[o]=t[o],n;if(n[o]===void 0)return n[o]=T(t[o]),n;let c=n[o],d=t[o];if(c===d)return n;if(Array.isArray(d)||Array.isArray(n))c=c?Array.isArray(c)?n[o]=c.concat():n[o]=[c]:n[o]=[],d&&(Array.isArray(d)||(d=[d]),d.forEach(p=>{c.includes(p)||c.push(p)}));else if(d&&typeof d=="object")if(r){const p=r.path;r.path=a,n[o]=ho(c,d,r),r.path=p}else n[o]=ho(c,d,null);else n.hasOwnProperty(s)&&!t.hasOwnProperty(s)||(n[o]=d);return n},e||{}):e}function Nf(e){return Array.isArray(e)?e:e.split(".")}function Th(e){return e.includes(",")?e.split(",").map(t=>t.trim()):[e.trim()]}function k1(e){if(Array.isArray(e)){const t=[];for(const r of e)t.push(...Th(r));return t}return Th(e)}function If(e,t,r,n){const s=k1(t);if(s.length!==1){const o=s.map(a=>n(e,a,r));return ac(o)}return n(e,s[0],r)}function Cf(e,t){const r=e[e.length-1]==="?"?e.slice(0,-1):e;if(t.getItemAt!=null||Array.isArray(t)){const s=parseInt(r,10);if(!isNaN(s))return Array.isArray(t)?t[s]:t.at(s)}const n=cr(t);return C1(n,r)?n.get(r):t[r]}function kf(e,t,r){if(e==null)return e;const n=Cf(t[r],e);return!n&&r<t.length-1?void 0:r===t.length-1?n:kf(n,t,r+1)}function Hs(e,t,r=0){return typeof t!="string"||t.includes(".")?kf(e,Nf(t),r):Cf(t,e)}function zr(e,t){return Hs(e,t)}function Oh(e,t){return Hs(t,e)!==void 0}function Zs(e){let t=e.constructor.__accessorMetadata__;const r=Object.prototype.hasOwnProperty.call(e.constructor,"__accessorMetadata__");if(t){if(!r){t=Object.create(t);for(const n in t)t[n]=T(t[n]);Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0})}}else t={},Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0});return e.constructor.__accessorMetadata__}function Qo(e,t){const r=Zs(e);let n=r[t];return n||(n=r[t]={}),n}function D1(e,t){return ki(e,t,F1)}const R1=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function F1(e){return R1.test(e)?"replace":"merge"}function L1(e){return(e==null?void 0:e.release)&&typeof e.release=="function"}function j1(e){return(e==null?void 0:e.acquire)&&typeof e.acquire=="function"}let Js=class tl{constructor(t,r,n,s=1,o=0){if(this._ctor=t,this._acquireFunction=r,this._releaseFunction=n,this.allocationSize=s,this._pool=new Array(o),this._initialSize=o,this._ctor)for(let a=0;a<o;a++)this._pool[a]=new this._ctor;this.allocationSize=Math.max(s,1)}destroy(){this.prune(0)}acquire(...t){let r;if(tl.test.disabled)r=new this._ctor;else{if(this._pool.length===0){const n=this.allocationSize;for(let s=0;s<n;s++)this._pool[s]=new this._ctor}r=this._pool.pop()}return this._acquireFunction?this._acquireFunction(r,...t):j1(r)&&r.acquire(...t),r}release(t){t&&!tl.test.disabled&&(this._releaseFunction?this._releaseFunction(t):L1(t)&&t.release(),this._pool.push(t))}prune(t=this._initialSize){if(!(t>=this._pool.length)){for(let r=t;r<this._pool.length;++r){const n=this._pool[r];this._dispose(n)}this._pool.length=t}}_dispose(t){t.dispose&&typeof t.dispose=="function"&&t.dispose()}};Js.test={disabled:!1};var Mt;(function(e){e[e.INITIALIZING=0]="INITIALIZING",e[e.CONSTRUCTING=1]="CONSTRUCTING",e[e.CONSTRUCTED=2]="CONSTRUCTED"})(Mt||(Mt={}));let U1=class{constructor(t,r){this._observers=t,this._observer=r}remove(){d1(this._observers,this._observer)}},Df=class{constructor(){this._observers=null,this.destroyed=!1}observe(t){if(this.destroyed||t.destroyed)return z1;this._observers==null&&(this._observers=[]);const r=this._observers;let n=!1,s=!1;const o=r.length;for(let a=0;a<o;++a){const l=r[a];if(l.destroyed)s=!0;else if(l===t){n=!0;break}}return n||(r.push(t),s&&this._removeDestroyedObservers()),new U1(r,t)}_removeDestroyedObservers(){const t=this._observers;if(!t||t.length===0)return;const r=t.length;let n=0;for(let s=0;s<r;++s){for(;s+n<r&&t[s+n].destroyed;)++n;if(n>0){if(!(s+n<r))break;t[s]=t[s+n]}}t.length=r-n}destroy(){if(this.destroyed)return;this.destroyed=!0;const t=this._observers;if(t!=null){for(const r of t)r.onCommitted();this._observers=null}}};const z1=de();var C;(function(e){e[e.DEFAULTS=0]="DEFAULTS",e[e.COMPUTED=1]="COMPUTED",e[e.SERVICE=2]="SERVICE",e[e.PORTAL_ITEM=3]="PORTAL_ITEM",e[e.WEB_SCENE=4]="WEB_SCENE",e[e.WEB_MAP=5]="WEB_MAP",e[e.LINK_CHART=6]="LINK_CHART",e[e.USER=7]="USER"})(C||(C={}));const rx=C.USER+1;function Rf(e){switch(e){case"defaults":return C.DEFAULTS;case"service":return C.SERVICE;case"portal-item":return C.PORTAL_ITEM;case"web-scene":return C.WEB_SCENE;case"web-map":return C.WEB_MAP;case"link-chart":return C.LINK_CHART;case"user":return C.USER;default:return null}}function rl(e){switch(e){case C.DEFAULTS:return"defaults";case C.SERVICE:return"service";case C.PORTAL_ITEM:return"portal-item";case C.WEB_SCENE:return"web-scene";case C.WEB_MAP:return"web-map";case C.LINK_CHART:return"link-chart";case C.USER:return"user"}}function G1(e){return rl(e)}var U;(function(e){e[e.Dirty=1]="Dirty",e[e.Overriden=2]="Overriden",e[e.Computing=4]="Computing",e[e.NonNullable=8]="NonNullable",e[e.HasDefaultValue=16]="HasDefaultValue",e[e.DepTrackingInitialized=32]="DepTrackingInitialized",e[e.AutoTracked=64]="AutoTracked",e[e.ExplicitlyTracking=128]="ExplicitlyTracking"})(U||(U={}));const fo={onObservableAccessed:()=>{},onTrackingEnd:()=>{}},Qn=[];let _s=fo;function A(e){_s.onObservableAccessed(e)}let Di=!1,Ri=!1;function hr(e,t,r){if(Di)return lc(e,t,r);Ff(e);const n=t.call(r);return Lf(),n}function q1(e,t){return hr(fo,e,t)}function lc(e,t,r){const n=Di;Di=!0,Ff(e);let s=null;try{s=t.call(r)}catch(o){Ri&&V.getLogger("esri.core.accessorSupport.tracking").error(o)}return Lf(),Di=n,s}function Ff(e){_s=e,Qn.push(e)}function Lf(){const e=Qn.length;if(e>1){const t=Qn.pop();_s=Qn[e-2],t.onTrackingEnd()}else if(e===1){const t=Qn.pop();_s=fo,t.onTrackingEnd()}else _s=fo}function jf(e,t){if(t.flags&U.DepTrackingInitialized)return;const r=Ri;Ri=!1,t.flags&U.AutoTracked?lc(t,t.metadata.get,e):Uf(e,t),Ri=r}const V1=[];function Uf(e,t){t.flags&U.ExplicitlyTracking||(t.flags|=U.ExplicitlyTracking,lc(t,()=>{const r=t.metadata.dependsOn||V1;for(const n of r)if(typeof n!="string"||n.includes(".")){const s=Nf(n);for(let o=0,a=e;o<s.length&&a!=null&&typeof a=="object";++o)a=Mh(a,s[o],o!==s.length-1)}else Mh(e,n,!1)}),t.flags&=~U.ExplicitlyTracking)}function Mh(e,t,r){const n=t[t.length-1]==="?"?t.slice(0,-1):t;if(e.getItemAt!=null||Array.isArray(e)){const o=parseInt(n,10);if(!isNaN(o))return Array.isArray(e)?e[o]:e.at(o)}const s=cr(e);if(s){const o=s.propertiesByName.get(n);o&&(A(o),jf(e,o))}return r?e[n]:void 0}let Eh=class extends Df{constructor(t,r){super(),this.propertyName=t,this.metadata=r,this._accessed=null,this._handles=null,this.flags=0,this.flags=U.Dirty|(r.nonNullable?U.NonNullable:0)|(r.hasOwnProperty("value")?U.HasDefaultValue:0)|(r.get===void 0?U.DepTrackingInitialized:0)|(r.dependsOn===void 0?U.AutoTracked:0)}destroy(){this.flags&U.Dirty&&this.onCommitted(),super.destroy(),this._accessed=null,this._clearObservationHandles()}getComputed(t){A(this);const r=t.store,n=this.propertyName,s=this.flags,o=r.get(n);if(s&U.Computing||~s&U.Dirty&&r.has(n))return o;this.flags|=U.Computing;const a=t.host;let l;s&U.AutoTracked?l=hr(this,this.metadata.get,a):(Uf(a,this),l=this.metadata.get.call(a)),r.set(n,l,C.COMPUTED);const c=r.get(n);return c===o?this.flags&=~U.Dirty:q1(this.commit,this),this.flags&=~U.Computing,c}onObservableAccessed(t){if(t===this)return;let r=this._accessed;if(r==null)r=[],this._accessed=r;else if(r.includes(t))return;r.push(t)}onTrackingEnd(){this._clearObservationHandles(),this.flags|=U.DepTrackingInitialized;const t=this._accessed;if(t==null||t.length===0)return;let r=this._handles;r==null&&(r=[],this._handles=r);for(let n=0;n<t.length;++n)r.push(t[n].observe(this));t.length=0}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}commit(){this.flags&=~U.Dirty,this.onCommitted()}_clearObservationHandles(){const t=this._handles;if(t!==null){for(let r=0;r<t.length;++r)t[r].remove();t.length=0}}onInvalidated(){~this.flags&U.Overriden&&(this.flags|=U.Dirty);const t=this._observers;if(t&&t.length>0)for(const r of t)r.onInvalidated()}onCommitted(){const t=this._observers;if(t&&t.length>0){const r=t.slice();for(const n of r)n.onCommitted()}}},B1=class zf{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const r=new zf;return this._values.forEach((n,s)=>{t&&t.has(s)||r.set(s,T(n))}),r}get(t){return this._values.get(t)}originOf(){return C.USER}keys(){return[...this._values.keys()]}set(t,r){this._values.set(t,r)}delete(t){this._values.delete(t)}has(t){return this._values.has(t)}forEach(t){this._values.forEach(t)}};function hi(e,t,r){return e!==void 0}function Ah(e,t,r,n){return e!==void 0&&(!(r==null&&e.flags&U.NonNullable)||(n.lifecycle,Mt.INITIALIZING,!1))}function W1(e){return e&&typeof e.destroy=="function"}V.getLogger("esri.core.accessorSupport.Properties");let H1=class{constructor(t){this.host=t,this.propertiesByName=new Map,this.ctorArgs=null,this.destroyed=!1,this.lifecycle=Mt.INITIALIZING,this.store=new B1,this._origin=C.USER;const r=this.host.constructor.__accessorMetadata__;for(const n in r){const s=new Eh(n,r[n]);this.propertiesByName.set(n,s)}this.metadatas=r}initialize(){this.lifecycle=Mt.CONSTRUCTING}constructed(){this.lifecycle=Mt.CONSTRUCTED}destroy(){this.destroyed=!0;for(const[t,r]of this.propertiesByName){if(r.metadata.autoDestroy){const n=this.internalGet(t);n&&W1(n)&&(n.destroy(),~r.flags&U.NonNullable&&this._internalSet(r,null))}r.destroy()}}get initialized(){return this.lifecycle!==Mt.INITIALIZING}get(t){const r=this.propertiesByName.get(t);if(r.metadata.get)return r.getComputed(this);A(r);const n=this.store;return n.has(t)?n.get(t):r.metadata.value}originOf(t){const r=this.store.originOf(t);if(r===void 0){const n=this.propertiesByName.get(t);if(n!==void 0&&n.flags&U.HasDefaultValue)return"defaults"}return rl(r)}has(t){return!!this.propertiesByName.has(t)&&this.store.has(t)}keys(){return[...this.propertiesByName.keys()]}internalGet(t){const r=this.propertiesByName.get(t);if(hi(r))return this.store.has(t)?this.store.get(t):r.metadata.value}internalSet(t,r){const n=this.propertiesByName.get(t);hi(n)&&this._internalSet(n,r)}getDependsInfo(t,r,n){const s=this.propertiesByName.get(r);if(!hi(s))return"";const o=new Set,a=hr({onObservableAccessed:c=>o.add(c),onTrackingEnd:()=>{}},()=>{var c;return(c=s.metadata.get)==null?void 0:c.call(t)});let l=`${n}${t.declaredClass.split(".").pop()}.${r}: ${a}
`;if(o.size===0)return l;n+="  ";for(const c of o)c instanceof Eh&&(l+=`${n}${c.propertyName}: undefined
`);return l}setAtOrigin(t,r,n){const s=this.propertiesByName.get(t);if(hi(s))return this._setAtOrigin(s,r,n)}isOverridden(t){const r=this.propertiesByName.get(t);return r!==void 0&&!!(r.flags&U.Overriden)}clearOverride(t){const r=this.propertiesByName.get(t);r&&r.flags&U.Overriden&&(r.flags&=~U.Overriden,r.notifyChange())}override(t,r){const n=this.propertiesByName.get(t);if(!Ah(n,t,r,this))return;const s=n.metadata.cast;if(s){const o=this._cast(s,r),{valid:a,value:l}=o;if(xa.release(o),!a)return;r=l}n.flags|=U.Overriden,this._internalSet(n,r)}set(t,r){const n=this.propertiesByName.get(t);if(!Ah(n,t,r,this))return;const s=n.metadata.cast;if(s){const a=this._cast(s,r),{valid:l,value:c}=a;if(xa.release(a),!l)return;r=c}const o=n.metadata.set;o?o.call(this.host,r):this._internalSet(n,r)}setDefaultOrigin(t){this._origin=Rf(t)}getDefaultOrigin(){return rl(this._origin)}notifyChange(t){const r=this.propertiesByName.get(t);r!==void 0&&r.notifyChange()}invalidate(t){const r=this.propertiesByName.get(t);r!==void 0&&r.invalidate()}commit(t){const r=this.propertiesByName.get(t);r!==void 0&&r.commit()}_internalSet(t,r){const n=this.lifecycle!==Mt.INITIALIZING?this._origin:C.DEFAULTS;this._setAtOrigin(t,r,n)}_setAtOrigin(t,r,n){const s=this.store,o=t.propertyName;s.has(o,n)&&ic(r,s.get(o))&&~t.flags&U.Overriden&&n===s.originOf(o)||(t.invalidate(),s.set(o,r,n),t.commit(),jf(this.host,t))}_cast(t,r){const n=xa.acquire();return n.valid=!0,n.value=r,t&&(n.value=t.call(this.host,r,n)),n}},Z1=class{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}};const xa=new Js(Z1);function po(e,t,r){if(e&&t)if(typeof t=="object")for(const n of Object.getOwnPropertyNames(t))po(e,n,t[n]);else{if(t.includes(".")){const s=t.split("."),o=s.splice(-1,1)[0];return void po(zr(e,s),o,r)}const n=e.__accessor__;n!=null&&J1(t,n),e[t]=r}}function J1(e,t){if($("esri-unknown-property-errors")&&!Y1(e,t))throw new G("set:unknown-property",K1(e,t))}function Y1(e,t){return t.metadatas[e]!=null}function K1(e,t){return"setting unknown property '"+e+"' on instance of "+t.host.declaredClass}let Q1;function X1(){return Q1}var Ph;(function(e){e[e.Ignore=0]="Ignore",e[e.Destroy=1]="Destroy",e[e.ThrowError=2]="ThrowError"})(Ph||(Ph={}));function eg(e){e.length=0}let er=class{constructor(t=50,r=50){this._pool=new Js(Array,void 0,eg,r,t)}acquire(){return this._pool.acquire()}release(t){this._pool.release(t)}prune(){this._pool.prune(0)}static acquire(){return Ta.acquire()}static release(t){return Ta.release(t)}static prune(){Ta.prune()}};const Ta=new er(100);let tg=class extends Js{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=null}acquire(...t){const r=super.acquire(...t);return this._set.delete(r),r}release(t){t&&!this._set.has(t)&&(super.release(t),this._set.add(t))}_dispose(t){this._set.delete(t),super._dispose(t)}};const di=[];function Gf(e){di.push(e),di.length===1&&queueMicrotask(()=>{const t=di.slice();di.length=0;for(const r of t)r()})}let qf=class{constructor(t,r=30){this.name=t,this._counter=0,this._samples=new Array(r)}record(t){t!=null&&(this._samples[++this._counter%this._samples.length]=t)}get median(){return this._samples.slice().sort((t,r)=>t-r)[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce((t,r)=>t+r,0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}};var nl;(function(e){const t=(o,a,l,c)=>{let d=a,p=a;const m=l>>>1,y=o[d-1];for(;p<=m;){p=d<<1,p<l&&c(o[p-1],o[p])<0&&++p;const g=o[p-1];if(c(g,y)<=0)break;o[d-1]=g,d=p}o[d-1]=y},r=(o,a)=>o<a?-1:o>a?1:0;function n(o,a,l,c){a===void 0&&(a=0),l===void 0&&(l=o.length),c===void 0&&(c=r);for(let p=l>>>1;p>a;p--)t(o,p,l,c);const d=a+1;for(let p=l-1;p>a;p--){const m=o[a];o[a]=o[p],o[p]=m,t(o,d,p,c)}}function*s(o,a,l,c){a===void 0&&(a=0),l===void 0&&(l=o.length),c===void 0&&(c=r);for(let p=l>>>1;p>a;p--)t(o,p,l,c),yield;const d=a+1;for(let p=l-1;p>a;p--){const m=o[a];o[a]=o[p],o[p]=m,t(o,d,p,c),yield}}e.sort=n,e.iterableSort=s})(nl||(nl={}));const Nh=nl,rg=1.5,ng=1.1;let Vf=class{constructor(t){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new cf,t&&(t.initialSize&&(this.data=new Array(t.initialSize)),t.allocator&&(this._allocator=t.allocator),t.deallocator!==void 0&&(this._deallocator=t.deallocator),t.shrink&&(this._shrink=()=>Ih(this)))}toArray(){return this.data.slice(0,this.length)}filter(t){const r=new Array;for(let n=0;n<this._length;n++){const s=this.data[n];t(s)&&r.push(s)}return r}at(t){if((t=Math.trunc(t)||0)<0&&(t+=this._length),!(t<0||t>=this._length))return this.data[t]}includes(t,r){const n=this.data.indexOf(t,r);return n!==-1&&n<this.length}get length(){return this._length}set length(t){if(t>this._length){if(this._allocator){for(;this._length<t;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=t}else{if(this._deallocator)for(let r=t;r<this._length;++r)this.data[r]=this._deallocator(this.data[r]);this._length=t,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(t){this.data[this._length++]=t}pushArray(t,r=t.length){for(let n=0;n<r;n++)this.data[this._length++]=t[n]}fill(t,r){for(let n=0;n<r;n++)this.data[this._length++]=t}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const t=this.data[this._length];return++this._length,t}unshift(t){this.data.unshift(t),this._length++,Ih(this)}pop(){if(this.length===0)return;const t=this.data[this.length-1];return this.length=this.length-1,this._shrink(),t}remove(t){const r=Qa(this.data,t,this.length,this._hint);if(r!==-1)return this.data.splice(r,1),this.length=this.length-1,t}removeUnordered(t){return this.removeUnorderedIndex(Qa(this.data,t,this.length,this._hint))}removeUnorderedIndex(t){if(!(t>=this.length||t<0))return this.swapElements(t,this.length-1),this.pop()}removeUnorderedMany(t,r=t.length,n){this.length=h1(this.data,t,this.length,r,this._hint,n),this._shrink()}front(){if(this.length!==0)return this.data[0]}back(){if(this.length!==0)return this.data[this.length-1]}swapElements(t,r){if(t>=this.length||r>=this.length||t===r)return;const n=this.data[t];this.data[t]=this.data[r],this.data[r]=n}sort(t){Nh.sort(this.data,0,this.length,t)}iterableSort(t){return Nh.iterableSort(this.data,0,this.length,t)}some(t,r){for(let n=0;n<this.length;++n)if(t.call(r,this.data[n],n,this.data))return!0;return!1}find(t,r){for(let n=0;n<this.length;++n){const s=this.data[n];if(t.call(r,s,n))return s}}filterInPlace(t,r){let n=0;for(let s=0;s<this._length;++s){const o=this.data[s];t.call(r,o,s,this.data)&&(this.data[s]=this.data[n],this.data[n]=o,n++)}if(this._deallocator)for(let s=n;s<this._length;s++)this.data[s]=this._deallocator(this.data[s]);return this._length=n,this._shrink(),this}forAll(t,r){const n=this.length,s=this.data;for(let o=0;o<n;++o)t.call(r,s[o],o,s)}forEach(t,r){for(let n=0;n<this.length;++n)t.call(r,this.data[n],n,this.data)}map(t,r){const n=new Array(this.length);for(let s=0;s<this.length;++s)n[s]=t.call(r,this.data[s],s,this.data);return n}reduce(t,r){let n=r;for(let s=0;s<this.length;++s)n=t(n,this.data[s],s,this.data);return n}has(t){const r=this.length,n=this.data;for(let s=0;s<r;++s)if(n[s]===t)return!0;return!1}};function Ih(e){e.data.length>rg*e.length&&(e.data.length=Math.floor(e.length*ng))}function sg(e){return{setTimeout:(t,r)=>{const n=e.setTimeout(t,r);return de(()=>e.clearTimeout(n))}}}const ig=sg(globalThis);function uc(e){return e&&(typeof e.on=="function"||typeof e.addEventListener=="function")}function Bf(e,t,r){if(!uc(e))throw new TypeError("target is not a Evented or EventTarget object");if("on"in e)return e.on(t,r);if(Array.isArray(t)){const n=t.slice();for(const s of n)e.addEventListener(s,r);return de(()=>{for(const s of n)e.removeEventListener(s,r)})}return e.addEventListener(t,r),de(()=>e.removeEventListener(t,r))}function Wf(e,t,r){if(!uc(e))throw new TypeError("target is not a Evented or EventTarget object");if("once"in e)return e.once(t,r);const n=Bf(e,t,s=>{n.remove(),r.call(e,s)});return n}const og={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};function cx({key:e}){return og[e]||e}function Ee(e="Aborted"){return new G("AbortError",e)}function Ds(e,t="Aborted"){if(Gr(e))throw Ee(t)}function Xo(e){return e!=null?"aborted"in e?e:e.signal:e}function Gr(e){const t=Xo(e);return t!=null&&t.aborted}function Hf(e){if(Ys(e))throw e}function hx(e){if(!Ys(e))throw e}function bn(e,t){const r=Xo(e);if(r!=null){if(!r.aborted)return Wf(r,"abort",()=>t());t()}}function ag(e,t){const r=Xo(e);if(r!=null)return Ds(r),Wf(r,"abort",()=>t(Ee()))}function dx(e,t){return Xo(t)==null?e:new Promise((r,n)=>{let s=bn(t,()=>n(Ee()));const o=()=>{s=Nn(s)};e.then(o,o),e.then(r,n)})}function Ys(e){return(e==null?void 0:e.name)==="AbortError"}async function fx(e){try{return await e}catch(t){if(!Ys(t))throw t;return}}async function ea(e){if(!e)return;if(typeof e.forEach!="function"){const r=Object.keys(e),n=r.map(a=>e[a]),s=await ea(n),o={};return r.map((a,l)=>o[a]=s[l]),o}const t=e;return Promise.allSettled(t).then(r=>Array.from(t,(n,s)=>{const o=r[s];return o.status==="fulfilled"?{promise:n,value:o.value}:{promise:n,error:o.reason}}))}async function px(e){return(await ea(e)).filter(t=>!!t.value).map(t=>t.value)}async function mx(e){return(await Promise.allSettled(e)).filter(t=>t.status==="fulfilled").map(t=>t.value)}async function yx(e){return(await Promise.allSettled(e)).filter(t=>t.status==="rejected").map(t=>t.reason)}function lg(e,t=void 0,r){const n=new AbortController;return bn(r,()=>n.abort()),new Promise((s,o)=>{let a=setTimeout(()=>{a=0,s(t)},e);bn(n,()=>{a&&(clearTimeout(a),o(Ee()))})})}function Zf(e){return e&&typeof e.then=="function"}function Ch(e){return Zf(e)?e:Promise.resolve(e)}function gx(e,t=-1){let r,n,s,o,a=null;const l=(...c)=>{if(r){n=c,o&&o.reject(Ee()),o=$n();const y=o.promise;if(a){const g=a;a=null,g.abort()}return y}if(s=o||$n(),o=null,t>0){const y=new AbortController;r=Ch(e(...c,y.signal));const g=r;lg(t).then(()=>{r===g&&(o?y.abort():a=y)})}else r=1,r=Ch(e(...c));const d=()=>{const y=n;n=s=r=a=null,y!=null&&l(...y)},p=r,m=s;return p.then(d,d),p.then(m.resolve,m.reject),m.promise};return l}function $n(){let e,t;const r=new Promise((s,o)=>{e=s,t=o}),n=s=>{e(s)};return n.resolve=s=>e(s),n.reject=s=>t(s),n.timeout=(s,o)=>ig.setTimeout(()=>n.reject(o),s),n.promise=r,n}async function wx(e){await Promise.resolve(),Ds(e)}function vx(e){return e}function bx(e){return 1e3*e}function $x(e){return e}let ug=class{constructor(t){this.phases=t,this.paused=!1,this.ticks=-1,this.removed=!1}},cg=class{constructor(t){this.callback=t,this.isActive=!0}remove(){this.isActive=!1}},sl=0;const zn={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},il=["prepare","preRender","render","postRender","update","finish"],ol=[],qr=new Vf;let hg=class{constructor(t){this._task=t}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1}};const mo={frameTasks:qr,willDispatch:!1,clearFrameTasks:dg,dispatch:Qf,executeFrameTasks:fg};function Jf(e){const t=new cg(e);return ol.push(t),mo.willDispatch||(mo.willDispatch=!0,Gf(Qf)),t}function Tx(e){const t=new ug(e);return qr.push(t),yo==null&&(sl=performance.now(),yo=requestAnimationFrame(Yf)),new hg(t)}let yo=null;function dg(e=!1){qr.forAll(t=>{t.removed=!0}),e&&Kf()}function Yf(){const e=performance.now();yo=null,yo=qr.length>0?requestAnimationFrame(Yf):null,mo.executeFrameTasks(e)}function fg(e){const t=e-sl;sl=e;const r=1e3/60,n=Math.max(0,t-r);zn.time=e,zn.frameDuration=r-n;for(let s=0;s<il.length;s++){const o=performance.now(),a=il[s];qr.forAll(l=>{var c;l.paused||l.removed||(s===0&&l.ticks++,l.phases[a]&&(zn.elapsedFrameTime=performance.now()-e,zn.deltaTime=l.ticks===0?0:t,(c=l.phases[a])==null||c.call(l,zn)))}),pg[s].record(performance.now()-o)}Kf(),mg.record(performance.now()-e)}const fi=new Vf;function Kf(){qr.forAll(e=>{e.removed&&fi.push(e)}),qr.removeUnorderedMany(fi.data,fi.length),fi.clear()}function Qf(){for(;ol.length;){const e=ol.shift();e.isActive&&e.callback()}mo.willDispatch=!1}function Ox(e=1,t){const r=$n(),n=()=>{Gr(t)?r.reject(Ee()):e===0?r():(--e,Gf(()=>n()))};return n(),r.promise}const pg=il.map(e=>new qf(e)),mg=new qf("total");function yg(e,t){for(const r of e.entries())if(t(r[0]))return!0;return!1}function kh(e,t){if(!t)return e;for(const r of t)e.add(r);return e}function gg(e,t){const r=new Set;return kh(r,e),kh(r,t),r}function Mx(e,t){const r=new Set;for(const n of t)e.has(n)&&r.add(n);return r}function Ex(e,t){if(!e||!t)return!1;if(e===t)return!0;for(const r of e)if(!t.has(r))return!1;return!0}function Ax(e,t){if(e==null&&t==null)return!0;if(e==null||t==null||e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}function Px(e,t){const r=new Set(e);for(const n of t)r.delete(n);return r}let wg=0;function Ss(){return++wg}let cc=class{constructor(t){this._accessed=[],this._handles=[],this._observerObject=new vg(t),Dh.register(this,new WeakRef(this._observerObject),this)}destroy(){var t;Dh.unregister(this._observerObject),this._accessed.length=0,(t=this._observerObject)==null||t.destroy(),this.clear()}onObservableAccessed(t){const r=this._accessed;r.includes(t)||r.push(t)}onTrackingEnd(){const t=this._handles,r=this._accessed,n=this._observerObject;for(let s=0;s<r.length;++s)t.push(r[s].observe(n));r.length=0}clear(){const t=this._handles;for(let r=0;r<t.length;++r)t[r].remove();t.length=0}},vg=class{constructor(t){this._notify=t,this._invalidCount=0,this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(this.destroyed)return;const t=this._invalidCount;if(t===1)return this._invalidCount=0,void this._notify();this._invalidCount=t>0?t-1:0}destroy(){this.destroyed=!0,this._notify=bg}};const Dh=new FinalizationRegistry(e=>{var t;(t=e.deref())==null||t.destroy()});function bg(){}let mn=!1;const go=[];function Xf(e,t){let r=new cc(o),n=null,s=!1;function o(){if(!r||s)return;if(mn)return void t0(o);const l=n;r.clear(),mn=!0,s=!0,n=hr(r,e),s=!1,mn=!1,t(n,l),r0()}function a(){r&&(r.destroy(),r=null,n=null)}return s=!0,n=hr(r,e),s=!1,de(a)}function e0(e,t){let r=new cc(s),n=null;function s(){t(n,a)}function o(){r&&(r.destroy(),r=null),n=null}function a(){return r?(r.clear(),n=hr(r,e),n):null}return a(),de(o)}function Cx(e){let t=new cc(n),r=!1;function n(){t&&!r&&(mn?t0(n):(t.clear(),mn=!0,r=!0,hr(t,e),r=!1,mn=!1,r0()))}function s(){t&&(t.destroy(),t=null)}return r=!0,hr(t,e),r=!1,de(s)}function t0(e){go.includes(e)||go.unshift(e)}function r0(){for(;go.length;)go.pop()()}var xs;(function(e){e[e.Untracked=0]="Untracked",e[e.Tracked=1]="Tracked"})(xs||(xs={}));let Rs=class{constructor(){this.uid=Ss(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(t,r,n,s,o){return this.pool.acquire(xs.Untracked,t,r,n,s,o,ic)}static acquireTracked(t,r,n,s){return this.pool.acquire(xs.Tracked,t,r,n,null,null,s)}notify(t,r){this.type===xs.Untracked?this.callback.call(this.target,t,r,this.path,this.target):this.callback.call(null,t,r,void 0,void 0)}acquire(t,r,n,s,o,a,l){this.uid=Ss(),this.removed=!1,this.type=t,this.oldValue=r,this.callback=n,this.getValue=s,this.target=o,this.path=a,this.equals=l}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=Ss(),this.removed=!0}};Rs.pool=new tg(Rs);const Fi=new er,Pt=new Set;let wo;function vo(e){Pt.delete(e),Pt.add(e),wo||(wo=Jf(Sg))}function $g(e){if(e.removed)return;const t=e.oldValue,r=e.getValue();e.equals(t,r)||(e.oldValue=r,e.notify(r,t))}function _g(e){for(const t of Pt.values())t.target===e&&(t.removed=!0)}function Sg(){let e=10;for(;wo&&e--;){wo=null;const t=xg(),r=Fi.acquire();for(const n of t){const s=n.uid;$g(n),s===n.uid&&n.removed&&r.push(n)}for(const n of Pt)n.removed&&(r.push(n),Pt.delete(n));for(const n of r)Rs.pool.release(n);Fi.release(r),Fi.release(t),al.forEach(n=>n())}}function xg(){const e=Fi.acquire();e.length=Pt.size;let t=0;for(const r of Pt)e[t]=r,++t;return Pt.clear(),e}const al=new Set;function Dx(e){return al.add(e),de(()=>al.delete(e))}function Tg(e,t,r){let n=If(e,t,r,(s,o,a)=>{let l,c,d=e0(()=>Hs(s,o),(p,m)=>{s.__accessor__.destroyed||l&&l.uid!==c?n.remove():(l||(l=Rs.acquireUntracked(p,a,m,s,o),c=l.uid),vo(l))});return de(()=>{d.remove(),l&&(l.uid!==c||l.removed||(l.removed=!0,vo(l)),l=null),n=d=null})});return n}function Og(e,t,r){const n=If(e,t,r,(s,o,a)=>{let l=!1;return Xf(()=>Hs(s,o),(c,d)=>{s.__accessor__.destroyed?n.remove():l||(l=!0,ic(d,c)||a.call(s,c,d,o,s),l=!1)})});return n}function Mg(e,t,r,n=!1){return!e.__accessor__||e.__accessor__.destroyed?de():n?Og(e,t,r):Tg(e,t,r)}function Eg(e,t,r){let n,s,o=e0(e,(a,l)=>{n&&n.uid!==s?o.remove():(n||(n=Rs.acquireTracked(a,t,l,r),s=n.uid),vo(n))});return de(()=>{o.remove(),n&&(n.uid!==s||n.removed||(n.removed=!0,vo(n)),n=null),o=null})}function Ag(e,t,r){let n=!1;return Xf(e,(s,o)=>{n||(n=!0,r(o,s)||t(s,o),n=!1)})}function Pg(e,t,r=!1,n=b1){return r?Ag(e,t,n):Eg(e,t,n)}function Rx(e){return yg(Pt,t=>t.oldValue===e)}function Fx(e,t){for(const[r,n]of e)if(t(n,r))return!0;return!1}function Ng(e,t,r){const n=e.get(t);if(n!==void 0)return n;const s=r();return e.set(t,s),s}const yn=V.getLogger("esri.core.accessorSupport.ensureTypes");function Ig(e){return e==null?e:new Date(e)}function Cg(e){return e==null?e:!!e}function kg(e){return e==null?e:e.toString()}function hc(e){return e==null?e:(e=parseFloat(e),isNaN(e)?0:e)}function dc(e){return e==null?e:Math.round(parseFloat(e))}function n0(e){return(e==null?void 0:e.constructor)&&e.constructor.__accessorMetadata__!==void 0}function bo(e,t){return t!=null&&e&&!(t instanceof e)}function s0(e){return e&&"isCollection"in e}function Rh(e){return e!=null&&e.Type?typeof e.Type=="function"?e.Type:e.Type.base:null}function Dg(e,t){if(!(t!=null&&t.constructor)||!s0(t.constructor))return ll(e,t)?t:new e(t);const r=Rh(e.prototype.itemType),n=Rh(t.constructor.prototype.itemType);return r?n?r===n?t:r.prototype.isPrototypeOf(n.prototype)?new e(t):(ll(e,t),t):new e(t):t}function ll(e,t){return!!n0(t)&&(yn.error("Accessor#set","Assigning an instance of '"+(t.declaredClass||"unknown")+"' which is not a subclass of '"+ta(e)+"'"),!0)}function Rg(e,t){return t==null?t:s0(e)?Dg(e,t):bo(e,t)?ll(e,t)?t:new e(t):t}function ta(e){var t;return((t=e==null?void 0:e.prototype)==null?void 0:t.declaredClass)||"unknown"}const Fg=new WeakMap;function Lg(e){switch(e){case Number:return hc;case we:return dc;case Boolean:return Cg;case String:return kg;case Date:return Ig;default:return Ng(Fg,e,()=>Rg.bind(null,e))}}function Ke(e,t){const r=Lg(e);return arguments.length===1?r:r(t)}function Fs(e,t,r){return arguments.length===1?Fs.bind(null,e):t&&(Array.isArray(t)?t.map(n=>e(n,r)):[e(t,r)])}function jg(e,t){return arguments.length===1?Fs(r=>Ke(e,r)):Fs(r=>Ke(e,r),t)}function i0(e,t,r){return t!==0&&Array.isArray(r)?r.map(n=>i0(e,t-1,n)):e(r)}function $o(e,t,r){if(arguments.length===2)return o=>$o(e,t,o);if(!r)return r;r=i0(e,t,r);let n=t,s=r;for(;n>0&&Array.isArray(s);)n--,s=s[0];if(s!==void 0)for(let o=0;o<n;o++)r=[r];return r}function Ug(e,t,r){return arguments.length===2?$o(n=>Ke(e,n),t):$o(n=>Ke(e,n),t,r)}function o0(e){return!!Array.isArray(e)&&!e.some(t=>{const r=typeof t;return!(r==="string"||r==="number"||r==="function"&&e.length>1)})}function ul(e,t){if(arguments.length===2)return ul(e).call(null,t);const r=new Set,n=e.filter(l=>typeof l!="function"),s=e.filter(l=>typeof l=="function");for(const l of e)typeof l!="string"&&typeof l!="number"||r.add(l);let o=null,a=null;return(l,c)=>{if(l==null)return l;const d=typeof l,p=d==="string"||d==="number";return p&&(r.has(l)||s.some(m=>d==="string"&&m===String||d==="number"&&m===Number))||d==="object"&&s.some(m=>!bo(l,m))?l:(p&&n.length?(o||(o=n.map(m=>typeof m=="string"?`'${m}'`:`${m}`).join(", ")),yn.error("Accessor#set",`'${l}' is not a valid value for this property, only the following values are valid: ${o}`)):typeof l=="object"&&s.length?(a||(a=s.map(m=>ta(m)).join(", ")),yn.error("Accessor#set",`'${l}' is not a valid value for this property, value must be one of ${a}`)):yn.error("Accessor#set",`'${l}' is not a valid value for this property`),c&&(c.valid=!1),null)}}function Vr(e,t){if(arguments.length===2)return Vr(e).call(null,t);const r={},n=[],s=[];for(const c in e.typeMap){const d=e.typeMap[c];r[c]=Ke(d),n.push(ta(d)),s.push(c)}const o=()=>`'${n.join("', '")}'`,a=()=>`'${s.join("', '")}'`,l=typeof e.key=="string"?c=>c[e.key]:e.key;return c=>{if(e.base&&!bo(e.base,c)||c==null)return c;const d=l(c)||e.defaultKeyValue,p=r[d];if(!p)return yn.error("Accessor#set",`Invalid property value, value needs to be one of ${o()}, or a plain object that can autocast (having .type = ${a()})`),null;if(!bo(e.typeMap[d],c))return c;if(typeof e.key=="string"&&!n0(c)){const m={};for(const y in c)y!==e.key&&(m[y]=c[y]);return p(m)}return p(c)}}let we=class{};const jx={native:e=>({type:"native",value:e}),array:e=>({type:"array",value:e}),oneOf:e=>({type:"one-of",values:e})};function zg(e){if(!e||!("type"in e))return!1;switch(e.type){case"native":case"array":case"one-of":return!0}return!1}function a0(e){switch(e.type){case"native":return Ke(e.value);case"array":return Fs(a0(e.value));case"one-of":return Gg(e);default:return null}}function Gg(e){let t=null;return(r,n)=>hl(r,e)?r:(t==null&&(t=cl(e)),yn.error("Accessor#set",`Invalid property value, value needs to be of type ${t}`),n&&(n.valid=!1),null)}function cl(e){switch(e.type){case"native":switch(e.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case we:return"integer";case Date:return"date";default:return ta(e.value)}case"array":return`array of ${cl(e.value)}`;case"one-of":{const t=e.values.map(r=>cl(r));return`one of ${t.slice(0,-1)} or ${t[t.length-1]}`}}return"unknown"}function hl(e,t){if(e==null)return!0;switch(t.type){case"native":switch(t.value){case Number:case we:return typeof e=="number";case Boolean:return typeof e=="boolean";case String:return typeof e=="string"}return e instanceof t.value;case"array":return!!Array.isArray(e)&&!e.some(r=>!hl(r,t.value));case"one-of":return t.values.some(r=>hl(e,r))}}function h(e={}){return(t,r)=>{if(t===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${t.name}.${r}. Accessor does not support static properties.`);const n=Object.getOwnPropertyDescriptor(t,r),s=Qo(t,r);n&&(n.get||n.set?(s.get=n.get||s.get,s.set=n.set||s.set):"value"in n&&("value"in e&&V.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${r}" on "${t.constructor.name}" already defined in the metadata`,e),s.value=e.value=n.value)),e.readOnly!=null&&(s.readOnly=e.readOnly);const o=e.aliasOf;if(o){const c=typeof o=="string"?o:o.source,d=typeof o=="string"?null:o.overridable===!0;let p;s.dependsOn=[c],s.get=function(){let m=zr(this,c);if(typeof m=="function"){p||(p=c.split(".").slice(0,-1).join("."));const y=zr(this,p);y&&(m=m.bind(y))}return m},s.readOnly||(s.set=d?function(m){this._override(r,m)}:function(m){po(this,c,m)})}const a=e.type,l=e.types;s.cast||(a?s.cast=qg(a):l&&(Array.isArray(l)?s.cast=Fs(Vr(l[0])):s.cast=Vr(l))),D1(s,e),e.range&&(s.cast=Vg(s.cast,e.range))}}function l0(e,t,r){const n=Qo(e,r);n.json||(n.json={});let s=n.json;return t!==void 0&&(s.origins||(s.origins={}),s.origins[t]||(s.origins[t]={}),s=s.origins[t]),s}function qg(e){let t=0,r=e;if(zg(e))return a0(e);for(;Array.isArray(r)&&r.length===1&&typeof r[0]!="string"&&typeof r[0]!="number";)r=r[0],t++;const n=r;if(o0(n))return t===0?ul(n):$o(ul(n),t);if(t===1)return jg(n);if(t>1)return Ug(n,t);const s=e;return s.from?s.from:Ke(s)}function Vg(e,t){return r=>{let n=+e(r);return t.step!=null&&(n=Math.round(n/t.step)*t.step),t.min!=null&&(n=Math.max(t.min,n)),t.max!=null&&(n=Math.min(t.max,n)),n}}function Bg(e){if(e.json&&e.json.origins){const t=e.json.origins,r={"web-document":["web-scene","web-map"]};for(const n in r)if(t[n]){const s=t[n];r[n].forEach(o=>{t[o]=s}),delete t[n]}}}let Ls=class extends Mf{constructor(t,r,n){super(t,r,n)}};Ls.prototype.type="warning";function u0(e){var t;return!!e&&((t=e.prototype)==null?void 0:t.declaredClass)&&e.prototype.declaredClass.indexOf("esri.core.Collection")===0}const dl=V.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function Fh(e,t,r){var n,s;e&&(!r&&!t.read||(n=t.read)!=null&&n.reader||((s=t.read)==null?void 0:s.enabled)===!1||Zg(e)&&Pn("read.reader",c0(e),t))}function c0(e){var r,n;const t=e.ndimArray??0;if(t>1)return Hg(e);if(t===1)return Lh(e);if("type"in e&&d0(e.type)){const s=(n=(r=e.type.prototype)==null?void 0:r.itemType)==null?void 0:n.Type,o=Lh(typeof s=="function"?{type:s}:{types:s});return(a,l,c)=>{const d=o(a,l,c);return d&&new e.type(d)}}return fc(e)}function fc(e){return"type"in e?Wg(e.type):Jg(e.types)}function Wg(e){return e.prototype.read?(t,r,n)=>{if(t==null)return t;const s=typeof t;if(s!=="object")return void dl.error(`Expected JSON value of type 'object' to deserialize type '${e.prototype.declaredClass}', but got '${s}'`);const o=new e;return o.read(t,n),o}:e.fromJSON}function h0(e,t,r,n){return n!==0&&Array.isArray(t)?t.map(s=>h0(e,s,r,n-1)):e(t,void 0,r)}function Hg(e){const t=fc(e),r=h0.bind(null,t),n=e.ndimArray??0;return(s,o,a)=>{if(s==null)return s;s=r(s,a,n);let l=n,c=s;for(;l>0&&Array.isArray(c);)l--,c=c[0];if(c!==void 0)for(let d=0;d<l;d++)s=[s];return s}}function Lh(e){const t=fc(e);return(r,n,s)=>{if(r==null)return r;if(Array.isArray(r)){const a=[];for(const l of r){const c=t(l,void 0,s);c!==void 0&&a.push(c)}return a}const o=t(r,void 0,s);return o!==void 0?[o]:void 0}}function d0(e){if(!u0(e))return!1;const t=e.prototype.itemType;return!(!t||!t.Type)&&(typeof t.Type=="function"?pc(t.Type):f0(t.Type))}function Zg(e){return"types"in e?f0(e.types):pc(e.type)}function pc(e){return!Array.isArray(e)&&!!e&&e.prototype&&("read"in e.prototype||"fromJSON"in e||d0(e))}function f0(e){for(const t in e.typeMap)if(!pc(e.typeMap[t]))return!1;return!0}function Jg(e){let t=null;const r=e.errorContext??"type",n=e.validate;return(s,o,a)=>{if(s==null)return s;const l=typeof s;if(l!=="object")return void dl.error(`Expected JSON value of type 'object' to deserialize, but got '${l}'`);t||(t=Yg(e));const c=e.key;if(typeof c!="string")return;const d=s[c],p=d?t[d]:e.defaultKeyValue?e.typeMap[e.defaultKeyValue]:void 0;if(!p){const y=`Type '${d||"unknown"}' is not supported`;return a!=null&&a.messages&&s&&a.messages.push(new Ls(`${r}:unsupported`,y,{definition:s,context:a})),void dl.error(y)}const m=new p;return m.read(s,a),n?n(m):m}}function Yg(e){var r,n;const t={};for(const s in e.typeMap){const o=e.typeMap[s],a=Zs(o.prototype);if(typeof e.key=="function")continue;const l=a[e.key];if(!l)continue;(r=l.json)!=null&&r.type&&Array.isArray(l.json.type)&&l.json.type.length===1&&typeof l.json.type[0]=="string"&&(t[l.json.type[0]]=o);const c=(n=l.json)==null?void 0:n.write;if(!(c!=null&&c.writer)){t[s]=o;continue}const d=c.target,p=typeof d=="string"?d:e.key,m={};c.writer(s,m,p),m[p]&&(t[m[p]]=o)}return t}function Kg(e){if(e.json||(e.json={}),Uh(e.json),zh(e.json),jh(e.json),e.json.origins)for(const t in e.json.origins)Uh(e.json.origins[t]),zh(e.json.origins[t]),jh(e.json.origins[t]);return!0}function jh(e){e.name&&(e.read&&typeof e.read=="object"?e.read.source===void 0&&(e.read.source=e.name):e.read={source:e.name},e.write&&typeof e.write=="object"?e.write.target===void 0&&(e.write.target=e.name):e.write={target:e.name})}function Uh(e){typeof e.read=="boolean"?e.read={enabled:e.read}:typeof e.read=="function"?e.read={enabled:!0,reader:e.read}:e.read&&typeof e.read=="object"&&e.read.enabled===void 0&&(e.read.enabled=!0)}function zh(e){typeof e.write=="boolean"?e.write={enabled:e.write}:typeof e.write=="function"?e.write={enabled:!0,writer:e.write}:e.write&&typeof e.write=="object"&&e.write.enabled===void 0&&(e.write.enabled=!0)}function Gh(e,t){if(!t.write||t.write.writer||t.write.enabled===!1&&!t.write.overridePolicy)return;const r=(e==null?void 0:e.ndimArray)??0;e&&(r===1||"type"in e&&u0(e.type))?t.write.writer=t2:r>1?t.write.writer=r2(r):t.types?Array.isArray(t.types)?t.write.writer=Xg(t.types[0]):t.write.writer=Qg(t.types):t.write.writer=js}function Qg(e){return(t,r,n,s)=>t?p0(t,e,s)?js(t,r,n,s):void 0:js(t,r,n,s)}function p0(e,t,r){for(const n in t.typeMap)if(e instanceof t.typeMap[n])return!0;if(r!=null&&r.messages){const n=t.errorContext??"type",s=`Values of type '${(typeof t.key!="function"?e[t.key]:e.declaredClass)??"Unknown"}' cannot be written`;r&&r.messages&&e&&r.messages.push(new G(`${n}:unsupported`,s,{definition:e,context:r})),V.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(s)}return!1}function Xg(e){return(t,r,n,s)=>!t||!Array.isArray(t)?js(t,r,n,s):js(t.filter(o=>p0(o,e,s)),r,n,s)}function js(e,t,r,n){Pn(r,_o(e,n),t)}function _o(e,t){return e&&typeof e.write=="function"?e.write({},t):e&&typeof e.toJSON=="function"?e.toJSON():typeof e=="number"?e2(e):e}function e2(e){return e===-1/0?-Number.MAX_VALUE:e===1/0?Number.MAX_VALUE:isNaN(e)?null:e}function t2(e,t,r,n){let s;e===null?s=null:e&&typeof e.map=="function"?(s=e.map(o=>_o(o,n)),typeof s.toArray=="function"&&(s=s.toArray())):s=[_o(e,n)],Pn(r,s,t)}function m0(e,t,r){return r!==0&&Array.isArray(e)?e.map(n=>m0(n,t,r-1)):_o(e,t)}function r2(e){return(t,r,n,s)=>{let o;if(t===null)o=null;else{o=m0(t,s,e);let a=e,l=o;for(;a>0&&Array.isArray(l);)a--,l=l[0];if(l!==void 0)for(let c=0;c<a;c++)o=[o]}Pn(n,o,r)}}function n2(e,t){return mc(e,"any",t==null?void 0:t.origin)}function fl(e,t){return mc(e,"read",t==null?void 0:t.origin)}function y0(e,t){return mc(e,"write",t==null?void 0:t.origin)}function mc(e,t,r){let n=e==null?void 0:e.json;if(n!=null&&n.origins&&r){let s;s=r==="link-chart"?n.origins[r]&&(t==="any"||t in n.origins[r])?n.origins[r]:n.origins["web-map"]:n.origins[r],s&&(t==="any"||t in s)&&(n=s)}return n}function s2(e){const t=i2(e);if(e.json.origins)for(const r in e.json.origins){const n=e.json.origins[r],s=n.types?o2(n):t;Fh(s,n,!1),n.types&&!n.write&&e.json.write&&e.json.write.enabled&&(n.write={...e.json.write}),Gh(s,n)}Fh(t,e.json,!0),Gh(t,e.json)}function i2(e){return e.json.types?pl(e.json):e.type?g0(e):pl(e)}function o2(e){return e.type?g0(e):pl(e)}function g0(e){if(!e.type)return;let t=0,r=e.type;for(;Array.isArray(r)&&!o0(r);)r=r[0],t++;return{type:r,ndimArray:t}}function pl(e){if(!e.types)return;let t=0,r=e.types;for(;Array.isArray(r);)r=r[0],t++;return{types:r,ndimArray:t}}function a2(e){Kg(e)&&(Bg(e),s2(e))}const Oa=new Set,Ma=new Set;function v(e){return t=>{e??(e="esri.core.Accessor"),t.prototype.declaredClass=e,u2(t);const r=[],n=[];let s=t.prototype;for(;s;)s.hasOwnProperty("initialize")&&!Oa.has(s.initialize)&&(Oa.add(s.initialize),r.push(s.initialize)),s.hasOwnProperty("destroy")&&!Ma.has(s.destroy)&&(Ma.add(s.destroy),n.push(s.destroy)),s=Object.getPrototypeOf(s);Oa.clear(),Ma.clear();const o=class extends t{constructor(...l){if(super(...l),this.constructor===o&&typeof this.postscript=="function"){if(r.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let c=r.length-1;c>=0;c--)r[c].call(this)}}),n.length){let c=!1;const d=this[Pf];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!c){c=!0,d.call(this);for(let p=0;p<n.length;p++)n[p].call(this)}}})}this.postscript(...l)}}};o.__accessorMetadata__=Zs(t.prototype),o.prototype.declaredClass=e;const a=(e||"AccessorSubclass").split(".").slice(-1)[0];return Object.defineProperty(o,"name",{value:a,configurable:!0}),o}}function l2(e,t){return t.get==null?function(){const r=this.__accessor__,n=r.propertiesByName.get(e);if(n===void 0)return;A(n);const s=r.store;return s.has(e)?s.get(e):n.metadata.value}:function(){const r=this.__accessor__,n=r.propertiesByName.get(e);if(n!==void 0)return n.getComputed(r)}}function u2(e){const t=e.prototype,r=Zs(t),n={};for(const s of Object.getOwnPropertyNames(r)){const o=r[s];a2(o),n[s]={enumerable:!0,configurable:!0,get:l2(s,o),set(a){const l=this.__accessor__;if(l!==void 0){if(!Object.isFrozen(this)){if(l.initialized&&o.readOnly)throw new TypeError(`[accessor] cannot assign to read-only property '${s}' of ${this.declaredClass}`);if(l.lifecycle===Mt.CONSTRUCTED&&o.constructOnly)throw new TypeError(`[accessor] cannot assign to construct-only property '${s}' of ${this.declaredClass}`);l.set(s,a)}}else Object.defineProperty(this,s,{enumerable:!0,configurable:!0,writable:!0,value:a})}}}Object.defineProperties(e.prototype,n)}var w0,v0;function c2(e){var t;if(e==null)return{value:e};if(Array.isArray(e))return{type:[e[0]],value:null};switch(typeof e){case"object":return(t=e.constructor)!=null&&t.__accessorMetadata__||e instanceof Date?{type:e.constructor,value:e}:e;case"boolean":return{type:Boolean,value:e};case"string":return{type:String,value:e};case"number":return{type:Number,value:e};case"function":return{type:e,value:null};default:return}}const qt=Symbol("Accessor-Handles"),ml=Symbol("Accessor-Initialized");let Ae=class b0{static createSubclass(t={}){if(Array.isArray(t))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:r,declaredClass:n,constructor:s}=t;delete t.declaredClass,delete t.properties,delete t.constructor;const o=this;class a extends o{constructor(...c){super(...c),this.inherited=null,s&&s.apply(this,c)}}Zs(a.prototype);for(const l in t){const c=t[l];a.prototype[l]=typeof c=="function"?function(...d){const p=this.inherited;let m;this.inherited=function(...y){if(o.prototype[l])return o.prototype[l].apply(this,y)};try{m=c.apply(this,d)}catch(y){throw this.inherited=p,y}return this.inherited=p,m}:t[l]}for(const l in r){const c=c2(r[l]);h(c)(a.prototype,l)}return v(n)(a)}constructor(...t){if(this[w0]=null,this[v0]=!1,this.constructor===b0)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");const r=new H1(this);Object.defineProperty(this,"__accessor__",{enumerable:!1,value:r}),t.length>0&&this.normalizeCtorArgs&&(r.ctorArgs=this.normalizeCtorArgs.apply(this,t))}postscript(t){const r=this.__accessor__,n=r.ctorArgs||t;r.initialize(),n&&(this.set(n),r.ctorArgs=null),r.constructed(),this.initialize(),this[ml]=!0}initialize(){}[Pf](){this[qt]=Ci(this[qt])}destroy(){var t;this.destroyed||(_g(this),this.__accessor__.destroy(),(t=X1())==null||t.onInstanceDestroy(this))}[Symbol.dispose](){this.destroy()}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[ml]}get destroyed(){return this.__accessor__&&this.__accessor__.destroyed||!1}commitProperty(t){zr(this,t)}get(t){return E1(V.getLogger(this),"`Accessor.get` is deprecated in favor of using optional chaining",{version:"4.28",see:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Optional_chaining"}),zr(this,t)}hasOwnProperty(t){return this.__accessor__?this.__accessor__.has(t):Object.prototype.hasOwnProperty.call(this,t)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(t,r){return po(this,t,r),this}watch(t,r,n){return Mg(this,t,r,n)}addHandles(t,r){if(this.destroyed){const s=Array.isArray(t)?t:[t];for(const o of s)o.remove();return}let n=this[qt];n==null&&(n=this[qt]=new A1),n.add(t,r)}removeHandles(t){const r=this[qt];r!=null&&r.remove(t)}removeAllHandles(){const t=this[qt];t!=null&&t.removeAll()}hasHandles(t){const r=this[qt];return r!=null&&r.has(t)}_override(t,r){r===void 0?this.__accessor__.clearOverride(t):this.__accessor__.override(t,r)}_clearOverride(t){return this.__accessor__.clearOverride(t)}_overrideIfSome(t,r){r==null?this.__accessor__.clearOverride(t):this.__accessor__.override(t,r)}_isOverridden(t){return this.__accessor__.isOverridden(t)}notifyChange(t){this.__accessor__.notifyChange(t)}_get(t){return this.__accessor__.internalGet(t)}_set(t,r){return this.__accessor__.internalSet(t,r),this}};w0=qt,v0=ml;let h2=class $0{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const r=new $0;return this._values.forEach((n,s)=>{t&&t.has(s)||r.set(s,T(n.value),n.origin)}),r}get(t,r){r=this._normalizeOrigin(r);const n=this._values.get(t);return r==null||(n==null?void 0:n.origin)===r?n==null?void 0:n.value:void 0}originOf(t){var r;return((r=this._values.get(t))==null?void 0:r.origin)??C.USER}keys(t){t=this._normalizeOrigin(t);const r=[...this._values.keys()];return t==null?r:r.filter(n=>{var s;return((s=this._values.get(n))==null?void 0:s.origin)===t})}set(t,r,n){if((n=this._normalizeOrigin(n))===C.DEFAULTS){const s=this._values.get(t);if((s==null?void 0:s.origin)!=null&&s.origin>n)return}this._values.set(t,new d2(r,n))}delete(t,r){var n;(r=this._normalizeOrigin(r))!=null&&((n=this._values.get(t))==null?void 0:n.origin)!==r||this._values.delete(t)}has(t,r){var n;return(r=this._normalizeOrigin(r))!=null?((n=this._values.get(t))==null?void 0:n.origin)===r:this._values.has(t)}forEach(t){this._values.forEach(({value:r},n)=>t(r,n))}_normalizeOrigin(t){if(t!=null)return t===C.DEFAULTS?t:C.USER}},d2=class{constructor(t,r){this.value=t,this.origin=r}};function f2(e,t,r){t.keys().forEach(s=>{r.set(s,t.get(s),C.DEFAULTS)});const n=e.metadatas;Object.keys(n).forEach(s=>{e.internalGet(s)&&r.set(s,e.internalGet(s),C.DEFAULTS)})}function p2(e,t,r){if(!(e!=null&&e.read)||e.read.enabled===!1||!e.read.source)return!1;const n=e.read.source;if(typeof n=="string"){if(n===t||n.includes(".")&&n.indexOf(t)===0&&Oh(n,r))return!0}else for(const s of n)if(s===t||s.includes(".")&&s.indexOf(t)===0&&Oh(s,r))return!0;return!1}function m2(e){return e&&(!e.read||e.read.enabled!==!1&&!e.read.source)}function y2(e,t,r,n,s){let o=fl(t[r],s);m2(o)&&(e[r]=!0);for(const a of Object.getOwnPropertyNames(t))o=fl(t[a],s),p2(o,r,n)&&(e[a]=!0)}function g2(e,t,r,n){const s=r.metadatas,o=n2(s[t],n),a=o==null?void 0:o.default;if(a===void 0)return;const l=typeof a=="function"?a.call(e,t,n):a;l!==void 0&&r.set(t,l)}const _0={origin:"service"};function w2(e,t,r=_0){if(!t||typeof t!="object")return;const n=cr(e),s=n.metadatas,o={};for(const a of Object.getOwnPropertyNames(t))y2(o,s,a,t,r);n.setDefaultOrigin(r.origin);for(const a of Object.getOwnPropertyNames(o)){const l=fl(s[a],r).read,c=l==null?void 0:l.source;let d;d=c&&typeof c=="string"?Hs(t,c):t[a],l!=null&&l.reader&&(d=l.reader.call(e,d,t,r)),d!==void 0&&n.set(a,d)}if(!r||!r.ignoreDefaults){n.setDefaultOrigin("defaults");for(const a of Object.getOwnPropertyNames(s))o[a]||g2(e,a,n,r)}n.setDefaultOrigin("user")}function Gx(e,t,r,n=_0){var o;const s={...n,messages:[]};r(s),(o=s.messages)==null||o.forEach(a=>{a.type!=="warning"||e.loaded?n!=null&&n.messages&&n.messages.push(a):e.loadWarnings.push(a)})}function v2(e,t,r,n,s){var a,l;const o={};return(l=(a=t.write)==null?void 0:a.writer)==null||l.call(e,n,o,r,s),o}function S0(e,t,r,n,s,o){if(!(n!=null&&n.write))return!1;const a=zr(e,r);if(!s&&n.write.overridePolicy){const l=n.write.overridePolicy.call(e,a,r,o??void 0);l!==void 0&&(s=l)}if(s||(s=n.write),!s||s.enabled===!1||s.layerContainerTypes&&(o!=null&&o.layerContainerType)&&!s.layerContainerTypes.includes(o.layerContainerType))return!1;if((a===null&&!s.allowNull&&!s.writerEnsuresNonNull||a===void 0)&&s.isRequired){const l=new G("web-document-write:property-required",`Missing value for required property '${r}' on '${e.declaredClass}'`,{propertyName:r,target:e});return l&&(o!=null&&o.messages)?o.messages.push(l):l&&!o&&V.getLogger("esri.core.accessorSupport.write").error(l.name,l.message),!1}return!(a===void 0||a===null&&!s.allowNull&&!s.writerEnsuresNonNull||!s.alwaysWriteDefaults&&(!t.store.multipleOriginsSupported||t.store.originOf(r)===C.DEFAULTS)&&b2(e,r,o,n,a)||!s.ignoreOrigin&&(o!=null&&o.origin)&&t.store.multipleOriginsSupported&&t.store.originOf(r)<Rf(o.origin))}function b2(e,t,r,n,s){const o=n.default;if(o===void 0)return!1;if(n.defaultEquals!=null)return n.defaultEquals(s);if(typeof o=="function"){if(Array.isArray(s)){const a=o.call(e,t,r??void 0);return Zo(a,s)}return!1}return o===s}function qx(e,t,r,n){const s=cr(e),o=s.metadatas,a=y0(o[t],n);return!!a&&S0(e,s,t,a,r,n)}function $2(e,t,r){var o,a;if(e&&typeof e.toJSON=="function"&&(!e.toJSON.isDefaultToJSON||!e.write))return ki(t,e.toJSON(r));const n=cr(e),s=n.metadatas;for(const l in s){const c=y0(s[l],r);if(!S0(e,n,l,c,void 0,r))continue;const d=zr(e,l),p=v2(e,c,c.write&&typeof c.write.target=="string"?c.write.target:l,d,r);Object.keys(p).length>0&&(t=ki(t,p),(a=(o=r==null?void 0:r.resources)==null?void 0:o.pendingOperations)!=null&&a.length&&r.resources.pendingOperations.push(Promise.all(r.resources.pendingOperations).then(()=>ki(t,p,()=>"replace-arrays"))),r!=null&&r.writtenProperties&&r.writtenProperties.push({target:e,propName:l,oldOrigin:G1(n.store.originOf(l)),newOrigin:r.origin}))}return t}const x0=e=>{let t=class extends e{constructor(...r){super(...r);const n=cr(this),s=n.store,o=new h2;n.store=o,f2(n,s,o)}read(r,n){w2(this,r,n)}write(r,n){return $2(this,r??{},n)}toJSON(r){return this.write({},r)}static fromJSON(r,n){return _2.call(this,r,n)}};return t=u([v("esri.core.JSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function _2(e,t){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const r=new this;return r.read(e,t),r}function yl(e){return e&&typeof e=="object"&&"toJSON"in e&&typeof e.toJSON=="function"}let N=class extends x0(Ae){};N=u([v("esri.core.JSONSupport")],N);const S2=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,x2={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};function qh(e){const t=e==null?void 0:e.match(S2);if(!t)return null;const[,r,n,s]=t;if(!r)return null;let o=null,a=null,l=null;const{devext:c,qaext:d,www:p}=x2;if(n)if(o=r,s)switch(s.toLowerCase()){case"devext":({customBaseUrl:a,portalHostname:l}=c);break;case"qa":({customBaseUrl:a,portalHostname:l}=d);break;default:return null}else({customBaseUrl:a,portalHostname:l}=p);else switch(r.toLowerCase()){case"devext":({customBaseUrl:a,portalHostname:l}=c);break;case"qaext":({customBaseUrl:a,portalHostname:l}=d);break;case"www":({customBaseUrl:a,portalHostname:l}=p);break;default:return null}return{customBaseUrl:a,isPortal:!1,portalHostname:l,urlKey:o}}function T2(e){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(e)}function O2(e){const t=atob(e),r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r.buffer}function M2(e){const t=new Uint8Array(e);let r="";for(let n=0;n<t.length;n++)r+=String.fromCharCode(t[n]);return btoa(r)}const E2=V.getLogger("esri.core.urlUtils"),In=K.request,Vh="esri/config: esriConfig.request.proxyUrl is not set.",T0=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,O0=/^\s*http:/i,A2=/^\s*https:/i,P2=/^\s*file:/i,N2=/:\d+$/,I2=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,C2=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),k2=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$");let gn=class{constructor(t=""){this.uri=t,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let r=this.uri.match(C2);this.scheme=r[2]||(r[1]?"":null),this.authority=r[4]||(r[3]?"":null),this.path=r[5],this.query=r[7]||(r[6]?"":null),this.fragment=r[9]||(r[8]?"":null),this.authority!=null&&(r=this.authority.match(k2),this.user=r[3]||null,this.password=r[4]||null,this.host=r[6]||r[7],this.port=r[9]||null)}toString(){return this.uri}};const pi={},D2=new gn(K.applicationUrl);let ye=D2;const R2=F2();let yc=R2;const gc=()=>ye,Wx=()=>yc;function F2(){const e=ye.path,t=e.substring(0,e.lastIndexOf(e.split("/")[e.split("/").length-1]));return`${`${ye.scheme}://${ye.host}${ye.port!=null?`:${ye.port}`:""}`}${t}`}function dr(e){if(!e)return null;const t={path:null,query:null},r=new gn(e),n=e.indexOf("?");return r.query===null?t.path=e:(t.path=e.substring(0,n),t.query=wc(r.query)),r.fragment&&(t.hash=r.fragment,r.query===null&&(t.path=t.path.substring(0,t.path.length-(r.fragment.length+1)))),t}function wc(e){const t=e.split("&"),r={};for(const n of t){if(!n)continue;const s=n.indexOf("=");let o,a;s<0?(o=decodeURIComponent(n),a=""):(o=decodeURIComponent(n.slice(0,s)),a=decodeURIComponent(n.slice(s+1)));let l=r[o];typeof l=="string"&&(l=r[o]=[l]),Array.isArray(l)?l.push(a):r[o]=a}return r}function Us(e,t){return e?t&&typeof t=="function"?Object.keys(e).map(r=>encodeURIComponent(r)+"="+encodeURIComponent(t(r,e[r]))).join("&"):Object.keys(e).map(r=>{const n=e[r];if(n==null)return"";const s=encodeURIComponent(r)+"=",o=t==null?void 0:t[r];return o?s+encodeURIComponent(o(n)):Array.isArray(n)?n.map(a=>yl(a)?s+encodeURIComponent(JSON.stringify(a)):s+encodeURIComponent(a)).join("&"):yl(n)?s+encodeURIComponent(JSON.stringify(n)):s+encodeURIComponent(n)}).filter(r=>r).join("&"):""}function L2(e=!1){let t,r=In.proxyUrl;if(typeof e=="string"){t=W2(e);const n=ra(e);n&&(r=n.proxyUrl)}else t=!!e;if(!r)throw E2.warn(Vh),new G("urlutils:proxy-not-set",Vh);return t&&gl()&&(r=xc(r)),dr(r)}function Hx(e){const t=ra(e);let r,n;if(t){const s=vc(t.proxyUrl);r=s.path,n=s.query?wc(s.query):null}if(r){const s=dr(e);e=r+"?"+s.path;const o=Us({...n,...s.query});o&&(e=`${e}?${o}`)}return e}const Gn={path:"",query:""};function vc(e){const t=e.indexOf("?");return t!==-1?(Gn.path=e.slice(0,t),Gn.query=e.slice(t+1)):(Gn.path=e,Gn.query=null),Gn}function M0(e){return e=(e=xo(e=K2(e=vc(e).path),!0)).toLowerCase()}function j2(e){const t={proxyUrl:e.proxyUrl,urlPrefix:M0(e.urlPrefix)},r=In.proxyRules,n=t.urlPrefix;let s=r.length;for(let o=0;o<r.length;o++){const a=r[o].urlPrefix;if(n.indexOf(a)===0){if(n.length===a.length)return-1;s=o;break}a.indexOf(n)===0&&(s=o+1)}return r.splice(s,0,t),s}function ra(e){const t=In.proxyRules,r=M0(e);for(let n=0;n<t.length;n++)if(r.indexOf(t[n].urlPrefix)===0)return t[n]}function Zx(e,t){if(!e||!t)return!1;e=So(e),t=So(t);const r=qh(e),n=qh(t);return r!=null&&n!=null?r.portalHostname===n.portalHostname:r==null&&n==null&&_n(e,t,!0)}function U2(e,t){return e=So(e),t=So(t),xo(e)===xo(t)}function So(e){const t=(e=ur(e)).indexOf("/sharing");return t>0?e.substring(0,t):e.replace(/\/+$/,"")}function z2(e){const t=n=>n==null||n instanceof RegExp&&n.test(e)||typeof n=="string"&&e.startsWith(n),r=In.interceptors;if(r){for(const n of r)if(Array.isArray(n.urls)){if(n.urls.some(t))return n}else if(t(n.urls))return n}return null}function _n(e,t,r=!1){if(!e||!t)return!1;const n=vl(e),s=vl(t);return!(!r&&n.scheme!==s.scheme)&&n.host!=null&&s.host!=null&&n.host.toLowerCase()===s.host.toLowerCase()&&n.port===s.port}function bc(e){if(typeof e=="string"){if(!Ye(e))return!0;e=vl(e)}if(_n(e,ye))return!0;const t=In.trustedServers||[];for(let r=0;r<t.length;r++){const n=G2(t[r]);for(let s=0;s<n.length;s++)if(_n(e,n[s]))return!0}return!1}function G2(e){return pi[e]||(Sc(e)||fr(e)?pi[e]=[new gn(Ks(e))]:pi[e]=[new gn(`http://${e}`),new gn(`https://${e}`)]),pi[e]}function Ks(e,t=yc,r){return fr(e)?r&&r.preserveProtocolRelative?e:ye.scheme==="http"&&ye.authority===Je(e).slice(2)?`http:${e}`:`https:${e}`:Sc(e)?e:$c(e[0]==="/"?Y2(t):t,e)}function E0(e,t=yc,r){if(e==null||!Ye(e))return e;const n=ur(e),s=n.toLowerCase(),o=ur(t).toLowerCase().replace(/\/+$/,""),a=r?ur(r).toLowerCase().replace(/\/+$/,""):null;if(a&&o.indexOf(a)!==0)return e;const l=(m,y,g)=>(g=m.indexOf(y,g))===-1?m.length:g;let c=l(s,"/",s.indexOf("//")+2),d=-1;for(;s.slice(0,c+1)===o.slice(0,c)+"/"&&(d=c+1,c!==s.length);)c=l(s,"/",c+1);if(d===-1||a&&d<a.length)return e;e=n.slice(d);const p=o.slice(d-1).replaceAll(/[^/]+/g,"").length;if(p>0)for(let m=0;m<p;m++)e=`../${e}`;else e=`./${e}`;return e}function ur(e){return e=e3(e=X2(e=Q2(e=Ks(e=e.trim()))))}function $c(...e){const t=e.filter(f1);if(!(t!=null&&t.length))return;const r=[];if(Ye(t[0])){const s=t[0],o=s.indexOf("//");o!==-1&&(r.push(s.slice(0,o+1)),Z2(t[0])&&(r[0]+="/"),t[0]=s.slice(o+2))}else t[0][0]==="/"&&r.push("");const n=t.reduce((s,o)=>o?s.concat(o.split("/")):s,[]);for(let s=0;s<n.length;s++){const o=n[s];o===".."&&r.length>0&&r[r.length-1]!==".."?r.pop():(!o&&s===n.length-1||o&&(o!=="."||r.length===0))&&r.push(o)}return r.join("/")}function Je(e,t=!1){if(e==null||_c(e)||Cn(e))return null;let r=e.indexOf("://");if(r===-1&&fr(e))r=2;else{if(r===-1)return null;r+=3}const n=e.indexOf("/",r);return n!==-1&&(e=e.slice(0,n)),t&&(e=xo(e,!0)),e}function Ye(e){return fr(e)||Sc(e)}function _c(e){return e!=null&&e.slice(0,5)==="blob:"}function Cn(e){return e!=null&&e.slice(0,5)==="data:"}function q2(e){const t=zs(e);return t&&t.isBase64?O2(t.data):null}function Jx(e){return M2(e).replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")}const V2=/^data:(.*?)(;base64)?,(.*)$/;function zs(e){const t=e.match(V2);if(!t)return null;const[,r,n,s]=t;return{mediaType:r,isBase64:!!n,data:s}}function A0(e){return e.isBase64?`data:${e.mediaType};base64,${e.data}`:`data:${e.mediaType},${e.data}`}async function Yx(e){return(await fetch(e)).blob()}function Kx(e){const t=q2(e);if(!t)return null;const r=zs(e);return new Blob([t],{type:r.mediaType})}function Qx(e,t){B2(e,t)}function B2(e,t){if(!e)return!1;const r=document.createElement("a");if(!("download"in r))return!1;const n=URL.createObjectURL(e);return r.download=t,r.href=n,r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n),!0}function fr(e){return e!=null&&e[0]==="/"&&e[1]==="/"}function Sc(e){return e!=null&&T0.test(e)}function W2(e){return e!=null&&A2.test(e)||ye.scheme==="https"&&fr(e)}function H2(e){return e!=null&&O0.test(e)||ye.scheme==="http"&&fr(e)}function Z2(e){return e!=null&&P2.test(e)}function xc(e){return fr(e)?`https:${e}`:e.replace(O0,"https:")}function J2(){return ye.scheme==="http"}function gl(){return ye.scheme==="https"}function xo(e,t=!1){return fr(e)?e.slice(2):(e=e.replace(T0,""),t&&e.length>1&&e[0]==="/"&&e[1]==="/"&&(e=e.slice(2)),e)}function Y2(e){const t=e.indexOf("//"),r=e.indexOf("/",t+2);return r===-1?e:e.slice(0,r)}function Xx(e){let t=0;if(Ye(e)){const n=e.indexOf("//");n!==-1&&(t=n+2)}const r=e.lastIndexOf("/");return r<t?e:e.slice(0,r+1)}function eT(e,t){if(!e)return"";const r=dr(e).path.replace(/\/+$/,""),n=r.substring(r.lastIndexOf("/")+1);if(!(t!=null&&t.length))return n;const s=new RegExp(`.(${t.join("|")})$`,"ig");return n.replace(s,"")}function K2(e){return e.endsWith("/")?e:`${e}/`}function tT(e){return e.replace(/\/+$/,"")}function Q2(e){if(/^https?:\/\//i.test(e)){const t=vc(e);e=(e=t.path.replaceAll(/\/{2,}/g,"/")).replace("/","//"),t.query&&(e+=`?${t.query}`)}return e}function X2(e){return e.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}function e3(e){const t=In.httpsDomains;if(!H2(e))return e;const r=e.indexOf("/",7);let n;if(n=r===-1?e:e.slice(0,r),n=n.toLowerCase().slice(7),N2.test(n)){if(!n.endsWith(":80"))return e;n=n.slice(0,-3),e=e.replace(":80","")}return J2()&&n===ye.authority&&!I2.test(e)||(gl()&&n===ye.authority||t&&t.some(s=>n===s||n.endsWith(`.${s}`))||gl()&&!ra(e))&&(e=xc(e)),e}function wl(e,t,r){if(!(t&&r&&e&&Ye(e)))return e;const n=e.indexOf("//"),s=e.indexOf("/",n+2),o=e.indexOf(":",n+2),a=Math.min(s<0?e.length:s,o<0?e.length:o);return e.slice(n+2,a).toLowerCase()!==t.toLowerCase()?e:`${e.slice(0,n+2)}${r}${e.slice(a)}`}function vl(e){return typeof e=="string"?new gn(Ks(e)):(e.scheme||(e.scheme=ye.scheme),e)}function rT(e){return t3.test(e)}function nT(e,t){const r=dr(e),n=Object.keys(r.query||{});return n.length>0&&t&&t.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${n.join(", ")}.`),r.path}function P0(e,t,r){const n=dr(e),s=n.query||{};return s[t]=String(r),`${n.path}?${Us(s)}`}function Ea(e,t){if(!t)return e;const r=dr(e),n=r.query||{};for(const[o,a]of Object.entries(t))a!=null&&(n[o]=a);const s=Us(n);return s?`${r.path}?${s}`:r.path}function sT(e){if(e==null)return null;const t=e.match(N0);return t?t[2]:null}function Bh(e){if(e==null)return null;const t=e.match(N0);return t?{path:t[1],extension:t[2]}:{path:e,extension:null}}async function iT(e){return typeof e=="string"?zs(e)??{data:e}:new Promise((t,r)=>{const n=new FileReader;n.readAsDataURL(e),n.onload=()=>t(zs(n.result)),n.onerror=s=>r(s)})}const N0=/([^.]*)\.([^\/]*)$/,t3=/(^data:image\/svg|\.svg$)/i;Symbol.dispose??(Symbol.dispose=Symbol("Symbol.dispose")),Symbol.asyncDispose??(Symbol.asyncDispose=Symbol("Symbol.asyncDispose"));const r3="4.28";let re,n3=r3;n3="4.28.3";function oT(e){re=e}function aT(e){const t=re==null?void 0:re.findCredential(e);return t!=null&&t.token?P0(e,"token",t.token):e}$("host-webworker");const s3=new Set(["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"]);function I0(e){const t=Je(e,!0);return!!t&&t.endsWith(".arcgis.com")&&!s3.has(t)&&!e.endsWith("/sharing/rest/generateToken")}function i3(e,t,r=!1,n){return new Promise((s,o)=>{if(Gr(n))return void o(Wh());let a=()=>{d(),o(new Error(`Unable to load ${t}`))},l=()=>{const p=e;d(),s(p)},c=()=>{if(!e)return;const p=e;d(),p.src="",o(Wh())};const d=()=>{$("esri-image-decode")||(e.removeEventListener("error",a),e.removeEventListener("load",l)),a=null,l=null,e=null,n!=null&&n.removeEventListener("abort",c),c=null,r&&URL.revokeObjectURL(t)};n!=null&&n.addEventListener("abort",c),$("esri-image-decode")?e.decode().then(l,a):(e.addEventListener("error",a),e.addEventListener("load",l))})}function Wh(){try{return new DOMException("Aborted","AbortError")}catch{const e=new Error;return e.name="AbortError",e}}const o3="Timeout exceeded";function a3(){return new Error(o3)}function l3(e){K.request.crossOriginNoCorsDomains||(K.request.crossOriginNoCorsDomains={});const t=K.request.crossOriginNoCorsDomains;for(let r of e)r=r.toLowerCase(),/^https?:\/\//.test(r)?t[Je(r)??""]=0:(t[Je("http://"+r)??""]=0,t[Je("https://"+r)??""]=0)}function u3(e){const t=K.request.crossOriginNoCorsDomains;if(t){let r=Je(e);if(r)return r=r.toLowerCase(),!_n(r,gc())&&t[r]<Date.now()-36e5}return!1}async function c3(e){var s;const t=K.request.crossOriginNoCorsDomains,r=Je(e);t&&r&&(t[r.toLowerCase()]=Date.now());const n=dr(e);e=n.path,((s=n.query)==null?void 0:s.f)==="json"&&(e+="?f=json");try{await fetch(e,{mode:"no-cors",credentials:"include"})}catch{}}async function Qe(e,t){var d;e instanceof URL&&(e=e.toString()),(t==null?void 0:t.query)instanceof URLSearchParams&&(t.query=wc(t.query.toString().replaceAll("+"," ")));const r=Cn(e),n=_c(e);n||r||(e=ur(e));const s={url:e,requestOptions:{...t}};let o=z2(e);if(o){const p=await w3(o,s);if(p!=null)return{data:p,getHeader:Tc,httpStatus:200,requestOptions:s.requestOptions,url:s.url};o.after||o.error||(o=null)}if(e=s.url,(t=s.requestOptions).responseType==="image"&&($("host-webworker")||$("host-node")))throw ft("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),s);if(t.method==="head"){if(t.body)throw ft("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),s);if(r||n)throw ft("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),s)}if(await m3(),To)return To.execute(e,t);const a=new AbortController;bn(t,()=>a.abort());const l={controller:a,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:o,params:s,redoRequest:!1,useIdentity:He.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},c=await b3(l);return(d=o==null?void 0:o.after)==null||d.call(o,c),c}let To;const He=K.request,C0="FormData"in globalThis,h3=new Set([499,498,403,401]),d3=new Set(["COM_0056","COM_0057","SB_0008"]),f3=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],Tc=()=>null,Oo=Symbol();function p3(e){const t=Je(e);t&&!Qe._corsServers.includes(t)&&Qe._corsServers.push(t)}function Hh(e){const t=Je(e);return!t||t.endsWith(".arcgis.com")||Qe._corsServers.includes(t)||bc(t)}function ft(e,t,r,n){let s="Error";const o={url:r.url,requestOptions:r.requestOptions,getHeader:Tc,ssl:!1};if(t instanceof G)return t.details?(t.details=T(t.details),t.details.url=r.url,t.details.requestOptions=r.requestOptions):t.details=o,t;if(t){const a=n&&(d=>n.headers.get(d)),l=n==null?void 0:n.status,c=t.message;c&&(s=c),a&&(o.getHeader=a),o.httpStatus=(t.httpCode!=null?t.httpCode:t.code)||l||0,o.subCode=t.subcode,o.messageCode=t.messageCode,typeof t.details=="string"?o.messages=[t.details]:o.messages=t.details,o.raw=Oo in t?t[Oo]:t}return Ys(t)?Ee():new G(e,s,o)}async function m3(){$("host-webworker")?To||(To=await pt(()=>import("./request-f195889a.js"),["./request-f195889a.js","./index-e42a63f9.js"],import.meta.url)):Qe._abortableFetch||(Qe._abortableFetch=globalThis.fetch.bind(globalThis))}async function bl(){re||await pt(()=>import("./IdentityManager-c7485244.js"),["./IdentityManager-c7485244.js","./jsxFactory-8f2e778f.js","./widget-99046a3f.js","./index-e42a63f9.js"],import.meta.url)}async function y3(e){var l;const t=e.params.url,r=e.params.requestOptions,n=e.controller.signal,s=r.body;let o=null,a=null;if(C0&&"HTMLFormElement"in globalThis&&(s instanceof FormData?o=s:s instanceof HTMLFormElement&&(o=new FormData(s))),typeof s=="string"&&(a=s),e.fetchOptions={cache:r.cacheBust&&!("polyfill"in Qe._abortableFetch)?"no-cache":"default",credentials:"same-origin",headers:r.headers||{},method:r.method==="head"?"HEAD":"GET",mode:"cors",priority:He.priority,redirect:"follow",signal:n},(o||a)&&(e.fetchOptions.body=o||a),r.authMode==="anonymous"&&(e.useIdentity=!1),e.hasToken=!!(/token=/i.test(t)||(l=r.query)!=null&&l.token||o!=null&&o.get("token")),!e.hasToken&&K.apiKey&&I0(t)&&(r.query||(r.query={}),r.query.token=K.apiKey,e.hasToken=!0),e.useIdentity&&!e.hasToken&&!e.credentialToken&&!k0(t)&&!Gr(n)){let c;r.authMode==="immediate"?(await bl(),c=await re.getCredential(t,{signal:n}),e.credential=c):r.authMode==="no-prompt"?(await bl(),c=await re.getCredential(t,{prompt:!1,signal:n}).catch(()=>{}),e.credential=c):re&&(c=re.findCredential(t)),c&&(e.credentialToken=c.token,e.useSSL=!!c.ssl)}}function k0(e){return f3.some(t=>t.test(e))}async function g3(e){let t=e.params.url;const r=e.params.requestOptions,n=e.fetchOptions??{},s=_c(t)||Cn(t),o=r.responseType||"json",a=s?0:r.timeout!=null?r.timeout:He.timeout;let l=!1;if(!s){e.useSSL&&(t=xc(t)),r.cacheBust&&n.cache==="default"&&(t=P0(t,"request.preventCache",Date.now()));let y={...r.query};e.credentialToken&&(y.token=e.credentialToken);let g=Us(y);$("esri-url-encodes-apostrophe")&&(g=g.replaceAll("'","%27"));const b=t.length+1+g.length;let S;l=r.method==="delete"||r.method==="post"||r.method==="put"||!!r.body||b>He.maxUrlLength;const x=r.useProxy||!!ra(t);if(x){const M=L2(t);S=M.path,!l&&S.length+1+b>He.maxUrlLength&&(l=!0),M.query&&(y={...M.query,...y})}if(n.method==="HEAD"&&(l||x)){if(l)throw b>He.maxUrlLength?ft("request:invalid-parameters",new Error("URL exceeds maximum length"),e.params):ft("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),e.params);if(x)throw ft("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),e.params)}if(l?(n.method=r.method==="delete"?"DELETE":r.method==="put"?"PUT":"POST",r.body?t=Ea(t,y):(n.body=Us(y),n.headers||(n.headers={}),n.headers["Content-Type"]="application/x-www-form-urlencoded")):t=Ea(t,y),x&&(e.useProxy=!0,t=`${S}?${t}`),y.token&&C0&&n.body instanceof FormData&&!T2(t)&&n.body.set("token",y.token),r.hasOwnProperty("withCredentials"))e.withCredentials=r.withCredentials;else if(!_n(t,gc())){if(bc(t))e.withCredentials=!0;else if(re){const M=re.findServerInfo(t);M!=null&&M.webTierAuth&&(e.withCredentials=!0)}}e.withCredentials&&(n.credentials="include",u3(t)&&await c3(l?Ea(t,y):t))}let c,d,p=0,m=!1;a>0&&(p=setTimeout(()=>{m=!0,e.controller.abort()},a));try{if(r.responseType==="native-request-init")d=n,d.url=t;else if(r.responseType!=="image"||n.cache!=="default"||n.method!=="GET"||l||v3(r.headers)||!s&&!e.useProxy&&He.proxyUrl&&!Hh(t)){if(c=await Qe._abortableFetch(t,n),e.useProxy||p3(t),r.responseType==="native")d=c;else if(n.method!=="HEAD")if(c.ok){switch(o){case"array-buffer":d=await c.arrayBuffer();break;case"blob":case"image":d=await c.blob();break;default:d=await c.text()}if(p&&(clearTimeout(p),p=0),o==="json"||o==="xml"||o==="document")if(d)switch(o){case"json":d=JSON.parse(d);break;case"xml":d=Zh(d,"application/xml");break;case"document":d=Zh(d,"text/html")}else d=null;if(d){if(o==="array-buffer"||o==="blob"){const y=c.headers.get("Content-Type");if(y&&/application\/json|text\/plain/i.test(y)&&d[o==="blob"?"size":"byteLength"]<=750)try{const g=await new Response(d).json();g.error&&(d=g)}catch{}}o==="image"&&d instanceof Blob&&(d=await Jh(URL.createObjectURL(d),e,!0))}}else{d=await c.text();try{d=JSON.parse(d)}catch{}}}else d=await Jh(t,e)}catch(y){if(y.name==="AbortError")throw m?a3():Ee("Request canceled");if(!(!c&&y instanceof TypeError&&He.proxyUrl)||r.body||r.method==="delete"||r.method==="head"||r.method==="post"||r.method==="put"||e.useProxy||Hh(t))throw y;e.redoRequest=!0,j2({proxyUrl:He.proxyUrl,urlPrefix:Je(t)??""})}finally{p&&clearTimeout(p)}return[c,d]}async function w3(e,t){if(e.responseData!=null)return e.responseData;if(e.headers&&(t.requestOptions.headers={...t.requestOptions.headers,...e.headers}),e.query&&(t.requestOptions.query={...t.requestOptions.query,...e.query}),e.before){let r,n;try{n=await e.before(t)}catch(s){r=ft("request:interceptor",s,t)}if((n instanceof Error||n instanceof G)&&(r=ft("request:interceptor",n,t)),r)throw e.error&&e.error(r),r;return n}}function v3(e){if(e){for(const t of Object.getOwnPropertyNames(e))if(e[t])return!0}return!1}function Zh(e,t){let r;try{r=new DOMParser().parseFromString(e,t)}catch{}if(!r||r.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return r}async function b3(e){var o,a;let t,r;await y3(e);try{do[t,r]=await g3(e);while(!await $3(e,t,r))}catch(l){const c=ft("request:server",l,e.params,t);throw c.details.ssl=e.useSSL,(o=e.interceptor)!=null&&o.error&&e.interceptor.error(c),c}const n=e.params.url;if(r&&/\/sharing\/rest\/(accounts|portals)\/self/i.test(n)){if(!e.hasToken&&!e.credentialToken&&((a=r.user)!=null&&a.username)&&!bc(n)){const l=Je(n,!0);l&&He.trustedServers.push(l)}Array.isArray(r.authorizedCrossOriginNoCorsDomains)&&l3(r.authorizedCrossOriginNoCorsDomains)}const s=e.credential;if(s&&re){const l=re.findServerInfo(s.server);let c=l==null?void 0:l.owningSystemUrl;if(c){c=c.replace(/\/?$/,"/sharing");const d=re.findCredential(c,s.userId);d&&re._getIdenticalSvcIdx(c,d)===-1&&d.resources.unshift(c)}}return{data:r,getHeader:t?l=>t==null?void 0:t.headers.get(l):Tc,httpStatus:(t==null?void 0:t.status)??200,requestOptions:e.params.requestOptions,ssl:e.useSSL,url:e.params.url}}async function $3(e,t,r){var d;if(e.redoRequest)return e.redoRequest=!1,!1;const n=e.params.requestOptions;if(!t||n.responseType==="native"||n.responseType==="native-request-init")return!0;let s,o;if(r&&(r.error?s=r.error:r.status==="error"&&Array.isArray(r.messages)&&(s={...r},s[Oo]=r,s.details=r.messages)),!s&&!t.ok)throw s=new Error(`Unable to load ${t.url} status: ${t.status}`),s[Oo]=r,s;let a,l=null;s&&(o=Number(s.code),l=s.hasOwnProperty("subcode")?Number(s.subcode):null,a=s.messageCode,a=a==null?void 0:a.toUpperCase());const c=n.authMode;if(o===403&&(l===4||(d=s.message)!=null&&d.toLowerCase().includes("ssl")&&!s.message.toLowerCase().includes("permission"))){if(!e.useSSL)return e.useSSL=!0,!1}else if(!e.hasToken&&e.useIdentity&&(c!=="no-prompt"||o===498)&&o!==void 0&&h3.has(o)&&!k0(e.params.url)&&(o!==403||(!a||!d3.has(a))&&(l==null||l===2&&e.credentialToken))){await bl();try{const p=await re.getCredential(e.params.url,{error:ft("request:server",s,e.params),prompt:c!=="no-prompt",signal:e.controller.signal,token:e.credentialToken});return e.credential=p,e.credentialToken=p.token,e.useSSL=e.useSSL||p.ssl,!1}catch(p){if(c==="no-prompt")return e.credential=void 0,e.credentialToken=void 0,!1;s=p}}if(s)throw s;return!0}function Jh(e,t,r=!1){const n=t.controller.signal,s=new Image;return t.withCredentials?s.crossOrigin="use-credentials":s.crossOrigin="anonymous",s.alt="",s.fetchPriority=He.priority,s.src=e,i3(s,e,r,n)}Qe._abortableFetch=null,Qe._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"];let Li=class D0{constructor(){this._emitter=new D0.EventEmitter(this)}emit(t,r){return this._emitter.emit(t,r)}on(t,r){return this._emitter.on(t,r)}once(t,r){return this._emitter.once(t,r)}hasEventListener(t){return this._emitter.hasEventListener(t)}};(function(e){class t{constructor(s=null){this._target=s,this._listenersMap=null}clear(){var s;(s=this._listenersMap)==null||s.clear(),this._listenersMap=null}destroy(){this.clear()}emit(s,o){var d;let a=(d=this._listenersMap)==null?void 0:d.get(s);if(!a)return!1;const l=this._target||this;let c=!1;for(const p of a.slice()){const m="deref"in p?p.deref():p;m?m==null||m.call(l,o):c=!0}return c&&(a=a.filter(p=>!("deref"in p)||p.deref()!=null),this._listenersMap.set(s,a)),a.length>0}on(s,o){if(Array.isArray(s)){const l=s.map(c=>this.on(c,o));return ac(l)}if(s.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap??(this._listenersMap=new Map);const a=this._listenersMap.get(s)||[];return a.push(o),this._listenersMap.set(s,a),de(()=>{var d;const l=(d=this._listenersMap)==null?void 0:d.get(s),c=(l==null?void 0:l.indexOf(o))??-1;c>=0&&l.splice(c,1)})}once(s,o){const a=this.on(s,l=>{a.remove();const c="deref"in o?o.deref():o;c==null||c.call(null,l)});return a}hasEventListener(s){var a;const o=(a=this._listenersMap)==null?void 0:a.get(s);return o!=null&&o.length>0}}e.EventEmitter=t,e.EventedMixin=n=>{let s=class extends n{constructor(){super(...arguments),this._emitter=new t}destroy(){this._emitter.clear()}emit(o,a){return this._emitter.emit(o,a)}on(o,a){return this._emitter.on(o,a)}once(o,a){return this._emitter.once(o,a)}hasEventListener(o){return this._emitter.hasEventListener(o)}};return s=u([v("esri.core.Evented")],s),s};let r=class extends Ae{constructor(){super(...arguments),this._emitter=new Li.EventEmitter(this)}destroy(){this._emitter.clear()}emit(n,s){return this._emitter.emit(n,s)}on(n,s){return this._emitter.on(n,s)}once(n,s){return this._emitter.once(n,s)}hasEventListener(n){return this._emitter.hasEventListener(n)}};r=u([v("esri.core.Evented")],r),e.EventedAccessor=r})(Li||(Li={}));const _3=Li;var L;(function(e){e[e.ADD=1]="ADD",e[e.REMOVE=2]="REMOVE",e[e.MOVE=4]="MOVE"})(L||(L={}));function S3(e){return(t,r)=>{t[r]=e}}let x3=class extends Df{notify(){const t=this._observers;if(t&&t.length>0){const r=t.slice();for(const n of r)n.onInvalidated(),n.onCommitted()}}};var Ot;let T3=class{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(t){this.defaultPrevented=!1,this.item=t}},O3=class{constructor(t,r,n,s,o){this.target=t,this.added=r,this.removed=n,this.start=s,this.deleteCount=o}};const Ne=new Js(T3,void 0,e=>{e.item=null,e.target=null,e.defaultPrevented=!1,e.cancellable=!1});function Aa(e){return e?e instanceof kr?e.toArray():e.length?Array.prototype.slice.apply(e):[]:[]}function Pa(e){if(e!=null&&e.length)return e[0]}function M3(e,t,r,n){const s=Math.min(e.length-r,t.length-n);let o=0;for(;o<s&&e[r+o]===t[n+o];)o++;return o}function R0(e,t,r,n){t&&t.forEach((s,o,a)=>{e.push(s),R0(e,r.call(n,s,o,a),r,n)})}const Rt=new Set,Ft=new Set,Lt=new Set,Na=new Map;let E3=0,kr=Ot=class extends _3.EventedAccessor{static isCollection(e){return e!=null&&e instanceof Ot}constructor(e){super(e),this._chgListeners=[],this._notifications=null,this._timer=null,this._observable=new x3,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:E3++})}normalizeCtorArgs(e){return e?Array.isArray(e)||e instanceof Ot?{items:e}:e:{}}destroy(){this._removeAllRaw()}*[Symbol.iterator](){yield*this.items}get items(){return A(this._observable),this._items}set items(e){this._emitBeforeChanges(L.ADD)||(this._splice(0,this.length,Aa(e)),this._emitAfterChanges(L.ADD))}hasEventListener(e){return e==="change"?this._chgListeners.length>0:this._emitter.hasEventListener(e)}on(e,t){if(e==="change"){const r=this._chgListeners,n={removed:!1,callback:t};return r.push(n),this._notifications&&this._notifications.push({listeners:r.slice(),items:this._items.slice(),changes:[]}),de(()=>{n.removed=!0,r.splice(r.indexOf(n),1)})}return this._emitter.on(e,t)}once(e,t){const r="deref"in t?()=>t.deref():()=>t,n=this.on(e,s=>{var o;(o=r())==null||o.call(null,s),n.remove()});return n}add(e,t){if(A(this._observable),this._emitBeforeChanges(L.ADD))return this;const r=this.getNextIndex(t??null);return this._splice(r,0,[e]),this._emitAfterChanges(L.ADD),this}addMany(e,t=this._items.length){if(A(this._observable),!(e!=null&&e.length))return this;if(this._emitBeforeChanges(L.ADD))return this;const r=this.getNextIndex(t);return this._splice(r,0,Aa(e)),this._emitAfterChanges(L.ADD),this}at(e){if(A(this._observable),(e=Math.trunc(e)||0)<0&&(e+=this.length),!(e<0||e>=this.length))return this._items[e]}removeAll(){if(A(this._observable),!this.length||this._emitBeforeChanges(L.REMOVE))return[];const e=this._removeAllRaw();return this._emitAfterChanges(L.REMOVE),e}_removeAllRaw(){return this.length===0?[]:this._splice(0,this.length)||[]}clone(){return A(this._observable),this._createNewInstance({items:this._items.map(T)})}concat(...e){A(this._observable);const t=e.map(Aa);return this._createNewInstance({items:this._items.concat(...t)})}drain(e,t){if(A(this._observable),!this.length||this._emitBeforeChanges(L.REMOVE))return;const r=this._splice(0,this.length),n=r.length;for(let s=0;s<n;s++)e.call(t,r[s],s,r);this._emitAfterChanges(L.REMOVE)}every(e,t){return A(this._observable),this._items.every(e,t)}filter(e,t){let r;return A(this._observable),r=arguments.length===2?this._items.filter(e,t):this._items.filter(e),this._createNewInstance({items:r})}find(e,t){return A(this._observable),this._items.find(e,t)}findIndex(e,t){return A(this._observable),this._items.findIndex(e,t)}flatten(e,t){A(this._observable);const r=[];return R0(r,this,e,t),new Ot(r)}forEach(e,t){return A(this._observable),this._items.forEach(e,t)}getItemAt(e){return A(this._observable),this._items[e]}getNextIndex(e){A(this._observable);const t=this.length;return(e=e??t)<0?e=0:e>t&&(e=t),e}includes(e,t=0){return A(this._observable),this._items.includes(e,t)}indexOf(e,t=0){return A(this._observable),this._items.indexOf(e,t)}join(e=","){return A(this._observable),this._items.join(e)}lastIndexOf(e,t=this.length-1){return A(this._observable),this._items.lastIndexOf(e,t)}map(e,t){A(this._observable);const r=this._items.map(e,t);return new Ot({items:r})}reorder(e,t=this.length-1){A(this._observable);const r=this.indexOf(e);if(r!==-1){if(t<0?t=0:t>=this.length&&(t=this.length-1),r!==t){if(this._emitBeforeChanges(L.MOVE))return e;this._splice(r,1),this._splice(t,0,[e]),this._emitAfterChanges(L.MOVE)}return e}}pop(){if(A(this._observable),!this.length||this._emitBeforeChanges(L.REMOVE))return;const e=Pa(this._splice(this.length-1,1));return this._emitAfterChanges(L.REMOVE),e}push(...e){return A(this._observable),this._emitBeforeChanges(L.ADD)||(this._splice(this.length,0,e),this._emitAfterChanges(L.ADD)),this.length}reduce(e,t){A(this._observable);const r=this._items;return arguments.length===2?r.reduce(e,t):r.reduce(e)}reduceRight(e,t){A(this._observable);const r=this._items;return arguments.length===2?r.reduceRight(e,t):r.reduceRight(e)}remove(e){return A(this._observable),this.removeAt(this.indexOf(e))}removeAt(e){if(A(this._observable),e<0||e>=this.length||this._emitBeforeChanges(L.REMOVE))return;const t=Pa(this._splice(e,1));return this._emitAfterChanges(L.REMOVE),t}removeMany(e){if(A(this._observable),!(e!=null&&e.length)||this._emitBeforeChanges(L.REMOVE))return[];const t=e instanceof Ot?e.toArray():e,r=this._items,n=[],s=t.length;for(let o=0;o<s;o++){const a=t[o],l=r.indexOf(a);if(l>-1){const c=1+M3(t,r,o+1,l+1),d=this._splice(l,c);d&&d.length>0&&n.push.apply(n,d),o+=c-1}}return this._emitAfterChanges(L.REMOVE),n}reverse(){if(A(this._observable),this._emitBeforeChanges(L.MOVE))return this;const e=this._splice(0,this.length);return e&&(e.reverse(),this._splice(0,0,e)),this._emitAfterChanges(L.MOVE),this}shift(){if(A(this._observable),!this.length||this._emitBeforeChanges(L.REMOVE))return;const e=Pa(this._splice(0,1));return this._emitAfterChanges(L.REMOVE),e}slice(e=0,t=this.length){return A(this._observable),this._createNewInstance({items:this._items.slice(e,t)})}some(e,t){return A(this._observable),this._items.some(e,t)}sort(e){if(A(this._observable),!this.length||this._emitBeforeChanges(L.MOVE))return this;const t=this._splice(0,this.length);return arguments.length?t.sort(e):t.sort(),this._splice(0,0,t),this._emitAfterChanges(L.MOVE),this}splice(e,t,...r){A(this._observable);const n=(t?L.REMOVE:0)|(r.length?L.ADD:0);if(this._emitBeforeChanges(n))return[];const s=this._splice(e,t,r)||[];return this._emitAfterChanges(n),s}toArray(){return A(this._observable),this._items.slice()}toJSON(){return A(this._observable),this.toArray()}toLocaleString(){return A(this._observable),this._items.toLocaleString()}toString(){return A(this._observable),this._items.toString()}unshift(...e){return A(this._observable),!e.length||this._emitBeforeChanges(L.ADD)||(this._splice(0,0,e),this._emitAfterChanges(L.ADD)),this.length}_createNewInstance(e){return new this.constructor(e)}_splice(e,t,r){const n=this._items,s=this.itemType;let o,a;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=Jf(()=>this._dispatchChange())),e<0&&(e+=this.length),t){if(a=n.splice(e,t),this.hasEventListener("before-remove")){const l=Ne.acquire();l.target=this,l.cancellable=!0;for(let c=0,d=a.length;c<d;c++)o=a[c],l.reset(o),this.emit("before-remove",l),l.defaultPrevented&&(a.splice(c,1),n.splice(e,0,o),e+=1,c-=1,d-=1);Ne.release(l)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const l=Ne.acquire();l.target=this,l.cancellable=!1;const c=a.length;for(let d=0;d<c;d++)l.reset(a[d]),this.emit("after-remove",l);Ne.release(l)}}if(r!=null&&r.length){if(s){const p=[];for(const m of r){const y=s.ensureType(m);y==null&&m!=null||p.push(y)}r=p}const l=this.hasEventListener("before-add"),c=this.hasEventListener("after-add"),d=e===this.length;if(l||c){const p=Ne.acquire();p.target=this,p.cancellable=!0;const m=Ne.acquire();m.target=this,m.cancellable=!1;for(const y of r)l?(p.reset(y),this.emit("before-add",p),p.defaultPrevented||(d?n.push(y):n.splice(e++,0,y),this._set("length",n.length),c&&(m.reset(y),this.emit("after-add",m)))):(d?n.push(y):n.splice(e++,0,y),this._set("length",n.length),m.reset(y),this.emit("after-add",m));Ne.release(m),Ne.release(p)}else{if(d)for(const p of r)n.push(p);else n.splice(e,0,...r);this._set("length",n.length)}}if((r!=null&&r.length||a!=null&&a.length)&&this._notifyChangeEvent(r,a),this.hasEventListener("after-splice")){const l=new O3(this,r,a,e,t);this.emit("after-splice",l)}return a}_emitBeforeChanges(e){let t=!1;if(this.hasEventListener("before-changes")){const r=Ne.acquire();r.target=this,r.cancellable=!0,r.type=e,this.emit("before-changes",r),t=r.defaultPrevented,Ne.release(r)}return t}_emitAfterChanges(e){if(this.hasEventListener("after-changes")){const t=Ne.acquire();t.target=this,t.cancellable=!1,t.type=e,this.emit("after-changes",t),Ne.release(t)}this._observable.notify()}_notifyChangeEvent(e,t){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:e,removed:t})}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),!this._notifications)return;const e=this._notifications;this._notifications=null;for(const t of e){const r=t.changes;Rt.clear(),Ft.clear(),Lt.clear();for(const{added:c,removed:d}of r){if(c)if(Lt.size===0&&Ft.size===0)for(const p of c)Rt.add(p);else for(const p of c)Ft.has(p)?(Lt.add(p),Ft.delete(p)):Lt.has(p)||Rt.add(p);if(d)if(Lt.size===0&&Rt.size===0)for(const p of d)Ft.add(p);else for(const p of d)Rt.has(p)?Rt.delete(p):(Lt.delete(p),Ft.add(p))}const n=er.acquire();Rt.forEach(c=>{n.push(c)});const s=er.acquire();Ft.forEach(c=>{s.push(c)});const o=this._items,a=t.items,l=er.acquire();if(Lt.forEach(c=>{a.indexOf(c)!==o.indexOf(c)&&l.push(c)}),t.listeners&&(n.length||s.length||l.length)){const c={target:this,added:n,removed:s,moved:l},d=t.listeners.length;for(let p=0;p<d;p++){const m=t.listeners[p];m.removed||m.callback.call(this,c)}}er.release(n),er.release(s),er.release(l)}Rt.clear(),Ft.clear(),Lt.clear()}};kr.ofType=e=>{if(!e)return Ot;if(Na.has(e))return Na.get(e);let t=null;if(typeof e=="function")t=e.prototype.declaredClass;else if(e.base)t=e.base.prototype.declaredClass;else for(const n in e.typeMap){const s=e.typeMap[n].prototype.declaredClass;t?t+=` | ${s}`:t=s}let r=class extends Ot{};return u([S3({Type:e,ensureType:typeof e=="function"?Ke(e):Vr(e)})],r.prototype,"itemType",void 0),r=u([v(`esri.core.Collection<${t}>`)],r),Na.set(e,r),r},u([h()],kr.prototype,"length",void 0),u([h()],kr.prototype,"items",null),kr=Ot=u([v("esri.core.Collection")],kr);const te=kr;function A3(e,t,r=te){return t||(t=new r),t===e||(t.removeAll(),N3(e)?t.addMany(e):e&&t.add(e)),t}function P3(e){return e}function N3(e){return e&&(Array.isArray(e)||"items"in e&&Array.isArray(e.items))}var tr;(function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"})(tr||(tr={}));let I3=class{constructor(){this._resolver=$n(),this._status=tr.PENDING,this._resolvingPromises=[],this._resolver.promise.then(()=>{this._status=tr.RESOLVED,this._cleanUp()},()=>{this._status=tr.REJECTED,this._cleanUp()}),this.promise=this._resolver.promise}destroy(){this._cleanUp()}addResolvingPromise(t){this._resolvingPromises.push(t),this._tryResolve()}isResolved(){return this._status===tr.RESOLVED}isRejected(){return this._status===tr.REJECTED}isFulfilled(){return this._status!==tr.PENDING}abort(){this._resolver.reject(Ee())}_cleanUp(){this._allPromise=null,this._resolvingPromises=null}_tryResolve(){if(this.isFulfilled())return;const t=$n(),r=[...this._resolvingPromises,t.promise],n=this._allPromise=Promise.all(r);n.then(()=>{this.isFulfilled()||this._allPromise!==n||this._resolver.resolve()},s=>{this.isFulfilled()||this._allPromise!==n||Ys(s)||this._resolver.reject(s)}),t.resolve()}};const C3=e=>{let t=class extends e{constructor(...r){super(...r),this._promiseProps=new I3,this.addResolvingPromise(Promise.resolve())}destroy(){this._promiseProps.destroy()}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(r,n){return this._promiseProps.promise.then(()=>this).then(r,n)}catch(r){return this.when(null,r)}addResolvingPromise(r){r&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in r?r.when():r)}};return t=u([v("esri.core.Promise")],t),t};let $l=class extends C3(Ae){};$l=u([v("esri.core.Promise")],$l);const k3="not-loaded",D3="loading",R3="failed",Yh="loaded",F0=e=>{let t=class extends e{constructor(...r){super(...r),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise(n=>{const s=this.load.bind(this);this.load=o=>{const a=new Promise((l,c)=>{const d=ag(o,c);this.destroyed&&c(new G("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this.when(l,c).finally(()=>{d&&d.remove()})});if(this.loadStatus===k3){this._set("loadStatus",D3);const l=this._loadController=new AbortController;s({signal:l.signal})}return n(),a}})),this.when(()=>{this._set("loadStatus",Yh),this._loadController=null},n=>{this._set("loadStatus",R3),this._set("loadError",n),this._loadController=null})}destroy(){this._loadController&&(this._loadController=Af(this._loadController),this._promiseProps.abort()),this._set("loadError",null),this._set("loadWarnings",[])}get loaded(){return this.loadStatus===Yh}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){var r;return this.isFulfilled()||(this._set("loadError",new G("load:cancelled","Cancelled")),(r=this._loadController)==null||r.abort(),this._promiseProps.abort()),this}};return u([h({readOnly:!0})],t.prototype,"loaded",null),u([h({readOnly:!0})],t.prototype,"loadError",void 0),u([h({clonable:!1})],t.prototype,"loadStatus",void 0),u([h({type:[Ls],readOnly:!0})],t.prototype,"loadWarnings",null),t=u([v("esri.core.Loadable")],t),t};let Xn=class extends F0($l){};Xn=u([v("esri.core.Loadable")],Xn),function(e){function t(r){return!(!r||!r.load)}e.LoadableMixin=F0,e.isLoadable=t}(Xn||(Xn={}));const F3=Xn;function pT(e,t,r){return ea(e.map((n,s)=>t.apply(r,[n,s])))}async function mT(e,t,r){return(await ea(e.map((n,s)=>t.apply(r,[n,s])))).map(n=>n.value)}function Oc(e){return{ok:!0,value:e}}function Mc(e){return{ok:!1,error:e}}function L3(e){return e!=null&&e.ok===!0?e.value:null}function j3(e){return e!=null&&e.ok===!1?e.error:null}async function yT(e){if(e==null)return{ok:!1,error:new Error("no promise provided")};try{return Oc(await e)}catch(t){return Mc(t)}}async function gT(e){try{return Oc(await e)}catch(t){return Hf(t),Mc(t)}}function wT(e,t){return new Vt(e,t)}let Vt=class extends Ae{get value(){return L3(this._result)}get error(){return j3(this._result)}get finished(){return this._result!=null}constructor(t,r){super({}),this._result=null,this._abortHandle=null,this.abort=()=>{this._abortController=Af(this._abortController)},this.remove=this.abort,this._abortController=new AbortController;const{signal:n}=this._abortController;this.promise=t(n),this.promise.then(s=>{this._result=Oc(s),this._cleanup()},s=>{this._result=Mc(s),this._cleanup()}),this._abortHandle=bn(r,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=Nn(this._abortHandle),this._abortController=null}};u([h()],Vt.prototype,"value",null),u([h()],Vt.prototype,"error",null),u([h()],Vt.prototype,"finished",null),u([h()],Vt.prototype,"promise",void 0),u([h()],Vt.prototype,"_result",void 0),Vt=u([v("esri.core.asyncUtils.ReactiveTask")],Vt);function ee(e,t,r){let n,s;return t===void 0?(s=e,n=[void 0]):typeof t!="string"?(s=e,n=[void 0],r=t):(s=t,n=Array.isArray(e)?e:[e]),(o,a)=>{const l=o.constructor.prototype;for(const c of n){const d=l0(o,c,s);d.write&&typeof d.write=="object"||(d.write={}),r&&(d.write.target=r),d.write.writer=l[a]}}}let It=class{constructor(t,r={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=t,this._options=r,this.apiValues=[],this.jsonValues=[],this._apiToJSON=this._invertMap(t),this.apiValues=this._getKeysSorted(this._apiToJSON),this.jsonValues=this._getKeysSorted(this._jsonToAPI),this.read=n=>this.fromJSON(n),this.write=(n,s,o)=>{const a=this.toJSON(n);a!==void 0&&Pn(o,a,s)},this.write.isJSONMapWriter=!0}toJSON(t){if(t==null)return null;if(this._apiToJSON.hasOwnProperty(t)){const r=this._apiToJSON[t];return this._options.useNumericKeys?+r:r}return this._options.ignoreUnknown?void 0:t}fromJSON(t){return t!=null&&this._jsonToAPI.hasOwnProperty(t)?this._jsonToAPI[t]:this._options.ignoreUnknown?void 0:t}_invertMap(t){const r={};for(const n in t)r[t[n]]=n;return r}_getKeysSorted(t){const r=[];for(const n in t)r.push(n);return r.sort(),r}};function tt(){return function(e,t){return new It(e,{ignoreUnknown:!0,...t})}}let Ec=class{constructor(t,r,n,s){this.semiMajorAxis=t,this.flattening=r,this.outerAtmosphereRimWidth=n;const o=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*o,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=s||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}};const Xe=new Ec(6378137,1/298.257223563,3e5,.006694379990137799),na=new Ec(3396190,1/169.8944472236118,23e4),sa=new Ec(1737400,0,0),U3=V.getLogger("esri.assets");function L0(e){if(!K.assetsPath)throw U3.errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new G("assets:path-not-set","config.assetsPath is not set");return $c(K.assetsPath,e)}let Ia,w=null;function z3(){return!!w}function G3(){return!!$("esri-wasm")}function q3(){return Ia||(Ia=pt(()=>import("./pe-wasm-96d079ab.js"),["./pe-wasm-96d079ab.js","./commonjsHelpers-2f3e7994.js"],import.meta.url).then(e=>e.p).then(({default:e})=>e({locateFile:t=>L0(`esri/geometry/support/${t}`)})).then(e=>{U0(e)}),Ia)}var _l,Z,Sl;(function(e){function t(o,a,l){w.ensureCache.prepare();const c=Dr(l),d=l===c,p=w.ensureFloat64(c),m=w._pe_geog_to_proj(w.getPointer(o),a,p);return m&&sr(l,a,p,d),m}function r(o,a,l,c){switch(c){case Z.PE_TRANSFORM_P_TO_G:return n(o,a,l);case Z.PE_TRANSFORM_G_TO_P:return t(o,a,l)}return 0}function n(o,a,l){return s(o,a,l,0)}function s(o,a,l,c){w.ensureCache.prepare();const d=Dr(l),p=l===d,m=w.ensureFloat64(d),y=w._pe_proj_to_geog_center(w.getPointer(o),a,m,c);return y&&sr(l,a,m,p),y}e.geogToProj=t,e.projGeog=r,e.projToGeog=n,e.projToGeogCenter=s})(_l||(_l={})),function(e){function t(){e.PE_BUFFER_MAX=w.PeDefs.prototype.PE_BUFFER_MAX,e.PE_NAME_MAX=w.PeDefs.prototype.PE_NAME_MAX,e.PE_MGRS_MAX=w.PeDefs.prototype.PE_MGRS_MAX,e.PE_USNG_MAX=w.PeDefs.prototype.PE_USNG_MAX,e.PE_DD_MAX=w.PeDefs.prototype.PE_DD_MAX,e.PE_DDM_MAX=w.PeDefs.prototype.PE_DDM_MAX,e.PE_DMS_MAX=w.PeDefs.prototype.PE_DMS_MAX,e.PE_UTM_MAX=w.PeDefs.prototype.PE_UTM_MAX,e.PE_PARM_MAX=w.PeDefs.prototype.PE_PARM_MAX,e.PE_TYPE_NONE=w.PeDefs.prototype.PE_TYPE_NONE,e.PE_TYPE_GEOGCS=w.PeDefs.prototype.PE_TYPE_GEOGCS,e.PE_TYPE_PROJCS=w.PeDefs.prototype.PE_TYPE_PROJCS,e.PE_TYPE_GEOGTRAN=w.PeDefs.prototype.PE_TYPE_GEOGTRAN,e.PE_TYPE_COORDSYS=w.PeDefs.prototype.PE_TYPE_COORDSYS,e.PE_TYPE_UNIT=w.PeDefs.prototype.PE_TYPE_UNIT,e.PE_TYPE_LINUNIT=w.PeDefs.prototype.PE_TYPE_LINUNIT,e.PE_STR_OPTS_NONE=w.PeDefs.prototype.PE_STR_OPTS_NONE,e.PE_STR_AUTH_NONE=w.PeDefs.prototype.PE_STR_AUTH_NONE,e.PE_STR_AUTH_TOP=w.PeDefs.prototype.PE_STR_AUTH_TOP,e.PE_STR_NAME_CANON=w.PeDefs.prototype.PE_STR_NAME_CANON,e.PE_STR_FMT_WKT=w.PeDefs.prototype.PE_STR_FMT_WKT,e.PE_STR_FMT_WKT2=w.PeDefs.prototype.PE_STR_FMT_WKT2,e.PE_PARM_X0=w.PeDefs.prototype.PE_PARM_X0,e.PE_PARM_ND=w.PeDefs.prototype.PE_PARM_ND,e.PE_TRANSFORM_1_TO_2=w.PeDefs.prototype.PE_TRANSFORM_1_TO_2,e.PE_TRANSFORM_2_TO_1=w.PeDefs.prototype.PE_TRANSFORM_2_TO_1,e.PE_TRANSFORM_P_TO_G=w.PeDefs.prototype.PE_TRANSFORM_P_TO_G,e.PE_TRANSFORM_G_TO_P=w.PeDefs.prototype.PE_TRANSFORM_G_TO_P,e.PE_HORIZON_RECT=w.PeDefs.prototype.PE_HORIZON_RECT,e.PE_HORIZON_POLY=w.PeDefs.prototype.PE_HORIZON_POLY,e.PE_HORIZON_LINE=w.PeDefs.prototype.PE_HORIZON_LINE,e.PE_HORIZON_DELTA=w.PeDefs.prototype.PE_HORIZON_DELTA}e.init=t}(Z||(Z={})),function(e){const t={},r={},n=g=>{if(g){const b=g.getType();switch(b){case Z.PE_TYPE_GEOGCS:g=w.castObject(g,w.PeGeogcs);break;case Z.PE_TYPE_PROJCS:g=w.castObject(g,w.PeProjcs);break;case Z.PE_TYPE_GEOGTRAN:g=w.castObject(g,w.PeGeogtran);break;default:b&Z.PE_TYPE_UNIT&&(g=w.castObject(g,w.PeUnit))}}return g};function s(){w.PeFactory.prototype.initialize(null)}function o(g){return a(Z.PE_TYPE_COORDSYS,g)}function a(g,b){let S=null,x=t[g];if(x||(x={},t[g]=x),x.hasOwnProperty(String(b)))S=x[b];else{const M=w.PeFactory.prototype.factoryByType(g,b);w.compare(M,w.NULL)||(S=M,x[b]=S)}return S=n(S),S}function l(g,b){let S=null,x=r[g];if(x||(x={},r[g]=x),x.hasOwnProperty(b))S=x[b];else{const M=w.PeFactory.prototype.fromString(g,b);w.compare(M,w.NULL)||(S=M,x[b]=S)}return S=n(S),S}function c(g){return a(Z.PE_TYPE_GEOGCS,g)}function d(g){return a(Z.PE_TYPE_GEOGTRAN,g)}function p(g){return w.PeFactory.prototype.getCode(g)}function m(g){return a(Z.PE_TYPE_PROJCS,g)}function y(g){return a(Z.PE_TYPE_UNIT,g)}e.initialize=s,e.coordsys=o,e.factoryByType=a,e.fromString=l,e.geogcs=c,e.geogtran=d,e.getCode=p,e.projcs=m,e.unit=y}(Sl||(Sl={}));let j0=null;var Mo,xl,Tl,Ol,Eo,Ml,Ao,Po,El;function U0(e){function t(o,a,l){o[a]=l(o[a])}w=e,Z.init(),Mo.init(),Eo.init(),Ao.init(),Po.init(),j0=class extends w.PeGCSExtent{destroy(){w.destroy(this)}};const r=[w.PeDatum,w.PeGeogcs,w.PeGeogtran,w.PeObject,w.PeParameter,w.PePrimem,w.PeProjcs,w.PeSpheroid,w.PeUnit];for(const o of r)t(o.prototype,"getName",a=>function(){return a.call(this,new Array(Z.PE_NAME_MAX))});for(const o of[w.PeGeogtran,w.PeProjcs])t(o.prototype,"getParameters",a=>function(){const l=new Array(Z.PE_PARM_MAX);let c=a.call(this);for(let d=0;d<l.length;d++){const p=w.getValue(c,"*");l[d]=p?w.wrapPointer(p,w.PeParameter):null,c+=Int32Array.BYTES_PER_ELEMENT}return l});t(w.PeHorizon.prototype,"getCoord",o=>function(){const a=this.getSize();if(!a)return null;const l=[];return sr(l,a,o.call(this)),l}),t(w.PeGTlistExtendedEntry.prototype,"getEntries",o=>{const a=w._pe_getPeGTlistExtendedGTsSize();return function(){let l=null;const c=o.call(this);if(!w.compare(c,w.NULL)){l=[c];const d=this.getSteps();if(d>1){const p=w.getPointer(c);for(let m=1;m<d;m++)l.push(w.wrapPointer(p+a*m,w.PeGTlistExtendedGTs))}}return l}});const n=w._pe_getPeHorizonSize(),s=o=>function(){let a=this._cache;if(a||(a=new Map,this._cache=a),a.has(o))return a.get(o);let l=null;const c=o.call(this);if(!w.compare(c,w.NULL)){l=[c];const d=c.getNump();if(d>1){const p=w.getPointer(c);for(let m=1;m<d;m++)l.push(w.wrapPointer(p+n*m,w.PeHorizon))}}return a.set(o,l),l};t(w.PeProjcs.prototype,"horizonGcsGenerate",s),t(w.PeProjcs.prototype,"horizonPcsGenerate",s),w.PeObject.prototype.toString=function(o=Z.PE_STR_OPTS_NONE){w.ensureCache.prepare();const a=w.getPointer(this),l=w.ensureInt8(new Array(Z.PE_BUFFER_MAX));return w.UTF8ToString(w._pe_object_to_string_ext(a,o,l))}}function vt(e){if(!e)return;const t=w.getClass(e);if(!t)return;const r=w.getCache(t);if(!r)return;const n=w.getPointer(e);n&&delete r[n]}function mi(e,t){const r=[],n=new Array(t);for(let s=0;s<e;s++)r.push(w.ensureInt8(n));return r}function Dr(e){let t;return Array.isArray(e[0])?(t=[],e.forEach(r=>{t.push(r[0],r[1])})):t=e,t}function sr(e,t,r,n=!1){if(n)for(let s=0;s<2*t;s++)e[s]=w.getValue(r+s*Float64Array.BYTES_PER_ELEMENT,"double");else{const s=e.length===0;for(let o=0;o<t;o++)s&&(e[o]=new Array(2)),e[o][0]=w.getValue(r,"double"),e[o][1]=w.getValue(r+Float64Array.BYTES_PER_ELEMENT,"double"),r+=2*Float64Array.BYTES_PER_ELEMENT}}(function(e){let t;function r(){e.PE_GTLIST_OPTS_COMMON=w.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,t=w._pe_getPeGTlistExtendedEntrySize()}function n(s,o,a,l,c,d){let p=null;const m=new w.PeInteger(d);try{const y=w.PeGTlistExtended.prototype.getGTlist(s,o,a,l,c,m);if((d=m.val)&&(p=[y],d>1)){const g=w.getPointer(y);for(let b=1;b<d;b++)p.push(w.wrapPointer(g+t*b,w.PeGTlistExtendedEntry))}}finally{w.destroy(m)}return p}e.init=r,e.getGTlist=n})(Mo||(Mo={})),function(e){function t(r){if(r!=null&&r.length){for(const n of r)vt(n),n.getEntries().forEach(s=>{vt(s);const o=s.getGeogtran();vt(o),o.getParameters().forEach(vt),[o.getGeogcs1(),o.getGeogcs2()].forEach(a=>{vt(a);const l=a.getDatum();vt(l),vt(l.getSpheroid()),vt(a.getPrimem()),vt(a.getUnit())})});w.PeGTlistExtendedEntry.prototype.Delete(r[0])}}e.destroy=t}(xl||(xl={})),function(e){function t(r,n,s,o,a){w.ensureCache.prepare();const l=Dr(s),c=s===l,d=w.ensureFloat64(l);let p=0;o&&(p=w.ensureFloat64(o));const m=w._pe_geog_to_geog(w.getPointer(r),n,d,p,a);return m&&sr(s,n,d,c),m}e.geogToGeog=t}(Tl||(Tl={})),function(e){const t=(d,p,m,y,g,b)=>{let S,x;switch(w.ensureCache.prepare(),d){case"dd":S=w._pe_geog_to_dd,x=Z.PE_DD_MAX;break;case"ddm":S=w._pe_geog_to_ddm,x=Z.PE_DDM_MAX;break;case"dms":S=w._pe_geog_to_dms,x=Z.PE_DMS_MAX}let M=0;p&&(M=w.getPointer(p));const P=Dr(y),F=w.ensureFloat64(P),W=mi(m,x),z=S(M,m,F,g,w.ensureInt32(W));if(z)for(let be=0;be<m;be++)b[be]=w.UTF8ToString(W[be]);return z},r=(d,p,m,y,g)=>{let b;switch(w.ensureCache.prepare(),d){case"dd":b=w._pe_dd_to_geog;break;case"ddm":b=w._pe_ddm_to_geog;break;case"dms":b=w._pe_dms_to_geog}let S=0;p&&(S=w.getPointer(p));const x=y.map(W=>w.ensureString(W)),M=w.ensureInt32(x),P=w.ensureFloat64(new Array(2*m)),F=b(S,m,M,P);return F&&sr(g,m,P),F};function n(d,p,m,y,g){return t("dms",d,p,m,y,g)}function s(d,p,m,y){return r("dms",d,p,m,y)}function o(d,p,m,y,g){return t("ddm",d,p,m,y,g)}function a(d,p,m,y){return r("ddm",d,p,m,y)}function l(d,p,m,y,g){return t("dd",d,p,m,y,g)}function c(d,p,m,y){return r("dd",d,p,m,y)}e.geogToDms=n,e.dmsToGeog=s,e.geogToDdm=o,e.ddmToGeog=a,e.geogToDd=l,e.ddToGeog=c}(Ol||(Ol={})),function(e){function t(){e.PE_MGRS_STYLE_NEW=w.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,e.PE_MGRS_STYLE_OLD=w.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,e.PE_MGRS_STYLE_AUTO=w.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,e.PE_MGRS_180_ZONE_1_PLUS=w.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,e.PE_MGRS_ADD_SPACES=w.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES}function r(s,o,a,l,c,d,p){w.ensureCache.prepare();let m=0;s&&(m=w.getPointer(s));const y=Dr(a),g=w.ensureFloat64(y),b=mi(o,Z.PE_MGRS_MAX),S=w.ensureInt32(b),x=w._pe_geog_to_mgrs_extended(m,o,g,l,c,d,S);if(x)for(let M=0;M<o;M++)p[M]=w.UTF8ToString(b[M]);return x}function n(s,o,a,l,c){w.ensureCache.prepare();let d=0;s&&(d=w.getPointer(s));const p=a.map(b=>w.ensureString(b)),m=w.ensureInt32(p),y=w.ensureFloat64(new Array(2*o)),g=w._pe_mgrs_to_geog_extended(d,o,m,l,y);return g&&sr(c,o,y),g}e.init=t,e.geogToMgrsExtended=r,e.mgrsToGeogExtended=n}(Eo||(Eo={})),function(e){function t(n,s,o,a,l,c,d){w.ensureCache.prepare();let p=0;n&&(p=w.getPointer(n));const m=Dr(o),y=w.ensureFloat64(m),g=mi(s,Z.PE_MGRS_MAX),b=w.ensureInt32(g),S=w._pe_geog_to_usng(p,s,y,a,l,c,b);if(S)for(let x=0;x<s;x++)d[x]=w.UTF8ToString(g[x]);return S}function r(n,s,o,a){w.ensureCache.prepare();let l=0;n&&(l=w.getPointer(n));const c=o.map(y=>w.ensureString(y)),d=w.ensureInt32(c),p=w.ensureFloat64(new Array(2*s)),m=w._pe_usng_to_geog(l,s,d,p);return m&&sr(a,s,p),m}e.geogToUsng=t,e.usngToGeog=r}(Ml||(Ml={})),function(e){function t(){e.PE_UTM_OPTS_NONE=w.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,e.PE_UTM_OPTS_ADD_SPACES=w.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,e.PE_UTM_OPTS_NS=w.PeNotationUtm.prototype.PE_UTM_OPTS_NS}function r(s,o,a,l,c){w.ensureCache.prepare();let d=0;s&&(d=w.getPointer(s));const p=Dr(a),m=w.ensureFloat64(p),y=mi(o,Z.PE_UTM_MAX),g=w.ensureInt32(y),b=w._pe_geog_to_utm(d,o,m,l,g);if(b)for(let S=0;S<o;S++)c[S]=w.UTF8ToString(y[S]);return b}function n(s,o,a,l,c){w.ensureCache.prepare();let d=0;s&&(d=w.getPointer(s));const p=a.map(b=>w.ensureString(b)),m=w.ensureInt32(p),y=w.ensureFloat64(new Array(2*o)),g=w._pe_utm_to_geog(d,o,m,l,y);return g&&sr(c,o,y),g}e.init=t,e.geogToUtm=r,e.utmToGeog=n}(Ao||(Ao={})),function(e){const t=new Map;function r(){e.PE_PCSINFO_OPTION_NONE=w.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,e.PE_PCSINFO_OPTION_DOMAIN=w.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,e.PE_POLE_OUTSIDE_BOUNDARY=w.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,e.PE_POLE_POINT=w.PePCSInfo.prototype.PE_POLE_POINT}function n(s,o=e.PE_PCSINFO_OPTION_DOMAIN){let a=null,l=null;return t.has(s)&&(l=t.get(s),l[o]&&(a=l[o])),a||(a=w.PePCSInfo.prototype.generate(s,o),l||(l=[],t.set(s,l)),l[o]=a),a}e.init=r,e.generate=n}(Po||(Po={})),function(e){function t(){return w.PeVersion.prototype.version_string()}e.versionString=t}(El||(El={}));const _T=Object.freeze(Object.defineProperty({__proto__:null,get PeCSTransformations(){return _l},get PeDefs(){return Z},get PeFactory(){return Sl},get PeGCSExtent(){return j0},get PeGTTransformations(){return Tl},get PeGTlistExtended(){return Mo},get PeGTlistExtendedEntry(){return xl},get PeNotationDms(){return Ol},get PeNotationMgrs(){return Eo},get PeNotationUsng(){return Ml},get PeNotationUtm(){return Ao},get PePCSInfo(){return Po},get PeVersion(){return El},_init:U0,get _pe(){return w},isLoaded:z3,isSupported:G3,load:q3},Symbol.toStringTag,{value:"Module"}));var Sn;(function(e){e[e.CGCS2000=4490]="CGCS2000",e[e.GCSMARS2000=104971]="GCSMARS2000",e[e.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE",e[e.GCSMOON2000=104903]="GCSMOON2000"})(Sn||(Sn={}));let i;const f={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9895:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,10160:0,10183:0,10188:0,10194:0,10199:0,10207:0,10212:0,10217:0,10222:0,10227:0,10235:0,10240:0,10250:0,10254:0,10270:0,10275:0,10280:0,10306:0,10329:0,10471:0,20002:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2,103897:1};for(i=2e3;i<=2045;i++)f[i]=0;for(i=2056;i<=2065;i++)f[i]=0;for(i=2067;i<=2135;i++)f[i]=0;for(i=2137;i<=2154;i++)f[i]=0;for(i=2161;i<=2170;i++)f[i]=0;for(i=2172;i<=2193;i++)f[i]=0;for(i=2195;i<=2198;i++)f[i]=0;for(i=2200;i<=2203;i++)f[i]=0;for(i=2205;i<=2217;i++)f[i]=0;for(i=2222;i<=2224;i++)f[i]=1;for(i=2225;i<=2250;i++)f[i]=2;for(i=2251;i<=2253;i++)f[i]=1;for(i=2257;i<=2264;i++)f[i]=2;for(i=2274;i<=2279;i++)f[i]=2;for(i=2280;i<=2282;i++)f[i]=1;for(i=2283;i<=2289;i++)f[i]=2;for(i=2290;i<=2292;i++)f[i]=0;for(i=2308;i<=2313;i++)f[i]=0;for(i=2315;i<=2491;i++)f[i]=0;for(i=2494;i<=2866;i++)f[i]=0;for(i=2867;i<=2869;i++)f[i]=1;for(i=2870;i<=2888;i++)f[i]=2;for(i=2891;i<=2895;i++)f[i]=2;for(i=2896;i<=2898;i++)f[i]=1;for(i=2902;i<=2908;i++)f[i]=2;for(i=2915;i<=2920;i++)f[i]=2;for(i=2921;i<=2923;i++)f[i]=1;for(i=2924;i<=2930;i++)f[i]=2;for(i=2931;i<=2962;i++)f[i]=0;for(i=2964;i<=2968;i++)f[i]=2;for(i=2969;i<=2973;i++)f[i]=0;for(i=2975;i<=2991;i++)f[i]=0;for(i=2995;i<=3051;i++)f[i]=0;for(i=3054;i<=3079;i++)f[i]=0;for(i=3081;i<=3088;i++)f[i]=0;for(i=3092;i<=3101;i++)f[i]=0;for(i=3106;i<=3138;i++)f[i]=0;for(i=3146;i<=3151;i++)f[i]=0;for(i=3153;i<=3166;i++)f[i]=0;for(i=3168;i<=3172;i++)f[i]=0;for(i=3174;i<=3203;i++)f[i]=0;for(i=3294;i<=3358;i++)f[i]=0;for(i=3367;i<=3403;i++)f[i]=0;for(i=3408;i<=3416;i++)f[i]=0;for(i=3417;i<=3438;i++)f[i]=2;for(i=3441;i<=3446;i++)f[i]=2;for(i=3447;i<=3450;i++)f[i]=0;for(i=3451;i<=3459;i++)f[i]=2;for(i=3460;i<=3478;i++)f[i]=0;for(i=3554;i<=3559;i++)f[i]=0;for(i=3560;i<=3570;i++)f[i]=2;for(i=3571;i<=3581;i++)f[i]=0;for(i=3594;i<=3597;i++)f[i]=0;for(i=3601;i<=3604;i++)f[i]=0;for(i=3637;i<=3639;i++)f[i]=0;for(i=3665;i<=3667;i++)f[i]=0;for(i=3693;i<=3695;i++)f[i]=0;for(i=3701;i<=3727;i++)f[i]=0;for(i=3728;i<=3739;i++)f[i]=2;for(i=3740;i<=3751;i++)f[i]=0;for(i=3753;i<=3760;i++)f[i]=2;for(i=3761;i<=3773;i++)f[i]=0;for(i=3775;i<=3777;i++)f[i]=0;for(i=3779;i<=3781;i++)f[i]=0;for(i=3783;i<=3785;i++)f[i]=0;for(i=3788;i<=3791;i++)f[i]=0;for(i=3797;i<=3802;i++)f[i]=0;for(i=3814;i<=3816;i++)f[i]=0;for(i=3825;i<=3829;i++)f[i]=0;for(i=3832;i<=3841;i++)f[i]=0;for(i=3844;i<=3852;i++)f[i]=0;for(i=3873;i<=3885;i++)f[i]=0;for(i=3890;i<=3893;i++)f[i]=0;for(i=3907;i<=3912;i++)f[i]=0;for(i=3942;i<=3950;i++)f[i]=0;for(i=3968;i<=3970;i++)f[i]=0;for(i=3973;i<=3976;i++)f[i]=0;for(i=3986;i<=3989;i++)f[i]=0;for(i=3994;i<=3997;i++)f[i]=0;for(i=4048;i<=4051;i++)f[i]=0;for(i=4056;i<=4063;i++)f[i]=0;for(i=4093;i<=4096;i++)f[i]=0;for(i=4390;i<=4398;i++)f[i]=0;for(i=4399;i<=4413;i++)f[i]=2;for(i=4418;i<=4433;i++)f[i]=2;for(i=4455;i<=4457;i++)f[i]=2;for(i=4484;i<=4489;i++)f[i]=0;for(i=4491;i<=4554;i++)f[i]=0;for(i=4568;i<=4589;i++)f[i]=0;for(i=4652;i<=4656;i++)f[i]=0;for(i=4766;i<=4800;i++)f[i]=0;for(i=5014;i<=5016;i++)f[i]=0;for(i=5069;i<=5072;i++)f[i]=0;for(i=5105;i<=5130;i++)f[i]=0;for(i=5167;i<=5188;i++)f[i]=0;for(i=5253;i<=5259;i++)f[i]=0;for(i=5269;i<=5275;i++)f[i]=0;for(i=5292;i<=5311;i++)f[i]=0;for(i=5329;i<=5331;i++)f[i]=0;for(i=5343;i<=5349;i++)f[i]=0;for(i=5355;i<=5357;i++)f[i]=0;for(i=5387;i<=5389;i++)f[i]=0;for(i=5459;i<=5463;i++)f[i]=0;for(i=5479;i<=5482;i++)f[i]=0;for(i=5518;i<=5520;i++)f[i]=0;for(i=5530;i<=5539;i++)f[i]=0;for(i=5550;i<=5552;i++)f[i]=0;for(i=5562;i<=5583;i++)f[i]=0;for(i=5623;i<=5625;i++)f[i]=2;for(i=5631;i<=5639;i++)f[i]=0;for(i=5649;i<=5653;i++)f[i]=0;for(i=5663;i<=5680;i++)f[i]=0;for(i=5682;i<=5685;i++)f[i]=0;for(i=5875;i<=5877;i++)f[i]=0;for(i=5896;i<=5899;i++)f[i]=0;for(i=5921;i<=5940;i++)f[i]=0;for(i=6050;i<=6125;i++)f[i]=0;for(i=6244;i<=6275;i++)f[i]=0;for(i=6328;i<=6348;i++)f[i]=0;for(i=6350;i<=6356;i++)f[i]=0;for(i=6366;i<=6372;i++)f[i]=0;for(i=6381;i<=6387;i++)f[i]=0;for(i=6393;i<=6404;i++)f[i]=0;for(i=6480;i<=6483;i++)f[i]=0;for(i=6511;i<=6514;i++)f[i]=0;for(i=6579;i<=6581;i++)f[i]=0;for(i=6619;i<=6624;i++)f[i]=0;for(i=6625;i<=6627;i++)f[i]=2;for(i=6628;i<=6632;i++)f[i]=0;for(i=6634;i<=6637;i++)f[i]=0;for(i=6669;i<=6692;i++)f[i]=0;for(i=6707;i<=6709;i++)f[i]=0;for(i=6720;i<=6723;i++)f[i]=0;for(i=6732;i<=6738;i++)f[i]=0;for(i=6931;i<=6933;i++)f[i]=0;for(i=6956;i<=6959;i++)f[i]=0;for(i=7005;i<=7007;i++)f[i]=0;for(i=7057;i<=7070;i++)f[i]=2;for(i=7074;i<=7082;i++)f[i]=0;for(i=7109;i<=7118;i++)f[i]=0;for(i=7119;i<=7127;i++)f[i]=1;for(i=7374;i<=7376;i++)f[i]=0;for(i=7528;i<=7586;i++)f[i]=0;for(i=7587;i<=7645;i++)f[i]=2;for(i=7692;i<=7696;i++)f[i]=0;for(i=7755;i<=7787;i++)f[i]=0;for(i=7791;i<=7795;i++)f[i]=0;for(i=7799;i<=7801;i++)f[i]=0;for(i=7803;i<=7805;i++)f[i]=0;for(i=7825;i<=7831;i++)f[i]=0;for(i=7845;i<=7859;i++)f[i]=0;for(i=8013;i<=8032;i++)f[i]=0;for(i=8065;i<=8068;i++)f[i]=1;for(i=8518;i<=8529;i++)f[i]=2;for(i=8533;i<=8536;i++)f[i]=2;for(i=8538;i<=8540;i++)f[i]=2;for(i=8677;i<=8679;i++)f[i]=0;for(i=8836;i<=8840;i++)f[i]=0;for(i=8857;i<=8859;i++)f[i]=0;for(i=8908;i<=8910;i++)f[i]=0;for(i=9154;i<=9159;i++)f[i]=0;for(i=9205;i<=9218;i++)f[i]=0;for(i=9271;i<=9273;i++)f[i]=0;for(i=9295;i<=9297;i++)f[i]=0;for(i=9356;i<=9360;i++)f[i]=0;for(i=9404;i<=9407;i++)f[i]=0;for(i=9476;i<=9482;i++)f[i]=0;for(i=9487;i<=9494;i++)f[i]=0;for(i=9697;i<=9699;i++)f[i]=0;for(i=9821;i<=9865;i++)f[i]=0;for(i=10285;i<=10291;i++)f[i]=0;for(i=10314;i<=10317;i++)f[i]=0;for(i=10448;i<=10465;i++)f[i]=0;for(i=11114;i<=11118;i++)f[i]=0;for(i=20004;i<=20032;i++)f[i]=0;for(i=20047;i<=20049;i++)f[i]=0;for(i=20062;i<=20092;i++)f[i]=0;for(i=20135;i<=20138;i++)f[i]=0;for(i=20248;i<=20258;i++)f[i]=0;for(i=20348;i<=20358;i++)f[i]=0;for(i=20436;i<=20440;i++)f[i]=0;for(i=20822;i<=20824;i++)f[i]=0;for(i=20904;i<=20932;i++)f[i]=0;for(i=20934;i<=20936;i++)f[i]=0;for(i=21004;i<=21032;i++)f[i]=0;for(i=21035;i<=21037;i++)f[i]=0;for(i=21095;i<=21097;i++)f[i]=0;for(i=21148;i<=21150;i++)f[i]=0;for(i=21207;i<=21264;i++)f[i]=0;for(i=21307;i<=21364;i++)f[i]=0;for(i=21413;i<=21423;i++)f[i]=0;for(i=21453;i<=21463;i++)f[i]=0;for(i=21473;i<=21483;i++)f[i]=0;for(i=21780;i<=21782;i++)f[i]=0;for(i=21891;i<=21894;i++)f[i]=0;for(i=21896;i<=21899;i++)f[i]=0;for(i=22171;i<=22177;i++)f[i]=0;for(i=22181;i<=22187;i++)f[i]=0;for(i=22191;i<=22197;i++)f[i]=0;for(i=22207;i<=22222;i++)f[i]=0;for(i=22229;i<=22232;i++)f[i]=0;for(i=22234;i<=22236;i++)f[i]=0;for(i=22243;i<=22250;i++)f[i]=0;for(i=22262;i<=22265;i++)f[i]=0;for(i=22307;i<=22322;i++)f[i]=0;for(i=22348;i<=22357;i++)f[i]=0;for(i=22407;i<=22422;i++)f[i]=0;for(i=22462;i<=22465;i++)f[i]=0;for(i=22521;i<=22525;i++)f[i]=0;for(i=22607;i<=22622;i++)f[i]=0;for(i=22641;i<=22646;i++)f[i]=0;for(i=22648;i<=22657;i++)f[i]=0;for(i=22707;i<=22722;i++)f[i]=0;for(i=22762;i<=22765;i++)f[i]=0;for(i=22807;i<=22822;i++)f[i]=0;for(i=22991;i<=22994;i++)f[i]=0;for(i=23028;i<=23038;i++)f[i]=0;for(i=23301;i<=23333;i++)f[i]=2;for(i=23830;i<=23853;i++)f[i]=0;for(i=23866;i<=23872;i++)f[i]=0;for(i=23877;i<=23884;i++)f[i]=0;for(i=23886;i<=23894;i++)f[i]=0;for(i=23946;i<=23948;i++)f[i]=0;for(i=24311;i<=24313;i++)f[i]=0;for(i=24342;i<=24347;i++)f[i]=0;for(i=24370;i<=24374;i++)f[i]=10;for(i=24375;i<=24381;i++)f[i]=0;for(i=24718;i<=24721;i++)f[i]=0;for(i=24817;i<=24821;i++)f[i]=0;for(i=24877;i<=24882;i++)f[i]=0;for(i=24891;i<=24893;i++)f[i]=0;for(i=25391;i<=25395;i++)f[i]=0;for(i=25828;i<=25838;i++)f[i]=0;for(i=26191;i<=26195;i++)f[i]=0;for(i=26391;i<=26393;i++)f[i]=0;for(i=26701;i<=26722;i++)f[i]=0;for(i=26729;i<=26799;i++)f[i]=2;for(i=26801;i<=26803;i++)f[i]=2;for(i=26811;i<=26813;i++)f[i]=2;for(i=26847;i<=26870;i++)f[i]=2;for(i=26891;i<=26899;i++)f[i]=0;for(i=26901;i<=26923;i++)f[i]=0;for(i=26929;i<=26946;i++)f[i]=0;for(i=26948;i<=26998;i++)f[i]=0;for(i=27037;i<=27040;i++)f[i]=0;for(i=27205;i<=27232;i++)f[i]=0;for(i=27258;i<=27260;i++)f[i]=0;for(i=27391;i<=27398;i++)f[i]=0;for(i=27561;i<=27564;i++)f[i]=0;for(i=27571;i<=27574;i++)f[i]=0;for(i=27581;i<=27584;i++)f[i]=0;for(i=27591;i<=27594;i++)f[i]=0;for(i=28191;i<=28193;i++)f[i]=0;for(i=28348;i<=28358;i++)f[i]=0;for(i=28402;i<=28432;i++)f[i]=0;for(i=28462;i<=28492;i++)f[i]=0;for(i=29118;i<=29122;i++)f[i]=0;for(i=29168;i<=29172;i++)f[i]=0;for(i=29177;i<=29185;i++)f[i]=0;for(i=29187;i<=29195;i++)f[i]=0;for(i=29900;i<=29903;i++)f[i]=0;for(i=30161;i<=30179;i++)f[i]=0;for(i=30491;i<=30494;i++)f[i]=0;for(i=30729;i<=30732;i++)f[i]=0;for(i=31251;i<=31259;i++)f[i]=0;for(i=31265;i<=31268;i++)f[i]=0;for(i=31275;i<=31279;i++)f[i]=0;for(i=31281;i<=31297;i++)f[i]=0;for(i=31461;i<=31469;i++)f[i]=0;for(i=31491;i<=31495;i++)f[i]=0;for(i=31917;i<=31922;i++)f[i]=0;for(i=31965;i<=32e3;i++)f[i]=0;for(i=32001;i<=32003;i++)f[i]=2;for(i=32005;i<=32031;i++)f[i]=2;for(i=32033;i<=32060;i++)f[i]=2;for(i=32064;i<=32067;i++)f[i]=2;for(i=32074;i<=32077;i++)f[i]=2;for(i=32081;i<=32086;i++)f[i]=0;for(i=32107;i<=32130;i++)f[i]=0;for(i=32133;i<=32159;i++)f[i]=0;for(i=32164;i<=32167;i++)f[i]=2;for(i=32180;i<=32199;i++)f[i]=0;for(i=32201;i<=32260;i++)f[i]=0;for(i=32301;i<=32360;i++)f[i]=0;for(i=32401;i<=32460;i++)f[i]=0;for(i=32501;i<=32560;i++)f[i]=0;for(i=32601;i<=32662;i++)f[i]=0;for(i=32664;i<=32667;i++)f[i]=2;for(i=32701;i<=32761;i++)f[i]=0;for(i=53001;i<=53004;i++)f[i]=0;for(i=53008;i<=53019;i++)f[i]=0;for(i=53021;i<=53032;i++)f[i]=0;for(i=53034;i<=53037;i++)f[i]=0;for(i=53042;i<=53046;i++)f[i]=0;for(i=53074;i<=53080;i++)f[i]=0;for(i=54001;i<=54004;i++)f[i]=0;for(i=54008;i<=54019;i++)f[i]=0;for(i=54021;i<=54032;i++)f[i]=0;for(i=54034;i<=54037;i++)f[i]=0;for(i=54042;i<=54046;i++)f[i]=0;for(i=54048;i<=54053;i++)f[i]=0;for(i=54074;i<=54080;i++)f[i]=0;for(i=54098;i<=54101;i++)f[i]=0;for(i=102001;i<=102040;i++)f[i]=0;for(i=102042;i<=102063;i++)f[i]=0;for(i=102065;i<=102067;i++)f[i]=0;for(i=102070;i<=102117;i++)f[i]=0;for(i=102122;i<=102216;i++)f[i]=0;for(i=102221;i<=102377;i++)f[i]=0;for(i=102382;i<=102388;i++)f[i]=0;for(i=102389;i<=102398;i++)f[i]=2;for(i=102399;i<=102444;i++)f[i]=0;for(i=102445;i<=102447;i++)f[i]=2;for(i=102448;i<=102458;i++)f[i]=0;for(i=102459;i<=102468;i++)f[i]=2;for(i=102469;i<=102499;i++)f[i]=0;for(i=102500;i<=102519;i++)f[i]=1;for(i=102520;i<=102524;i++)f[i]=0;for(i=102525;i<=102529;i++)f[i]=2;for(i=102530;i<=102588;i++)f[i]=0;for(i=102590;i<=102598;i++)f[i]=0;for(i=102601;i<=102603;i++)f[i]=0;for(i=102605;i<=102628;i++)f[i]=0;for(i=102629;i<=102646;i++)f[i]=2;for(i=102648;i<=102700;i++)f[i]=2;for(i=102701;i<=102703;i++)f[i]=0;for(i=102707;i<=102730;i++)f[i]=2;for(i=102733;i<=102758;i++)f[i]=2;for(i=102767;i<=102900;i++)f[i]=0;for(i=102901;i<=102933;i++)f[i]=2;for(i=102934;i<=102950;i++)f[i]=13;for(i=102951;i<=102955;i++)f[i]=0;for(i=102961;i<=102963;i++)f[i]=0;for(i=102965;i<=102969;i++)f[i]=0;for(i=102971;i<=102973;i++)f[i]=0;for(i=102975;i<=102989;i++)f[i]=0;for(i=102990;i<=102992;i++)f[i]=1;for(i=102997;i<=103002;i++)f[i]=0;for(i=103003;i<=103008;i++)f[i]=2;for(i=103009;i<=103011;i++)f[i]=0;for(i=103012;i<=103014;i++)f[i]=2;for(i=103019;i<=103021;i++)f[i]=0;for(i=103022;i<=103024;i++)f[i]=2;for(i=103029;i<=103031;i++)f[i]=0;for(i=103032;i<=103034;i++)f[i]=2;for(i=103065;i<=103068;i++)f[i]=0;for(i=103074;i<=103076;i++)f[i]=0;for(i=103077;i<=103079;i++)f[i]=1;for(i=103080;i<=103082;i++)f[i]=0;for(i=103083;i<=103085;i++)f[i]=2;for(i=103090;i<=103093;i++)f[i]=0;for(i=103097;i<=103099;i++)f[i]=0;for(i=103100;i<=103102;i++)f[i]=2;for(i=103107;i<=103109;i++)f[i]=0;for(i=103110;i<=103112;i++)f[i]=2;for(i=103113;i<=103116;i++)f[i]=0;for(i=103117;i<=103120;i++)f[i]=2;for(i=103153;i<=103157;i++)f[i]=0;for(i=103158;i<=103162;i++)f[i]=2;for(i=103163;i<=103165;i++)f[i]=0;for(i=103166;i<=103168;i++)f[i]=1;for(i=103169;i<=103171;i++)f[i]=2;for(i=103186;i<=103188;i++)f[i]=0;for(i=103189;i<=103191;i++)f[i]=2;for(i=103192;i<=103195;i++)f[i]=0;for(i=103196;i<=103199;i++)f[i]=2;for(i=103200;i<=103224;i++)f[i]=0;for(i=103225;i<=103227;i++)f[i]=1;for(i=103232;i<=103237;i++)f[i]=0;for(i=103238;i<=103243;i++)f[i]=2;for(i=103244;i<=103246;i++)f[i]=0;for(i=103247;i<=103249;i++)f[i]=2;for(i=103254;i<=103256;i++)f[i]=0;for(i=103257;i<=103259;i++)f[i]=2;for(i=103264;i<=103266;i++)f[i]=0;for(i=103267;i<=103269;i++)f[i]=2;for(i=103300;i<=103375;i++)f[i]=0;for(i=103381;i<=103383;i++)f[i]=0;for(i=103384;i<=103386;i++)f[i]=1;for(i=103387;i<=103389;i++)f[i]=0;for(i=103390;i<=103392;i++)f[i]=2;for(i=103397;i<=103399;i++)f[i]=0;for(i=103400;i<=103471;i++)f[i]=2;for(i=103476;i<=103478;i++)f[i]=0;for(i=103479;i<=103481;i++)f[i]=2;for(i=103486;i<=103488;i++)f[i]=0;for(i=103489;i<=103491;i++)f[i]=2;for(i=103492;i<=103495;i++)f[i]=0;for(i=103496;i<=103499;i++)f[i]=2;for(i=103528;i<=103543;i++)f[i]=0;for(i=103544;i<=103548;i++)f[i]=2;for(i=103549;i<=103551;i++)f[i]=0;for(i=103552;i<=103554;i++)f[i]=1;for(i=103555;i<=103557;i++)f[i]=2;for(i=103558;i<=103560;i++)f[i]=0;for(i=103571;i<=103573;i++)f[i]=0;for(i=103574;i<=103576;i++)f[i]=2;for(i=103577;i<=103580;i++)f[i]=0;for(i=103581;i<=103583;i++)f[i]=2;for(i=103595;i<=103694;i++)f[i]=0;for(i=103696;i<=103699;i++)f[i]=0;for(i=103700;i<=103793;i++)f[i]=2;for(i=103794;i<=103890;i++)f[i]=0;for(i=103891;i<=103896;i++)f[i]=2;for(i=103900;i<=103971;i++)f[i]=2;for(i=103972;i<=103977;i++)f[i]=0;for(i=112e3;i<=112101;i++)f[i]=0;const V3={102113:!0,102100:!0,3857:!0,3785:!0},B3={4326:!0,3785:!0,3857:!0,102113:!0,102100:!0,104905:!0,104971:!0},Kh='PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',yi=[-20037508342788905e-9,20037508342788905e-9],gi=[-20037508342787e-6,20037508342787e-6],z0={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:yi,origin:gi,dx:1e-5},102100:{wkTemplate:Kh,valid:yi,origin:gi,dx:1e-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:yi,origin:gi,dx:1e-5},3857:{wkTemplate:Kh,valid:yi,origin:gi,dx:1e-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5}};function Ct(e,t){if(e===t)return!0;if(e==null||t==null)return!1;if(e.wkid!=null||t.wkid!=null)return e.wkid===t.wkid||xn(e)&&xn(t)||t.latestWkid!=null&&e.wkid===t.latestWkid||e.latestWkid!=null&&t.wkid===e.latestWkid;const r=e.wkt2??e.wkt,n=t.wkt2??t.wkt;return!(!r||!n)&&r.toUpperCase()===n.toUpperCase()}function ji(e){return Dt(e)&&e.wkid&&z0[e.wkid]||null}function ST(e){if(!e)return;if(e.wkid)return String(e.wkid);const t=e.wkt||e.wkt2;return JSON.stringify(t?{wkt:t}:{})}function G0(e){if(!Dt(e))return!1;if(e.wkid)return f[e.wkid]==null;const t=e.wkt2||e.wkt;return!!t&&/^\s*(?:GEOGCS|GEOGCRS|GEOGRAPHICCRS)/i.test(t)}function W3(e){return!(q0(e)||V0(e))}function No(e){return Dt(e)&&e.wkid===4326}function xT(e){return/^\s*(?:GEOD|GEODETIC|GEOG|GEOGRAPHIC|PROJ|PROJECTED|VERT|VERTICAL|ENG|ENGINEERING|PARAMETRIC|TIME|DERIVEDPROJ|COMPOUND|BOUND)CRS/i.test(e)}function TT(e){return Dt(e)&&e.wkid===Sn.CGCS2000}function xn(e){return Dt(e)&&e.wkid!=null&&V3[e.wkid]===!0}function OT(e){return Dt(e)&&e.wkid===32662}function Ac(e){return e===Sn.GCSMARS2000||e===Sn.GCSMARS2000_SPHERE}function q0(e){return Dt(e)&&e.wkid!=null&&Ac(e.wkid)}function Pc(e){return e===Sn.GCSMOON2000}function V0(e){return Dt(e)&&e.wkid!=null&&Pc(e.wkid)}function H3(e){return Dt(e)&&e.wkid!=null&&B3[e.wkid]===!0}function Dt(e){return e!=null&&(e.wkid!=null&&e.wkid>=2e3||e.wkt2!=null||e.wkt!=null)}const Z3={wkid:4326,wkt:oc(z0[4326].wkTemplate,{Central_Meridian:"0.0"})},J3={wkid:102100,latestWkid:3857},Y3={wkid:32662};function Nc(e){return{wkt:`GEOCCS["Spherical geocentric",
    DATUM["Not specified",
      SPHEROID["Sphere",${e.radius},0]],
    PRIMEM["Greenwich",0.0,
      AUTHORITY["EPSG","8901"]],
    UNIT["m",1.0],
    AXIS["Geocentric X",OTHER],
    AXIS["Geocentric Y",EAST],
    AXIS["Geocentric Z",NORTH]
  ]`}}const K3=Nc(Xe),B0=Nc(na),W0=Nc(sa),MT={wkt:`GEOCCS["WGS 84",
  DATUM["WGS_1984",
    SPHEROID["WGS 84",${Xe.radius},298.257223563,
      AUTHORITY["EPSG","7030"]],
    AUTHORITY["EPSG","6326"]],
  PRIMEM["Greenwich",0,
    AUTHORITY["EPSG","8901"]],
  UNIT["m",1.0,
    AUTHORITY["EPSG","9001"]],
  AXIS["Geocentric X",OTHER],
  AXIS["Geocentric Y",OTHER],
  AXIS["Geocentric Z",NORTH],
  AUTHORITY["EPSG","4978"]
]`};function Q3(e){return e!=null&&(q0(e)||Ct(e,B0))?na:e!=null&&(V0(e)||Ct(e,W0))?sa:Xe}function ET(e){return Ac(e)?na:Pc(e)?sa:Xe}function X3(e){return Ct(e,K3)}function AT(e){return X3(e)||Ct(e,B0)||Ct(e,W0)}const PT=39.37,ew=Xe.radius*Math.PI/200,H0=/(?:LENGTH)?UNIT\[([^\]]+)]]$/i,jr=f,Z0=/UNIT\[([^\]]+)]/i,tw=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),rw=tt()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"}),rt=e=>e*e,jt=e=>e*e*e,Gs={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1e3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:rt(.001)},"square-centimeters":{inBaseUnits:rt(.01)},"square-decimeters":{inBaseUnits:rt(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:rt(1e3)},"square-inches":{inBaseUnits:rt(.0254)},"square-feet":{inBaseUnits:rt(.3048)},"square-yards":{inBaseUnits:rt(.9144)},"square-miles":{inBaseUnits:rt(1609.344)},"square-us-feet":{inBaseUnits:rt(1200/3937)},acres:{inBaseUnits:.0015625*rt(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*jt(.001)},"cubic-centimeters":{inBaseUnits:1e3*jt(.01)},"cubic-decimeters":{inBaseUnits:1e3*jt(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*jt(1e3)},"cubic-inches":{inBaseUnits:1e3*jt(.0254)},"cubic-feet":{inBaseUnits:1e3*jt(.3048)},"cubic-yards":{inBaseUnits:1e3*jt(.9144)},"cubic-miles":{inBaseUnits:1e3*jt(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},nw=(()=>{const e={};for(const t in Gs)for(const r in Gs[t].units)e[r]=t;return e})();function sw(e,t,r){return e*Gs[r].units[t].inBaseUnits}function iw(e,t,r){return e/Gs[r].units[t].inBaseUnits}function Al(e){const t=nw[e];if(!t)throw new Error("unknown type");return t}function Qh(e,t=null){return t=t||Al(e),Gs[t].baseUnit===e}function ow(e,t,r){if(t===r)return e;const n=Al(t);if(n!==Al(r))throw new Error("incompatible units");const s=Qh(t,n)?e:sw(e,t,n);return Qh(r,n)?s:iw(s,r,n)}function NT(e,t,r){return ow(e,t,"meters")/(r*Math.PI/180)}function aw(e){return rw.fromJSON(e.toLowerCase())||null}function IT(e){if(e!=null&&!W3(e))return 1;const t=ia(e);return t>1e5?1:t}function CT(e){return ia(e)>=Q3(e).metersPerDegree?"meters":Y0(e)}function ia(e,t=Xe.metersPerDegree){return lw(e,!0)??t}function lw(e,t=!1){const r=(e==null?void 0:e.wkid)??null,n=(e==null?void 0:e.wkt2)??(e==null?void 0:e.wkt)??null;let s=null;if(r){if(Ac(r))return na.metersPerDegree;if(Pc(r))return sa.metersPerDegree;s=jr.values[jr[r]],!s&&t&&tw.has(r)&&(s=ew)}else n&&(Q0(n)?s=Xh(H0.exec(n),s):K0(n)&&(s=Xh(Z0.exec(n),s)));return s}function kT(e){return G0(e)?1:ia(e)}function Xh(e,t){return e!=null&&e[1]?J0(e[1]):t}function J0(e){return parseFloat(e.split(",")[1])}function Y0(e){const t=(e==null?void 0:e.wkid)??null,r=(e==null?void 0:e.wkt2)??(e==null?void 0:e.wkt)??null;let n=null;if(t)n=jr.units[jr[t]];else if(r){const s=Q0(r)?H0:K0(r)?Z0:null;if(s){const o=s.exec(r);o!=null&&o[1]&&(n=cw(o[1]))}}return n!=null?aw(n):null}function K0(e){return/^GEOCCS/i.test(e)}function Q0(e){return/^\s*(?:PROJCS|PROJCRS|PROJECTEDCRS)/i.test(e)}const uw=1e-7;function cw(e){const t=/[\\"']{1}([^\\"']+)/.exec(e);let r=t==null?void 0:t[1];if(!r||!jr.units.includes(r)){const n=J0(e);r=null;const s=jr.values;for(let o=0;o<s.length;++o)if(Math.abs(n-s[o])<uw){r=jr.units[o];break}}return r}const hw={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},dw={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},fw={esriDUDecimalDegrees:"degrees",esriDURadians:"radians"},DT=tt()(hw),RT=tt()(dw),FT=tt()(fw);var st;let D=st=class extends N{static fromJSON(e){if(!e)return null;if(e.wkid){if(e.wkid===102100)return st.WebMercator;if(e.wkid===4326)return st.WGS84}const t=new st;return t.read(e),t}constructor(e){super(e),this.latestWkid=null,this.wkid=null,this.wkt=null,this.wkt2=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}normalizeCtorArgs(e){return e&&typeof e=="object"?e:{[typeof e=="string"?"wkt":"wkid"]:e}}get isWGS84(){return No(this)}get isWebMercator(){return xn(this)}get isGeographic(){return G0(this)}get isWrappable(){return H3(this)}get metersPerUnit(){return ia(this)}get unit(){return Y0(this)||(this.isGeographic?"degrees":null)}writeWkt(e,t){this.wkid||(t.wkt=e)}clone(){if(this===st.WGS84)return st.WGS84;if(this===st.WebMercator)return st.WebMercator;const e=new st;return this.wkid!=null?(e.wkid=this.wkid,this.latestWkid!=null&&(e.latestWkid=this.latestWkid),this.vcsWkid!=null&&(e.vcsWkid=this.vcsWkid),this.latestVcsWkid!=null&&(e.latestVcsWkid=this.latestVcsWkid)):(this.wkt!=null&&(e.wkt=this.wkt),this.wkt2!=null&&(e.wkt2=this.wkt2)),this.imageCoordinateSystem&&(e.imageCoordinateSystem=T(this.imageCoordinateSystem)),e}equals(e){if(e==null)return!1;if(this.imageCoordinateSystem||e.imageCoordinateSystem){if(this.imageCoordinateSystem==null||e.imageCoordinateSystem==null)return!1;const{id:t,referenceServiceName:r}=e.imageCoordinateSystem,{geodataXform:n}=e.imageCoordinateSystem,s=this.imageCoordinateSystem;return t==null||n?JSON.stringify(s)===JSON.stringify(e.imageCoordinateSystem):r?s.id===t&&s.referenceServiceName===r:s.id===t}return Ct(this,e)}toJSON(e){return this.write(void 0,e)}};D.GCS_NAD_1927=null,D.WGS84=null,D.WebMercator=null,D.PlateCarree=null,u([h({readOnly:!0})],D.prototype,"isWGS84",null),u([h({readOnly:!0})],D.prototype,"isWebMercator",null),u([h({readOnly:!0})],D.prototype,"isGeographic",null),u([h({readOnly:!0})],D.prototype,"isWrappable",null),u([h({type:we,json:{write:!0}})],D.prototype,"latestWkid",void 0),u([h({readOnly:!0})],D.prototype,"metersPerUnit",null),u([h({readOnly:!0})],D.prototype,"unit",null),u([h({type:we,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkt==null}}}}}}})],D.prototype,"wkid",void 0),u([h({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkid==null}}}}}}})],D.prototype,"wkt",void 0),u([ee("wkt"),ee("web-scene","wkt")],D.prototype,"writeWkt",null),u([h({type:String,json:{write:!1}})],D.prototype,"wkt2",void 0),u([h({type:we,json:{write:!0}})],D.prototype,"vcsWkid",void 0),u([h({type:we,json:{write:!0}})],D.prototype,"latestVcsWkid",void 0),u([h()],D.prototype,"imageCoordinateSystem",void 0),D=st=u([v("esri.geometry.SpatialReference")],D),D.prototype.toJSON.isDefaultToJSON=!0,D.GCS_NAD_1927=new D({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'}),D.WGS84=new D(Z3),D.WebMercator=new D(J3),D.PlateCarree=new D(Y3),Object.freeze&&(Object.freeze(D.GCS_NAD_1927),Object.freeze(D.WGS84),Object.freeze(D.WebMercator));const fe=D;function he(e,t,r){let n,s;return t===void 0||Array.isArray(t)?(s=e,r=t,n=[void 0]):(s=t,n=Array.isArray(e)?e:[e]),(o,a)=>{const l=o.constructor.prototype;n.forEach(c=>{const d=l0(o,c,s);d.read&&typeof d.read=="object"||(d.read={}),d.read.reader=l[a],r&&(d.read.source=(d.read.source||[]).concat(r))})}}let it=class extends N{constructor(...t){super(...t),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=fe.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(t,r){if(t instanceof fe)return t;if(t!=null){const n=new fe;return n.read(t,r),n}return t}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(t){return this.cache[t]}setCacheValue(t,r){this.cache[t]=r}};u([h()],it.prototype,"type",void 0),u([h({readOnly:!0})],it.prototype,"cache",null),u([h({readOnly:!0})],it.prototype,"extent",null),u([h({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],it.prototype,"hasM",void 0),u([h({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],it.prototype,"hasZ",void 0),u([h({type:fe,json:{write:!0},value:fe.WGS84})],it.prototype,"spatialReference",void 0),u([he("spatialReference")],it.prototype,"readSpatialReference",null),it=u([v("esri.geometry.Geometry")],it);const Qr=it,pw=Object.prototype.toString;function mw(e){const t="__accessorMetadata__"in e?Ke(e):e;return function(...r){if(r.push(t),typeof r[2]=="number")throw new Error("Using @cast has parameter decorator is not supported since 4.16");return yw.apply(this,r)}}function yw(e,t,r,n){Qo(e,t).cast=n}function gw(e){return(t,r)=>{Qo(t,e).cast=t[r]}}function Qs(...e){if(e.length!==3||typeof e[1]!="string")return e.length===1&&pw.call(e[0])==="[object Function]"?mw(e[0]):e.length===1&&typeof e[0]=="string"?gw(e[0]):void 0}function ww(e,t){const r=e.x-t.x,n=e.y-t.y,s=e.hasZ&&t.hasZ?e.z-t.z:0;return Math.sqrt(r*r+n*n+s*s)}const vw=57.29577951308232,bw=.017453292519943;function ed(e){return e*vw}function td(e){return e*bw}function jT(e){return Math.PI/2-2*Math.atan(Math.exp(-e/Xe.radius))}function Pl(e){return e.wkid!=null||e.wkt!=null}const Ca=[0,0];function Io(e,t,r,n,s){const o=e,a=s;if(a.spatialReference=r,"x"in o&&"x"in a)[a.x,a.y]=t(o.x,o.y,Ca,n);else if("xmin"in o&&"xmin"in a)[a.xmin,a.ymin]=t(o.xmin,o.ymin,Ca,n),[a.xmax,a.ymax]=t(o.xmax,o.ymax,Ca,n);else if("paths"in o&&"paths"in a||"rings"in o&&"rings"in a){const l="paths"in o?o.paths:o.rings,c=[];let d;for(let p=0;p<l.length;p++){const m=l[p];d=[],c.push(d);for(let y=0;y<m.length;y++)d.push(t(m[y][0],m[y][1],[0,0],n)),m[y].length>2&&d[y].push(m[y][2]),m[y].length>3&&d[y].push(m[y][3])}"paths"in a?a.paths=c:a.rings=c}else if("points"in o&&"points"in a){const l=o.points,c=[];for(let d=0;d<l.length;d++)c[d]=t(l[d][0],l[d][1],[0,0],n),l[d].length>2&&c[d].push(l[d][2]),l[d].length>3&&c[d].push(l[d][3]);a.points=c}return s}function Ui(e,t){const r=e&&(Pl(e)?e:e.spatialReference),n=t&&(Pl(t)?t:t.spatialReference);return!(e&&"type"in e&&e.type==="mesh"||t&&"type"in t&&t.type==="mesh"||!r||!n)&&(!!Ct(n,r)||xn(n)&&No(r)||xn(r)&&No(n))}function X0(e,t){if(e==null)return null;const r=e.spatialReference,n=t&&(Pl(t)?t:t.spatialReference);return Ui(r,n)?Ct(r,n)?T(e):xn(n)?Io(e,dn,fe.WebMercator,!1,T(e)):No(n)?Io(e,Ts,fe.WGS84,!1,T(e)):null:null}function dn(e,t,r=[0,0]){t>89.99999?t=89.99999:t<-89.99999&&(t=-89.99999);const n=td(t);return r[0]=td(e)*Xe.radius,r[1]=Xe.halfSemiMajorAxis*Math.log((1+Math.sin(n))/(1-Math.sin(n))),r}function Ts(e,t,r=[0,0],n=!1){const s=ed(e/Xe.radius);return r[0]=n?s:s-360*Math.floor((s+180)/360),r[1]=ed(Math.PI/2-2*Math.atan(Math.exp(-t/Xe.radius))),r}function ka(e,t=!1,r=T(e)){return Io(e,dn,fe.WebMercator,t,r)}function wi(e,t=!1,r=T(e)){return Io(e,Ts,fe.WGS84,t,r)}var zi;const qn=[0,0];function rd(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}let $e=zi=class extends Qr{static copy(e,t){t._set("x",e._get("x")),t._set("y",e._get("y")),t._set("z",e._get("z")),t._set("m",e._get("m"));const r=e._get("spatialReference");t._set("spatialReference",Object.isFrozen(r)?r:r.clone())}constructor(...e){super(...e),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}normalizeCtorArgs(e,t,r,n,s){let o;if(Array.isArray(e))o=e,s=t,e=o[0],t=o[1],r=o[2],n=o[3];else if(e&&typeof e=="object"){if(o=e,e=o.x!=null?o.x:o.longitude,t=o.y!=null?o.y:o.latitude,r=o.z,n=o.m,(s=o.spatialReference)&&s.declaredClass!=="esri.geometry.SpatialReference"&&(s=new fe(s)),o.longitude!=null||o.latitude!=null){if(o.longitude==null)V.getLogger(this).warn(".longitude=","Latitude was defined without longitude");else if(o.latitude==null)V.getLogger(this).warn(".latitude=","Longitude was defined without latitude");else if(!o.declaredClass&&s&&s.isWebMercator){const l=dn(o.longitude,o.latitude,qn);e=l[0],t=l[1]}}}else rd(r)?(s=r,r=null):rd(n)&&(s=n,n=null);const a={x:e,y:t};return a.x==null&&a.y!=null?V.getLogger(this).warn(".y=","Y coordinate was defined without an X coordinate"):a.y==null&&a.x!=null&&V.getLogger(this).warn(".x=","X coordinate was defined without a Y coordinate"),s!=null&&(a.spatialReference=s),r!=null&&(a.z=r),n!=null&&(a.m=n),a}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return this.m!==void 0}set hasM(e){e!==(this._get("m")!==void 0)&&(this._set("m",e?0:void 0),this._set("hasM",e))}get hasZ(){return this.z!==void 0}set hasZ(e){e!==(this._get("z")!==void 0)&&(this._set("z",e?0:void 0),this._set("hasZ",e))}get latitude(){const{spatialReference:e,x:t,y:r}=this;if(e){if(e.isWebMercator)return Ts(t,r,qn)[1];if(e.isGeographic)return r}return null}set latitude(e){const{spatialReference:t,x:r}=this;e!=null&&t&&(t.isWebMercator?this._set("y",dn(r,e,qn)[1]):t.isGeographic&&this._set("y",e),this._set("latitude",e))}get longitude(){const{x:e,y:t,spatialReference:r}=this;if(r){if(r.isWebMercator)return Ts(e,t,qn)[0];if(r.isGeographic)return e}return null}set longitude(e){const{y:t,spatialReference:r}=this;e!=null&&r&&(r.isWebMercator?this._set("x",dn(e,t,qn)[0]):r.isGeographic&&this._set("x",e),this._set("longitude",e))}writeX(e,t,r){t[r]=isNaN(e)?"NaN":e}readX(e){return typeof e=="string"?NaN:e}clone(){const e=new zi;return e.x=this.x,e.y=this.y,e.z=this.z,e.m=this.m,e.spatialReference=this.spatialReference,e}copy(e){return zi.copy(e,this),this}equals(e){if(e==null)return!1;const{x:t,y:r,z:n,m:s,spatialReference:o}=this,{z:a,m:l}=e;let{x:c,y:d,spatialReference:p}=e;if(!o.equals(p))if(o.isWebMercator&&p.isWGS84)[c,d]=dn(c,d),p=o;else{if(!o.isWGS84||!p.isWebMercator)return!1;[c,d]=Ts(c,d),p=o}return t===c&&r===d&&n===a&&s===l&&o.wkid===p.wkid}offset(e,t,r){return this.x+=e,this.y+=t,r!=null&&(this.z=(this.z??0)+r),this}normalize(){if(!this.spatialReference)return this;const e=ji(this.spatialReference);if(!e)return this;let t=this.x;const[r,n]=e.valid,s=2*n;let o;return t>n?(o=Math.ceil(Math.abs(t-n)/s),t-=o*s):t<r&&(o=Math.ceil(Math.abs(t-r)/s),t+=o*s),this._set("x",t),this}distance(e){return ww(this,e)}toArray(){const e=this.hasZ,t=this.hasM;return e&&t?[this.x,this.y,this.z,this.m]:e?[this.x,this.y,this.z]:t?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(e){return this.write({},e)}};u([h({readOnly:!0})],$e.prototype,"cache",null),u([h({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],$e.prototype,"hasM",null),u([h({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],$e.prototype,"hasZ",null),u([h({type:Number})],$e.prototype,"latitude",null),u([h({type:Number})],$e.prototype,"longitude",null),u([h({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),Qs(e=>isNaN(e)?e:hc(e))],$e.prototype,"x",void 0),u([ee("x")],$e.prototype,"writeX",null),u([he("x")],$e.prototype,"readX",null),u([h({type:Number,json:{write:!0}})],$e.prototype,"y",void 0),u([h({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],$e.prototype,"z",void 0),u([h({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],$e.prototype,"m",void 0),$e=zi=u([v("esri.geometry.Point")],$e),$e.prototype.toJSON.isDefaultToJSON=!0;const ue=$e,Da=[0,0];function ep(e,t){return t!=null&&Se(e,t.x,t.y,t.z)}function UT(e,t){if(!t.points||t.points.length)return!1;for(const r of t.points)if(!Tn(e,r))return!1;return!0}function $w(e,t){const{xmin:r,ymin:n,zmin:s,xmax:o,ymax:a,zmax:l}=t;return e.hasZ&&t.hasZ?Se(e,r,n,s)&&Se(e,r,a,s)&&Se(e,o,a,s)&&Se(e,o,n,s)&&Se(e,r,n,l)&&Se(e,r,a,l)&&Se(e,o,a,l)&&Se(e,o,n,l):Se(e,r,n)&&Se(e,r,a)&&Se(e,o,a)&&Se(e,o,n)}function Tn(e,t){return Se(e,t[0],t[1])}function _w(e,t){return Se(e,t[0],t[1],t[2])}function Se(e,t,r,n){return t>=e.xmin&&t<=e.xmax&&r>=e.ymin&&r<=e.ymax&&(n==null||!e.hasZ||n>=e.zmin&&n<=e.zmax)}function Sw(e,t){return Da[1]=t.y,Da[0]=t.x,xw(e,Da)}function xw(e,t){return tp(e.rings,t)}function tp(e,t){if(!e)return!1;if(Tw(e))return nd(!1,e,t);let r=!1;for(let n=0,s=e.length;n<s;n++)r=nd(r,e[n],t);return r}function Tw(e){return!Array.isArray(e[0][0])}function nd(e,t,r){const[n,s]=r;let o=e,a=0;for(let l=0,c=t.length;l<c;l++){a++,a===c&&(a=0);const[d,p]=t[l],[m,y]=t[a];(p<s&&y>=s||y<s&&p>=s)&&d+(s-p)/(y-p)*(m-d)<n&&(o=!o)}return o}function Ow(e,t){return ep(e,t)}function Mw(e,t){const r=e.hasZ&&t.hasZ;let n,s,o;if(e.xmin<=t.xmin){if(n=t.xmin,e.xmax<n)return!1}else if(n=e.xmin,t.xmax<n)return!1;if(e.ymin<=t.ymin){if(s=t.ymin,e.ymax<s)return!1}else if(s=e.ymin,t.ymax<s)return!1;if(r&&t.hasZ){if(e.zmin<=t.zmin){if(o=t.zmin,e.zmax<o)return!1}else if(o=e.zmin,t.zmax<o)return!1}return!0}function Ew(e,t){const{points:r,hasZ:n}=t,s=n?_w:Tn;for(const o of r)if(s(e,o))return!0;return!1}const Br=[0,0],Wr=[0,0],Hr=[0,0],Zr=[0,0],Aw=[Br,Wr,Hr,Zr],rp=[[Hr,Br],[Br,Wr],[Wr,Zr],[Zr,Hr]];function Pw(e,t){return Nw(e,t.rings)}function Nw(e,t){Br[0]=e.xmin,Br[1]=e.ymax,Wr[0]=e.xmax,Wr[1]=e.ymax,Hr[0]=e.xmin,Hr[1]=e.ymin,Zr[0]=e.xmax,Zr[1]=e.ymin;for(const r of Aw)if(tp(t,r))return!0;for(const r of t){if(!r.length)continue;let n=r[0];if(Tn(e,n))return!0;for(let s=1;s<r.length;s++){const o=r[s];if(Tn(e,o)||np(n,o,rp))return!0;n=o}}return!1}function Iw(e,t){Br[0]=e.xmin,Br[1]=e.ymax,Wr[0]=e.xmax,Wr[1]=e.ymax,Hr[0]=e.xmin,Hr[1]=e.ymin,Zr[0]=e.xmax,Zr[1]=e.ymin;const r=t.paths;for(const n of r){if(!r.length)continue;let s=n[0];if(Tn(e,s))return!0;for(let o=1;o<n.length;o++){const a=n[o];if(Tn(e,a)||np(s,a,rp))return!0;s=a}}return!1}const ce=[0,0];function Cw(e){for(let t=0;t<e.length;t++){const r=e[t];for(let s=0;s<r.length-1;s++){const o=r[s],a=r[s+1];for(let l=t+1;l<e.length;l++)for(let c=0;c<e[l].length-1;c++){const d=e[l][c],p=e[l][c+1];if(Nl(o,a,d,p,ce)&&!(ce[0]===o[0]&&ce[1]===o[1]||ce[0]===d[0]&&ce[1]===d[1]||ce[0]===a[0]&&ce[1]===a[1]||ce[0]===p[0]&&ce[1]===p[1]))return!0}}const n=r.length;if(!(n<=4))for(let s=0;s<n-3;s++){let o=n-1;s===0&&(o=n-2);const a=r[s],l=r[s+1];for(let c=s+2;c<o;c++){const d=r[c],p=r[c+1];if(Nl(a,l,d,p,ce)&&!(ce[0]===a[0]&&ce[1]===a[1]||ce[0]===d[0]&&ce[1]===d[1]||ce[0]===l[0]&&ce[1]===l[1]||ce[0]===p[0]&&ce[1]===p[1]))return!0}}}return!1}function np(e,t,r){for(let n=0;n<r.length;n++)if(Nl(e,t,r[n][0],r[n][1]))return!0;return!1}function Nl(e,t,r,n,s){const[o,a]=e,[l,c]=t,[d,p]=r,[m,y]=n,g=m-d,b=o-d,S=l-o,x=y-p,M=a-p,P=c-a,F=x*S-g*P;if(F===0)return!1;const W=(g*M-x*b)/F,z=(S*M-P*b)/F;return W>=0&&W<=1&&z>=0&&z<=1&&(s&&(s[0]=o+W*(l-o),s[1]=a+W*(c-a)),!0)}function kw(e){switch(e){case"esriGeometryEnvelope":case"extent":return Mw;case"esriGeometryMultipoint":case"multipoint":return Ew;case"esriGeometryPoint":case"point":return Ow;case"esriGeometryPolygon":case"polygon":return Pw;case"esriGeometryPolyline":case"polyline":return Iw}}var Ce;function Dw(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}function Ut(e,t,r){return t==null?r:r==null?t:e(t,r)}let oe=Ce=class extends Qr{constructor(...e){super(...e),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(e,t,r,n,s){return Dw(e)?{spatialReference:e,xmin:0,ymin:0,xmax:0,ymax:0}:typeof e=="object"?(e.spatialReference=e.spatialReference==null?fe.WGS84:e.spatialReference,e):{xmin:e,ymin:t,xmax:r,ymax:n,spatialReference:s??fe.WGS84}}static fromBounds(e,t){return new Ce({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}static fromPoint(e){return new Ce({xmin:e.x,ymin:e.y,zmin:e.z,xmax:e.x,ymax:e.y,zmax:e.z,spatialReference:e.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const e=new ue({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(e.z=.5*(this.zmin+this.zmax)),this.hasM&&(e.m=.5*(this.mmin+this.mmax)),e}get extent(){return this.clone()}get hasM(){return this.mmin!=null&&this.mmax!=null}get hasZ(){return this.zmin!=null&&this.zmax!=null}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(e){const t=this.center;return e.z!=null&&this.hasZ?this.offset(e.x-t.x,e.y-t.y,e.z-t.z):this.offset(e.x-t.x,e.y-t.y)}clone(){const e=new Ce;return e.xmin=this.xmin,e.ymin=this.ymin,e.xmax=this.xmax,e.ymax=this.ymax,e.spatialReference=this.spatialReference,this.zmin!=null&&(e.zmin=this.zmin,e.zmax=this.zmax),this.mmin!=null&&(e.mmin=this.mmin,e.mmax=this.mmax),e}contains(e){if(!e)return!1;const t=this.spatialReference,r=e.spatialReference;return t&&r&&!t.equals(r)&&Ui(t,r)&&(e=t.isWebMercator?ka(e):wi(e,!0)),e.type==="point"?ep(this,e):e.type==="extent"&&$w(this,e)}equals(e){if(this===e)return!0;if(e==null)return!1;const t=this.spatialReference,r=e.spatialReference;return t&&r&&!t.equals(r)&&Ui(t,r)&&(e=t.isWebMercator?ka(e):wi(e,!0)),this.xmin===e.xmin&&this.ymin===e.ymin&&this.zmin===e.zmin&&this.mmin===e.mmin&&this.xmax===e.xmax&&this.ymax===e.ymax&&this.zmax===e.zmax&&this.mmax===e.mmax}expand(e){const t=.5*(1-e),r=this.width*t,n=this.height*t;if(this.xmin+=r,this.ymin+=n,this.xmax-=r,this.ymax-=n,this.hasZ){const s=(this.zmax-this.zmin)*t;this.zmin+=s,this.zmax-=s}if(this.hasM){const s=(this.mmax-this.mmin)*t;this.mmin+=s,this.mmax-=s}return this}intersects(e){if(e==null)return!1;e.type==="mesh"&&(e=e.extent);const t=this.spatialReference,r=e.spatialReference;return t&&r&&!Ct(t,r)&&Ui(t,r)&&(e=t.isWebMercator?ka(e):wi(e,!0)),kw(e.type)(this,e)}normalize(){const e=this._normalize(!1,!0);return Array.isArray(e)?e:[e]}offset(e,t,r){return this.xmin+=e,this.ymin+=t,this.xmax+=e,this.ymax+=t,r!=null&&(this.zmin+=r,this.zmax+=r),this}shiftCentralMeridian(){return this._normalize(!0)}union(e){return this===e||(this.xmin=Math.min(this.xmin,e.xmin),this.ymin=Math.min(this.ymin,e.ymin),this.xmax=Math.max(this.xmax,e.xmax),this.ymax=Math.max(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=Ut(Math.min,this.zmin,e.zmin),this.zmax=Ut(Math.max,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=Ut(Math.min,this.mmin,e.mmin),this.mmax=Ut(Math.max,this.mmax,e.mmax))),this}intersection(e){return this===e?this:e!=null&&this.intersects(e)?(this.xmin=Math.max(this.xmin,e.xmin),this.ymin=Math.max(this.ymin,e.ymin),this.xmax=Math.min(this.xmax,e.xmax),this.ymax=Math.min(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=Ut(Math.max,this.zmin,e.zmin),this.zmax=Ut(Math.min,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=Ut(Math.max,this.mmin,e.mmin),this.mmax=Ut(Math.min,this.mmax,e.mmax)),this):null}toJSON(e){return this.write({},e)}_shiftCM(e=ji(this.spatialReference)){if(!e||!this.spatialReference)return this;const t=this.spatialReference,r=this._getCM(e);if(r){const n=t.isWebMercator?wi(r):r;this.xmin-=r.x,this.xmax-=r.x,t.isWebMercator||(n.x=this._normalizeX(n.x,e).x),this.spatialReference=new fe(oc((t.isWGS84?e.altTemplate:null)??e.wkTemplate,{Central_Meridian:n.x}))}return this}_getCM(e){let t=null;const[r,n]=e.valid,s=this.xmin,o=this.xmax;return s>=r&&s<=n&&o>=r&&o<=n||(t=this.center),t}_normalize(e,t,r){const n=this.spatialReference;if(!n)return this;const s=r??ji(n);if(s==null)return this;const o=this._getParts(s).map(c=>c.extent);if(o.length<2)return o[0]||this;if(o.length>2)return e?this._shiftCM(s):this.set({xmin:s.valid[0],xmax:s.valid[1]});if(e)return this._shiftCM(s);if(t)return o;let a=!0,l=!0;return o.forEach(c=>{c.hasZ||(a=!1),c.hasM||(l=!1)}),{rings:o.map(c=>{const d=[[c.xmin,c.ymin],[c.xmin,c.ymax],[c.xmax,c.ymax],[c.xmax,c.ymin],[c.xmin,c.ymin]];if(a){const p=(c.zmax-c.zmin)/2;for(let m=0;m<d.length;m++)d[m].push(p)}if(l){const p=(c.mmax-c.mmin)/2;for(let m=0;m<d.length;m++)d[m].push(p)}return d}),hasZ:a,hasM:l,spatialReference:n}}_getParts(e){let t=this.cache._parts;if(!t){t=[];const{ymin:s,ymax:o,spatialReference:a}=this,l=this.width,c=this.xmin,d=this.xmax;let p;e=e||ji(a);const[m,y]=e.valid;p=this._normalizeX(this.xmin,e);const g=p.x,b=p.frameId;p=this._normalizeX(this.xmax,e);const S=p.x,x=p.frameId,M=g===S&&l>0;if(l>2*y){const P=new Ce(c<d?g:S,s,y,o,a),F=new Ce(m,s,c<d?S:g,o,a),W=new Ce(0,s,y,o,a),z=new Ce(m,s,0,o,a),be=[],xe=[];P.contains(W)&&be.push(b),P.contains(z)&&xe.push(b),F.contains(W)&&be.push(x),F.contains(z)&&xe.push(x);for(let q=b+1;q<x;q++)be.push(q),xe.push(q);t.push({extent:P,frameIds:[b]},{extent:F,frameIds:[x]},{extent:W,frameIds:be},{extent:z,frameIds:xe})}else g>S||M?t.push({extent:new Ce(g,s,y,o,a),frameIds:[b]},{extent:new Ce(m,s,S,o,a),frameIds:[x]}):t.push({extent:new Ce(g,s,S,o,a),frameIds:[b]});this.cache._parts=t}const r=this.hasZ,n=this.hasM;if(r||n){const s={};r&&(s.zmin=this.zmin,s.zmax=this.zmax),n&&(s.mmin=this.mmin,s.mmax=this.mmax);for(let o=0;o<t.length;o++)t[o].extent.set(s)}return t}_normalizeX(e,t){const[r,n]=t.valid,s=2*n;let o,a=0;return e>n?(o=Math.ceil(Math.abs(e-n)/s),e-=o*s,a=o):e<r&&(o=Math.ceil(Math.abs(e-r)/s),e+=o*s,a=-o),{x:e,frameId:a}}};u([h({readOnly:!0})],oe.prototype,"cache",null),u([h({readOnly:!0})],oe.prototype,"center",null),u([h({readOnly:!0})],oe.prototype,"extent",null),u([h({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],oe.prototype,"hasM",null),u([h({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],oe.prototype,"hasZ",null),u([h({readOnly:!0})],oe.prototype,"height",null),u([h({readOnly:!0})],oe.prototype,"width",null),u([h({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],oe.prototype,"xmin",void 0),u([h({type:Number,json:{write:!0}})],oe.prototype,"ymin",void 0),u([h({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],oe.prototype,"mmin",void 0),u([h({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],oe.prototype,"zmin",void 0),u([h({type:Number,json:{write:!0}})],oe.prototype,"xmax",void 0),u([h({type:Number,json:{write:!0}})],oe.prototype,"ymax",void 0),u([h({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],oe.prototype,"mmax",void 0),u([h({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],oe.prototype,"zmax",void 0),oe=Ce=u([v("esri.geometry.Extent")],oe),oe.prototype.toJSON.isDefaultToJSON=!0;const yt=oe;let Os;var af,lf;const Rw=((af=globalThis.esriConfig)==null?void 0:af.locale)??((lf=globalThis.dojoConfig)==null?void 0:lf.locale);function sp(){var e;return Rw??((e=globalThis.navigator)==null?void 0:e.language)??"en"}function Nt(){return Os===void 0&&(Os=sp()),Os}function zT(e=Nt()){const t=/^([a-zA-Z]{2,3})(?:[_\-]\w+)*$/.exec(e);return t==null?void 0:t[1].toLowerCase()}const Ms=[];function GT(e){return Ms.push(e),de(()=>Ms.splice(Ms.indexOf(e),1))}const Il=[];function Ic(e){return Il.push(e),de(()=>Ms.splice(Il.indexOf(e),1))}function Fw(){const e=sp();Os!==e&&(Os=e,[...Il].forEach(t=>{t.call(null,e)}),[...Ms].forEach(t=>{t.call(null,e)}))}var uf;(uf=globalThis.addEventListener)==null||uf.call(globalThis,"languagechange",Fw);let vi;function Lw(e){return vi&&!vi.destroyed||(vi=e()),vi}var Cl;const jw=new It({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let ke=Cl=class extends Ae{constructor(e){super(e),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(e){e!=="asc"&&e!=="desc"||this._set("sortOrder",e)}clone(){return new Cl({categories:this.categories?T(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(e,t){let r=[];this.categories&&(r=this.categories.map(a=>Array.isArray(a)?JSON.stringify(a):a));let n="";if(this.extent){const a=X0(this.extent,fe.WGS84);a!=null&&(n=`${a.xmin},${a.ymin},${a.xmax},${a.ymax}`)}let s=this.query;!this.disableExtraQuery&&e.extraQuery&&(s="("+s+")"+e.extraQuery);const o={categories:r,bbox:n,q:s,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(o.sortField=this.sortField.split(",").map(a=>jw.toJSON(a.trim())).join(","),o.sortOrder=this.sortOrder),{query:{...t,...o}}}};u([h()],ke.prototype,"categories",void 0),u([h()],ke.prototype,"disableExtraQuery",void 0),u([h({type:yt})],ke.prototype,"extent",void 0),u([h()],ke.prototype,"filter",void 0),u([h()],ke.prototype,"num",void 0),u([h()],ke.prototype,"query",void 0),u([h()],ke.prototype,"sortField",void 0),u([h()],ke.prototype,"sortOrder",null),u([h()],ke.prototype,"start",void 0),ke=Cl=u([v("esri.portal.PortalQueryParams")],ke);const Et=ke;var kl;let ne=kl=class extends N{constructor(e){super(e),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.sourceJSON=null,this.tags=null,this.title=null}get thumbnailUrl(){var r;const e=this.url,t=this.thumbnail;return e&&t&&this.portal?(r=this.portal)==null?void 0:r.normalizeUrl(`${e}/info/${t}?f=json`):null}get url(){var t;const e=(t=this.portal)==null?void 0:t.restUrl;return e?e+"/community/groups/"+this.id:null}fetchCategorySchema(e){return this.portal.request(this.url+"/categorySchema",e).then(t=>{const r=t.categorySchema||[];return r.some(n=>n.source==="contentCategorySetsGroupQuery.LivingAtlas")?this._fetchCategorySchemaSet("LivingAtlas",e):r})}fetchMembers(e){return this.portal.request(this.url+"/users",e)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}toJSON(){throw new G("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new kl;return t.sourceJSON=e,t.read(e),t}queryItems(e,t){let r=Ke(Et,e);const n=this.portal;return parseFloat(n.currentVersion)>5?(r=r||new Et,n.queryPortal(`/content/groups/${this.id}/search`,r,"PortalItem",t)):(r=r?r.clone():new Et,r.query="group:"+this.id+(r.query?" "+r.query:""),n.queryItems(r,t))}_fetchCategorySchemaSet(e,t){const r=this.portal;return r.fetchSelf(r.authMode,!0,t).then(n=>{const s=n.contentCategorySetsGroupQuery;if(s){const o=new Et;return o.disableExtraQuery=!0,o.num=1,o.query=s,r.queryGroups(o,t)}throw new G("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")}).then(n=>{if(n.total){const s=n.results[0],o=new Et;return o.num=1,o.query=`typekeywords:"${e}"`,s.queryItems(o,t)}throw new G("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")}).then(n=>n.total?n.results[0].fetchData("json",t).then(s=>{const o=s==null?void 0:s.categorySchema;return o!=null&&o.length?o:[]}):[])}};u([h()],ne.prototype,"access",void 0),u([h({type:Date})],ne.prototype,"created",void 0),u([h()],ne.prototype,"description",void 0),u([h()],ne.prototype,"id",void 0),u([h()],ne.prototype,"isInvitationOnly",void 0),u([h({type:Date})],ne.prototype,"modified",void 0),u([h()],ne.prototype,"owner",void 0),u([h()],ne.prototype,"portal",void 0),u([h()],ne.prototype,"snippet",void 0),u([h()],ne.prototype,"sortField",void 0),u([h()],ne.prototype,"sortOrder",void 0),u([h()],ne.prototype,"sourceJSON",void 0),u([h()],ne.prototype,"tags",void 0),u([h()],ne.prototype,"thumbnail",void 0),u([h({readOnly:!0})],ne.prototype,"thumbnailUrl",null),u([h()],ne.prototype,"title",void 0),u([h({readOnly:!0})],ne.prototype,"url",null),ne=kl=u([v("esri.portal.PortalGroup")],ne);const Dl=ne;let vr=class extends Ae{constructor(t){super(t),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};u([h()],vr.prototype,"nextQueryParams",void 0),u([h()],vr.prototype,"queryParams",void 0),u([h()],vr.prototype,"results",void 0),u([h()],vr.prototype,"total",void 0),vr=u([v("esri.portal.PortalQueryResult")],vr);const Uw=vr;let bt=class extends N{constructor(t){super(t),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){var r;const t=(r=this.portal)==null?void 0:r.restUrl;return t?`${t}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new G("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};u([h({type:Date})],bt.prototype,"created",void 0),u([h()],bt.prototype,"id",void 0),u([h()],bt.prototype,"portal",void 0),u([h()],bt.prototype,"title",void 0),u([h({readOnly:!0})],bt.prototype,"url",null),u([h()],bt.prototype,"username",void 0),bt=u([v("esri.portal.PortalFolder")],bt);const zw=bt;var Rl;let B=Rl=class extends N{constructor(...e){super(...e),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userType=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t?this.portal.normalizeUrl(`${e}/info/${t}?f=json`):null}get userContentUrl(){var t;const e=(t=this.portal)==null?void 0:t.restUrl;return e?`${e}/content/users/${this.username}`:null}get url(){var t;const e=(t=this.portal)==null?void 0:t.restUrl;return e?`${e}/community/users/${this.username}`:null}addItem(e){const t=e&&e.item,r=e==null?void 0:e.data,n=e==null?void 0:e.folder,s={method:"post"};t&&(s.query=t.createPostQuery(),r!=null&&(typeof r=="string"?s.query.text=r:typeof r=="object"&&(s.query.text=JSON.stringify(r))));let o=this.userContentUrl;return n&&(o+="/"+(typeof n=="string"?n:n.id)),this.portal.request(o+"/addItem",s).then(a=>(t.id=a.id,t.portal=this.portal,t.loaded?t.reload():t.load()))}deleteItem(e){let t=this.userContentUrl;return e.ownerFolder&&(t+="/"+e.ownerFolder),this.portal.request(t+`/items/${e.id}/delete`,{method:"post"}).then(()=>{e.id=null,e.portal=null})}deleteItems(e){const t=this.userContentUrl+"/deleteItems",r=e.map(n=>n.id);if(r.length){const n={method:"post",query:{items:r.join(",")}};return this.portal.request(t,n).then(()=>{e.forEach(s=>{s.id=null,s.portal=null})})}return Promise.resolve(void 0)}fetchFolders(){const e={query:{num:1}};return this.portal.request(this.userContentUrl??"",e).then(t=>{let r;return r=t&&t.folders?t.folders.map(n=>{const s=zw.fromJSON(n);return s.portal=this.portal,s}):[],r})}fetchGroups(){return this.portal.request(this.url??"").then(e=>{let t;return t=e&&e.groups?e.groups.map(r=>{const n=Dl.fromJSON(r);return n.portal=this.portal,n}):[],t})}fetchItems(e){const t=e??{};let r,n=this.userContentUrl??"";return t.folder&&(n+="/"+t.folder.id),pt(()=>import("./PortalItem-01395053.js"),["./PortalItem-01395053.js","./index-e42a63f9.js"],import.meta.url).then(({default:s})=>{r=s;const o={folders:!1,num:t.num||10,start:t.start||1,sortField:t.sortField||"created",sortOrder:t.sortOrder||"asc"};return this.portal.request(n,{query:o})}).then(s=>{let o;return s!=null&&s.items?(o=s.items.map(a=>{const l=r.fromJSON(a);return l.portal=this.portal,l}),Promise.all(o.map(a=>a.load())).catch(a=>a).then(()=>({items:o,nextStart:s.nextStart,total:s.total}))):{items:[],nextStart:-1,total:0}})}fetchTags(){return this.portal.request(this.url+"/tags").then(e=>e.tags)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}queryFavorites(e){return this.favGroupId?(this._favGroup||(this._favGroup=new Dl({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(e)):Promise.reject(new G("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}toJSON(){throw new G("internal:not-yet-implemented","PortalUser.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new Rl;return t.sourceJSON=e,t.read(e),t}};u([h()],B.prototype,"access",void 0),u([h({type:Date})],B.prototype,"created",void 0),u([h()],B.prototype,"culture",void 0),u([h()],B.prototype,"description",void 0),u([h()],B.prototype,"email",void 0),u([h()],B.prototype,"favGroupId",void 0),u([h()],B.prototype,"fullName",void 0),u([h({type:Date})],B.prototype,"modified",void 0),u([h()],B.prototype,"orgId",void 0),u([h()],B.prototype,"portal",void 0),u([h()],B.prototype,"preferredView",void 0),u([h()],B.prototype,"privileges",void 0),u([h()],B.prototype,"region",void 0),u([h()],B.prototype,"role",void 0),u([h()],B.prototype,"roleId",void 0),u([h()],B.prototype,"sourceJSON",void 0),u([h()],B.prototype,"thumbnail",void 0),u([h({readOnly:!0})],B.prototype,"thumbnailUrl",null),u([h()],B.prototype,"units",void 0),u([h({readOnly:!0})],B.prototype,"userContentUrl",null),u([h({readOnly:!0})],B.prototype,"url",null),u([h()],B.prototype,"username",void 0),u([h()],B.prototype,"userType",void 0),B=Rl=u([v("esri.portal.PortalUser")],B);const ip=B;var $t;let bi;const sd={PortalGroup:()=>Promise.resolve({default:Dl}),PortalItem:()=>pt(()=>import("./PortalItem-01395053.js"),["./PortalItem-01395053.js","./index-e42a63f9.js"],import.meta.url),PortalUser:()=>Promise.resolve({default:ip})};let _=$t=class extends x0(F3){constructor(e){super(e),this._esriIdCredentialCreateHandle=null,this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.basemapGalleryGroupQuery3D=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=K.portalUrl,this.urlKey=null,this.user=null,this.use3dBasemaps=!0,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(e){return typeof e=="string"?{url:e}:e}destroy(){id.unregister(this),this.defaultBasemap=Ci(this.defaultBasemap),this.defaultDevBasemap=Ci(this.defaultDevBasemap),this.defaultVectorBasemap=Ci(this.defaultVectorBasemap),this._esriIdCredentialCreateHandle=Nn(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(e){if(e)for(const t of e)K.request.trustedServers.includes(t)||K.request.trustedServers.push(t);return e}readDefaultBasemap(e){return this._readBasemap(e)}readDefaultDevBasemap(e){return this._readBasemap(e)}readDefaultVectorBasemap(e){return this._readBasemap(e)}get extraQuery(){var r;const e=(r=this.user)==null?void 0:r.orgId,t=!e||this.canSearchPublic;return this.id&&!t?` AND orgid:${this.id}`:null}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get restUrl(){let e=this.url;if(e){const t=e.indexOf("/sharing");e=t>0?e.substring(0,t):this.url.replace(/\/+$/,""),e+="/sharing/rest"}return e}get thumbnailUrl(){const e=this.restUrl,t=this.thumbnail;return e&&t?this._normalizeSSL(e+"/portals/self/resources/"+t):null}readUrlKey(e){return e&&e.toLowerCase()}readUser(e){let t=null;return e&&(t=ip.fromJSON(e),t.portal=this),t}load(e){const t=pt(()=>import("./Basemap-fc4d26ee.js").then(r=>r.B),["./Basemap-fc4d26ee.js","./index-e42a63f9.js","./loadAll-76369e9a.js","./PortalItem-01395053.js","./writeUtils-3673b1a7.js","./layerUtils-a8920453.js"],import.meta.url).then(({default:r})=>{Ds(e),bi=r}).then(()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,e)).then(r=>{var n;if(re){const s=re;this.credential=s.findCredential(this.restUrl),this.credential||this.authMode!==$t.AUTH_MODE_AUTO||((n=this._esriIdCredentialCreateHandle)==null||n.remove(),this._esriIdCredentialCreateHandle=s.on("credential-create",Gw(new WeakRef(this))),id.register(this,this._esriIdCredentialCreateHandle,this))}this.sourceJSON=r,this.read(r)});return this.addResolvingPromise(t),Promise.resolve(this)}async createElevationLayers(){await this.load();const e=this._getHelperService("defaultElevationLayers"),t=(await pt(()=>import("./ElevationLayer-ed01384e.js"),["./ElevationLayer-ed01384e.js","./index-e42a63f9.js","./MultiOriginJSONSupport-0ac2102c.js","./arcgisLayerUrl-fc2d909c.js","./ArcGISCachedService-10e893d3.js","./TileInfo-238dd4b6.js","./TileInfoTilemapCache-c4c4f35b.js","./TilemapCache-0e4811fb.js","./ByteSizeUnit-d4757d40.js","./LRUCache-9b8f5520.js","./ArcGISService-73c5a696.js","./OperationalLayer-37855d78.js","./commonProperties-dc1396d3.js","./ElevationInfo-c9711b5d.js","./lengthUtils-5d9bdf3f.js","./PortalLayer-5667eeff.js","./layerUtils-a8920453.js","./PortalItem-01395053.js","./portalItemUtils-064daa72.js","./workers-3c8ba252.js"],import.meta.url)).default;return e?e.map(r=>new t({id:r.id,url:r.url})):[]}async fetchBasemaps(e,t){const r=await this._fetchBasemaps(e,t);if((t==null?void 0:t.include3d)===!0&&this.use3dBasemaps!==!1){const n=await this._fetchBasemaps3D(e,t);r.unshift(...n)}return r}fetchCategorySchema(e){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",e).then(t=>t.categorySchema):Gr(e)?Promise.reject(Ee()):Promise.resolve([])}fetchFeaturedGroups(e){const t=this.featuredGroups,r=new Et;if(r.num=100,r.sortField="title",t&&t.length){const n=[];for(const s of t)n.push(`(title:"${s.title}" AND owner:${s.owner})`);return r.query=n.join(" OR "),this.queryGroups(r,e).then(s=>s.results)}return Gr(e)?Promise.reject(Ee()):Promise.resolve([])}fetchRegions(e){var r;const t=((r=this.user)==null?void 0:r.culture)||this.culture||Nt();return this.request(this.restUrl+"/portals/regions",{...e,query:{culture:t}})}fetchSettings(e){var r;const t=((r=this.user)==null?void 0:r.culture)||this.culture||Nt();return this.request(this.restUrl+"/portals/self/settings",{...e,query:{culture:t}})}static getDefault(){return Lw(()=>new $t)}queryGroups(e,t){return this.queryPortal("/community/groups",e,"PortalGroup",t)}queryItems(e,t){return this.queryPortal("/search",e,"PortalItem",t)}queryUsers(e,t){return e.sortField||(e.sortField="username"),this.queryPortal("/community/users",e,"PortalUser",t)}fetchSelf(e=this.authMode,t=!1,r){const n=this.restUrl+"/portals/self",s={authMode:e,query:{culture:Nt().toLowerCase()},...r};return s.authMode==="auto"&&(s.authMode="no-prompt"),t&&(s.query.default=!0),this.request(n,s)}queryPortal(e,t,r,n){const s=Ke(Et,t),o=a=>this.request(this.restUrl+e,{...s.toRequestOptions(this),...n}).then(l=>{const c=s.clone();return c.start=l.nextStart,new Uw({nextQueryParams:c,queryParams:s,total:l.total,results:$t._resultsToTypedArray(a,{portal:this},l,n)})}).then(l=>Promise.all(l.results.map(c=>typeof c.when=="function"?c.when():l)).then(()=>l,c=>(Hf(c),l)));return r&&sd[r]?sd[r]().then(({default:a})=>(Ds(n),o(a))):o()}signIn(){if(this.authMode===$t.AUTH_MODE_ANONYMOUS)return Promise.reject(new G("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if(this.loadStatus==="failed")return Promise.reject(this.loadError);const e=t=>Promise.resolve().then(()=>this.loadStatus==="not-loaded"?(t||(this.authMode="immediate"),this.load().then(()=>null)):this.loadStatus==="loading"?this.load().then(()=>this.credential?null:(this.credential=t,this.fetchSelf("immediate"))):this.user&&this.credential===t?null:(this.credential=t,this.fetchSelf("immediate"))).then(r=>{r&&(this.sourceJSON=r,this.read(r))});return re?re.getCredential(this.restUrl).then(t=>e(t)):e(this.credential)}normalizeUrl(e){var r;const t=(r=this.credential)==null?void 0:r.token;return this._normalizeSSL(t?e+(e.includes("?")?"&":"?")+"token="+t:e)}requestToTypedArray(e,t,r){return this.request(e,t).then(n=>{const s=$t._resultsToTypedArray(r,{portal:this},n);return Promise.all(s.map(o=>typeof o.when=="function"?o.when():n)).then(()=>s,()=>s)})}request(e,t={}){const r={f:"json",...t.query},{authMode:n=this.authMode===$t.AUTH_MODE_ANONYMOUS?"anonymous":"auto",body:s=null,cacheBust:o=!1,method:a="auto",responseType:l="json",signal:c}=t,d={authMode:n,body:s,cacheBust:o,method:a,query:r,responseType:l,timeout:0,signal:c};return Qe(this._normalizeSSL(e),d).then(p=>p.data)}toJSON(){throw new G("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new $t({sourceJSON:e})}_getHelperService(e){const t=this.helperServices&&this.helperServices[e];if(!t)throw new G("portal:service-not-found",`The \`helperServices\` do not include an entry named "${e}"`);return t}async _fetchBasemaps(e,t){const r=new Et;r.query=e||(K.apiKey&&I0(this.url)?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),r.disableExtraQuery=!0;const n=await this.queryGroups(r,t);if(!n.total)return[];const s=n.results[0];r.num=100,r.query='type:"Web Map" -type:"Web Application"',r.sortField=s.sortField||"name",r.sortOrder=s.sortOrder||"desc";const o=await s.queryItems(r,t);return o.total?o.results.filter(a=>a.type==="Web Map").map(a=>new bi({portalItem:a})):[]}async _fetchBasemaps3D(e,t){const r=e||this.basemapGalleryGroupQuery3D;if(!r)return[];const n=new Et({query:r,disableExtraQuery:!0}),s=await this.queryGroups(n,t);if(!s.total)return[];const o=s.results[0];n.num=100,n.query='type:"Web Scene"',n.sortField=o.sortField||"name",n.sortOrder=o.sortOrder||"desc";const a=await o.queryItems(n,t);return a.total?a.results.filter(l=>l.type==="Web Scene").map(l=>new bi({portalItem:l})):[]}_normalizeSSL(e){return e.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(e){if(e){const t=bi.fromJSON(e);return t.portalItem={portal:this},t}return null}static _resultsToTypedArray(e,t,r,n){let s=[];if(r){const o=n!=null?n.signal:null;s=r.listings||r.notifications||r.userInvitations||r.tags||r.items||r.groups||r.comments||r.provisions||r.results||r.relatedItems||r,(e||t)&&(s=s.map(a=>{const l=Object.assign(e?e.fromJSON(a):a,t);return typeof l.load=="function"&&l.load(o),l}))}else s=[];return s}};_.AUTH_MODE_ANONYMOUS="anonymous",_.AUTH_MODE_AUTO="auto",_.AUTH_MODE_IMMEDIATE="immediate",u([h()],_.prototype,"access",void 0),u([h()],_.prototype,"allSSL",void 0),u([h()],_.prototype,"authMode",void 0),u([h()],_.prototype,"authorizedCrossOriginDomains",void 0),u([he("authorizedCrossOriginDomains")],_.prototype,"readAuthorizedCrossOriginDomains",null),u([h()],_.prototype,"basemapGalleryGroupQuery",void 0),u([h({json:{name:"3DBasemapGalleryGroupQuery"}})],_.prototype,"basemapGalleryGroupQuery3D",void 0),u([h()],_.prototype,"bingKey",void 0),u([h()],_.prototype,"canListApps",void 0),u([h()],_.prototype,"canListData",void 0),u([h()],_.prototype,"canListPreProvisionedItems",void 0),u([h()],_.prototype,"canProvisionDirectPurchase",void 0),u([h()],_.prototype,"canSearchPublic",void 0),u([h()],_.prototype,"canShareBingPublic",void 0),u([h()],_.prototype,"canSharePublic",void 0),u([h()],_.prototype,"canSignInArcGIS",void 0),u([h()],_.prototype,"canSignInIDP",void 0),u([h()],_.prototype,"colorSetsGroupQuery",void 0),u([h()],_.prototype,"commentsEnabled",void 0),u([h({type:Date})],_.prototype,"created",void 0),u([h()],_.prototype,"credential",void 0),u([h()],_.prototype,"culture",void 0),u([h()],_.prototype,"currentVersion",void 0),u([h()],_.prototype,"customBaseUrl",void 0),u([h()],_.prototype,"defaultBasemap",void 0),u([he("defaultBasemap")],_.prototype,"readDefaultBasemap",null),u([h()],_.prototype,"defaultDevBasemap",void 0),u([he("defaultDevBasemap")],_.prototype,"readDefaultDevBasemap",null),u([h({type:yt})],_.prototype,"defaultExtent",void 0),u([h()],_.prototype,"defaultVectorBasemap",void 0),u([he("defaultVectorBasemap")],_.prototype,"readDefaultVectorBasemap",null),u([h()],_.prototype,"description",void 0),u([h()],_.prototype,"devBasemapGalleryGroupQuery",void 0),u([h()],_.prototype,"eueiEnabled",void 0),u([h({readOnly:!0})],_.prototype,"extraQuery",null),u([h()],_.prototype,"featuredGroups",void 0),u([h()],_.prototype,"featuredItemsGroupQuery",void 0),u([h()],_.prototype,"galleryTemplatesGroupQuery",void 0),u([h()],_.prototype,"livingAtlasGroupQuery",void 0),u([h()],_.prototype,"hasCategorySchema",void 0),u([h()],_.prototype,"helpBase",void 0),u([h()],_.prototype,"helperServices",void 0),u([h()],_.prototype,"helpMap",void 0),u([h()],_.prototype,"homePageFeaturedContent",void 0),u([h()],_.prototype,"homePageFeaturedContentCount",void 0),u([h()],_.prototype,"httpPort",void 0),u([h()],_.prototype,"httpsPort",void 0),u([h()],_.prototype,"id",void 0),u([h()],_.prototype,"ipCntryCode",void 0),u([h({readOnly:!0})],_.prototype,"isOrganization",null),u([h()],_.prototype,"isPortal",void 0),u([h()],_.prototype,"isReadOnly",void 0),u([h({readOnly:!0})],_.prototype,"itemPageUrl",null),u([h()],_.prototype,"layerTemplatesGroupQuery",void 0),u([h()],_.prototype,"maxTokenExpirationMinutes",void 0),u([h({type:Date})],_.prototype,"modified",void 0),u([h()],_.prototype,"name",void 0),u([h()],_.prototype,"portalHostname",void 0),u([h()],_.prototype,"portalMode",void 0),u([h()],_.prototype,"portalProperties",void 0),u([h()],_.prototype,"region",void 0),u([h({readOnly:!0})],_.prototype,"restUrl",null),u([h()],_.prototype,"rotatorPanels",void 0),u([h()],_.prototype,"showHomePageDescription",void 0),u([h()],_.prototype,"sourceJSON",void 0),u([h()],_.prototype,"staticImagesUrl",void 0),u([h({json:{name:"2DStylesGroupQuery"}})],_.prototype,"stylesGroupQuery2d",void 0),u([h({json:{name:"stylesGroupQuery"}})],_.prototype,"stylesGroupQuery3d",void 0),u([h()],_.prototype,"supportsHostedServices",void 0),u([h()],_.prototype,"symbolSetsGroupQuery",void 0),u([h()],_.prototype,"templatesGroupQuery",void 0),u([h()],_.prototype,"thumbnail",void 0),u([h({readOnly:!0})],_.prototype,"thumbnailUrl",null),u([h()],_.prototype,"units",void 0),u([h()],_.prototype,"url",void 0),u([h()],_.prototype,"urlKey",void 0),u([he("urlKey")],_.prototype,"readUrlKey",null),u([h()],_.prototype,"user",void 0),u([he("user")],_.prototype,"readUser",null),u([h()],_.prototype,"use3dBasemaps",void 0),u([h()],_.prototype,"useStandardizedQuery",void 0),u([h()],_.prototype,"useVectorBasemaps",void 0),u([h()],_.prototype,"vectorBasemapGalleryGroupQuery",void 0),_=$t=u([v("esri.portal.Portal")],_);const oa=_,id=new FinalizationRegistry(e=>{e.remove()});function Gw(e){const t=re;return()=>{const r=e.deref();r&&t.findCredential(r.restUrl)&&r.signIn().catch(()=>{})}}const od=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,qw={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:!0,nl:!0,pl:!0,"pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,"zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function ad(e){return e in qw}const es=[],wn=new Map;function ld(e){for(const t of wn.keys())op(e.pattern,t)&&wn.delete(t)}function Vw(e){return es.includes(e)||(ld(e),es.unshift(e)),de(()=>{const t=es.indexOf(e);t>-1&&(es.splice(t,1),ld(e))})}async function BT(e){const t=Nt();wn.has(e)||wn.set(e,Ww(e,t));const r=wn.get(e);return r&&await Hw.add(r),r}function Bw(e){if(!od.test(e))return null;const t=od.exec(e);if(t===null)return null;const[,r,n]=t,s=r+(n?"-"+n.toUpperCase():"");return ad(s)?s:ad(r)?r:null}async function Ww(e,t){const r=[];for(const n of es)if(op(n.pattern,e))try{return await n.fetchMessageBundle(e,t)}catch(s){r.push(s)}throw r.length?new G("intl:message-bundle-error",`Errors occurred while loading "${e}"`,{errors:r}):new G("intl:no-message-bundle-loader",`No loader found for message bundle "${e}"`)}function op(e,t){return typeof e=="string"?t.startsWith(e):e.test(t)}Ic(()=>{wn.clear()});const Hw=new class{constructor(){this._numLoading=0,this._dfd=null}async waitForAll(){this._dfd&&await this._dfd.promise}add(e){return this._increase(),e.then(()=>this._decrease(),()=>this._decrease()),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=$n())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&this._numLoading===0&&(this._dfd.resolve(),this._dfd=null)}},Co={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function Zw(e){return!!Co[e]||!!Co[e.toLowerCase()]}function ap(e){return Co[e]??Co[e.toLowerCase()]}function WT(e){return[...ap(e)]}function Ra(e,t,r){r<0&&++r,r>1&&--r;const n=6*r;return n<1?e+(t-e)*n:2*r<1?t:3*r<2?e+(t-e)*(2/3-r)*6:e}function Jw(e,t,r,n=1){const s=(e%360+360)%360/360,o=r<=.5?r*(t+1):r+t-r*t,a=2*r-o;return[Math.round(255*Ra(a,o,s+1/3)),Math.round(255*Ra(a,o,s)),Math.round(255*Ra(a,o,s-1/3)),n]}function HT(e){const t=e.length>5,r=t?8:4,n=(1<<r)-1,s=t?1:17,o=t?e.length===9:e.length===5;let a=+("0x"+e.substr(1));if(isNaN(a))return null;const l=[0,0,0,1];let c;return o&&(c=a&n,a>>=r,l[3]=s*c/255),c=a&n,a>>=r,l[2]=s*c,c=a&n,a>>=r,l[1]=s*c,c=a&n,a>>=r,l[0]=s*c,l}function Xs(){return[0,0,0]}function Yw(e){return[e[0],e[1],e[2]]}function ei(e,t,r){return[e,t,r]}function Kw(e,t=Xs()){const r=Math.min(3,e.length);for(let n=0;n<r;++n)t[n]=e[n];return t}function Qw(e,t){return new Float64Array(e,t,3)}function lp(){return Xs()}function up(){return ei(1,1,1)}function cp(){return ei(1,0,0)}function hp(){return ei(0,1,0)}function dp(){return ei(0,0,1)}const Xw=lp(),ev=up(),tv=cp(),rv=hp(),nv=dp();Object.freeze(Object.defineProperty({__proto__:null,ONES:ev,UNIT_X:tv,UNIT_Y:rv,UNIT_Z:nv,ZEROS:Xw,clone:Yw,create:Xs,createView:Qw,fromArray:Kw,fromValues:ei,ones:up,unitX:cp,unitY:hp,unitZ:dp,zeros:lp},Symbol.toStringTag,{value:"Module"}));let Cc=1e-6;function kc(){return Cc}function sv(e){Cc=e}const Dc=Math.random,iv=Math.PI/180,ov=180/Math.PI;function av(e){return e*iv}function lv(e){return e*ov}function uv(e,t){return Math.abs(e-t)<=Cc*Math.max(1,Math.abs(e),Math.abs(t))}Object.freeze(Object.defineProperty({__proto__:null,RANDOM:Dc,equals:uv,getEpsilon:kc,setEpsilon:sv,toDegree:lv,toRadian:av},Symbol.toStringTag,{value:"Module"}));function Rc(e){const t=e[0],r=e[1],n=e[2];return Math.sqrt(t*t+r*r+n*n)}function Fl(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function fp(e,t,r,n){return e[0]=t,e[1]=r,e[2]=n,e}function cv(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e}function pp(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e}function mp(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e}function yp(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e}function hv(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function dv(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function fv(e,t){return e[0]=Math.abs(t[0]),e[1]=Math.abs(t[1]),e[2]=Math.abs(t[2]),e}function pv(e,t){return e[0]=Math.sign(t[0]),e[1]=Math.sign(t[1]),e[2]=Math.sign(t[2]),e}function mv(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e}function yv(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e}function gv(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function wv(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e}function vv(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e}function gp(e,t){const r=t[0]-e[0],n=t[1]-e[1],s=t[2]-e[2];return Math.sqrt(r*r+n*n+s*s)}function wp(e,t){const r=t[0]-e[0],n=t[1]-e[1],s=t[2]-e[2];return r*r+n*n+s*s}function vp(e){const t=e[0],r=e[1],n=e[2];return t*t+r*r+n*n}function bv(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function $v(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function Ll(e,t){const r=t[0],n=t[1],s=t[2];let o=r*r+n*n+s*s;return o>0&&(o=1/Math.sqrt(o),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o),e}function bp(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function _v(e,t,r){const n=t[0],s=t[1],o=t[2],a=r[0],l=r[1],c=r[2];return e[0]=s*c-o*l,e[1]=o*a-n*c,e[2]=n*l-s*a,e}function Sv(e,t,r,n){const s=t[0],o=t[1],a=t[2];return e[0]=s+n*(r[0]-s),e[1]=o+n*(r[1]-o),e[2]=a+n*(r[2]-a),e}function xv(e,t,r,n,s,o){const a=o*o,l=a*(2*o-3)+1,c=a*(o-2)+o,d=a*(o-1),p=a*(3-2*o);return e[0]=t[0]*l+r[0]*c+n[0]*d+s[0]*p,e[1]=t[1]*l+r[1]*c+n[1]*d+s[1]*p,e[2]=t[2]*l+r[2]*c+n[2]*d+s[2]*p,e}function Tv(e,t,r,n,s,o){const a=1-o,l=a*a,c=o*o,d=l*a,p=3*o*l,m=3*c*a,y=c*o;return e[0]=t[0]*d+r[0]*p+n[0]*m+s[0]*y,e[1]=t[1]*d+r[1]*p+n[1]*m+s[1]*y,e[2]=t[2]*d+r[2]*p+n[2]*m+s[2]*y,e}function Ov(e,t){t=t||1;const r=Dc,n=2*r()*Math.PI,s=2*r()-1,o=Math.sqrt(1-s*s)*t;return e[0]=Math.cos(n)*o,e[1]=Math.sin(n)*o,e[2]=s*t,e}function Mv(e,t,r){const n=t[0],s=t[1],o=t[2];return e[0]=r[0]*n+r[4]*s+r[8]*o+r[12],e[1]=r[1]*n+r[5]*s+r[9]*o+r[13],e[2]=r[2]*n+r[6]*s+r[10]*o+r[14],e}function Ev(e,t,r){const n=t[0],s=t[1],o=t[2];return e[0]=n*r[0]+s*r[3]+o*r[6],e[1]=n*r[1]+s*r[4]+o*r[7],e[2]=n*r[2]+s*r[5]+o*r[8],e}function Av(e,t,r){const n=r[0],s=r[1],o=r[2],a=r[3],l=t[0],c=t[1],d=t[2];let p=s*d-o*c,m=o*l-n*d,y=n*c-s*l,g=s*y-o*m,b=o*p-n*y,S=n*m-s*p;const x=2*a;return p*=x,m*=x,y*=x,g*=2,b*=2,S*=2,e[0]=l+p+g,e[1]=c+m+b,e[2]=d+y+S,e}function Pv(e,t,r,n){const s=[],o=[];return s[0]=t[0]-r[0],s[1]=t[1]-r[1],s[2]=t[2]-r[2],o[0]=s[0],o[1]=s[1]*Math.cos(n)-s[2]*Math.sin(n),o[2]=s[1]*Math.sin(n)+s[2]*Math.cos(n),e[0]=o[0]+r[0],e[1]=o[1]+r[1],e[2]=o[2]+r[2],e}function Nv(e,t,r,n){const s=[],o=[];return s[0]=t[0]-r[0],s[1]=t[1]-r[1],s[2]=t[2]-r[2],o[0]=s[2]*Math.sin(n)+s[0]*Math.cos(n),o[1]=s[1],o[2]=s[2]*Math.cos(n)-s[0]*Math.sin(n),e[0]=o[0]+r[0],e[1]=o[1]+r[1],e[2]=o[2]+r[2],e}function Iv(e,t,r,n){const s=[],o=[];return s[0]=t[0]-r[0],s[1]=t[1]-r[1],s[2]=t[2]-r[2],o[0]=s[0]*Math.cos(n)-s[1]*Math.sin(n),o[1]=s[0]*Math.sin(n)+s[1]*Math.cos(n),o[2]=s[2],e[0]=o[0]+r[0],e[1]=o[1]+r[1],e[2]=o[2]+r[2],e}function Cv(e,t){Fl($i,e),Fl(_i,t),Ll($i,$i),Ll(_i,_i);const r=bp($i,_i);return r>1?0:r<-1?Math.PI:Math.acos(r)}const $i=Xs(),_i=Xs();function kv(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function Dv(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function Rv(e,t){if(e===t)return!0;const r=e[0],n=e[1],s=e[2],o=t[0],a=t[1],l=t[2],c=kc();return Math.abs(r-o)<=c*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(n-a)<=c*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(s-l)<=c*Math.max(1,Math.abs(s),Math.abs(l))}function Fv(e,t,r){const n=r[0]-t[0],s=r[1]-t[1],o=r[2]-t[2];let a=n*n+s*s+o*o;return a>0?(a=1/Math.sqrt(a),e[0]=n*a,e[1]=s*a,e[2]=o*a,e):(e[0]=0,e[1]=0,e[2]=0,e)}const Lv=pp,jv=mp,Uv=yp,zv=gp,Gv=wp,qv=Rc,Vv=vp;Object.freeze(Object.defineProperty({__proto__:null,abs:fv,add:cv,angle:Cv,bezier:Tv,ceil:hv,copy:Fl,cross:_v,direction:Fv,dist:zv,distance:gp,div:Uv,divide:yp,dot:bp,equals:Rv,exactEquals:Dv,floor:dv,hermite:xv,inverse:$v,len:qv,length:Rc,lerp:Sv,max:yv,min:mv,mul:jv,multiply:mp,negate:bv,normalize:Ll,random:Ov,rotateX:Pv,rotateY:Nv,rotateZ:Iv,round:gv,scale:wv,scaleAndAdd:vv,set:fp,sign:pv,sqrDist:Gv,sqrLen:Vv,squaredDistance:wp,squaredLength:vp,str:kv,sub:Lv,subtract:pp,transformMat3:Ev,transformMat4:Mv,transformQuat:Av},Symbol.toStringTag,{value:"Module"}));function Bv(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function Wv(e,t,r,n,s){return e[0]=t,e[1]=r,e[2]=n,e[3]=s,e}function Hv(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e}function $p(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e}function _p(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e[3]=t[3]*r[3],e}function Sp(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e[3]=t[3]/r[3],e}function Zv(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e}function Jv(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e}function Yv(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e[3]=Math.min(t[3],r[3]),e}function Kv(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e[3]=Math.max(t[3],r[3]),e}function Qv(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e}function Xv(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e}function eb(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e}function xp(e,t){const r=t[0]-e[0],n=t[1]-e[1],s=t[2]-e[2],o=t[3]-e[3];return Math.sqrt(r*r+n*n+s*s+o*o)}function Tp(e,t){const r=t[0]-e[0],n=t[1]-e[1],s=t[2]-e[2],o=t[3]-e[3];return r*r+n*n+s*s+o*o}function Op(e){const t=e[0],r=e[1],n=e[2],s=e[3];return Math.sqrt(t*t+r*r+n*n+s*s)}function Mp(e){const t=e[0],r=e[1],n=e[2],s=e[3];return t*t+r*r+n*n+s*s}function tb(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function rb(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e}function nb(e,t){const r=t[0],n=t[1],s=t[2],o=t[3];let a=r*r+n*n+s*s+o*o;return a>0&&(a=1/Math.sqrt(a),e[0]=r*a,e[1]=n*a,e[2]=s*a,e[3]=o*a),e}function sb(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function ib(e,t,r,n){const s=t[0],o=t[1],a=t[2],l=t[3];return e[0]=s+n*(r[0]-s),e[1]=o+n*(r[1]-o),e[2]=a+n*(r[2]-a),e[3]=l+n*(r[3]-l),e}function ob(e,t){const r=Dc;let n,s,o,a,l,c;t=t||1;do n=2*r()-1,s=2*r()-1,l=n*n+s*s;while(l>=1);do o=2*r()-1,a=2*r()-1,c=o*o+a*a;while(c>=1);const d=Math.sqrt((1-l)/c);return e[0]=t*n,e[1]=t*s,e[2]=t*o*d,e[3]=t*a*d,e}function ab(e,t,r){const n=t[0],s=t[1],o=t[2],a=t[3];return e[0]=r[0]*n+r[4]*s+r[8]*o+r[12]*a,e[1]=r[1]*n+r[5]*s+r[9]*o+r[13]*a,e[2]=r[2]*n+r[6]*s+r[10]*o+r[14]*a,e[3]=r[3]*n+r[7]*s+r[11]*o+r[15]*a,e}function lb(e,t,r){const n=t[0],s=t[1],o=t[2],a=r[0],l=r[1],c=r[2],d=r[3],p=d*n+l*o-c*s,m=d*s+c*n-a*o,y=d*o+a*s-l*n,g=-a*n-l*s-c*o;return e[0]=p*d+g*-a+m*-c-y*-l,e[1]=m*d+g*-l+y*-a-p*-c,e[2]=y*d+g*-c+p*-l-m*-a,e[3]=t[3],e}function ub(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function cb(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function hb(e,t){const r=e[0],n=e[1],s=e[2],o=e[3],a=t[0],l=t[1],c=t[2],d=t[3],p=kc();return Math.abs(r-a)<=p*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(n-l)<=p*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(s-c)<=p*Math.max(1,Math.abs(s),Math.abs(c))&&Math.abs(o-d)<=p*Math.max(1,Math.abs(o),Math.abs(d))}const db=$p,fb=_p,pb=Sp,mb=xp,yb=Tp,gb=Op,wb=Mp;Object.freeze(Object.defineProperty({__proto__:null,add:Hv,ceil:Zv,copy:Bv,dist:mb,distance:xp,div:pb,divide:Sp,dot:sb,equals:hb,exactEquals:cb,floor:Jv,inverse:rb,len:gb,length:Op,lerp:ib,max:Kv,min:Yv,mul:fb,multiply:_p,negate:tb,normalize:nb,random:ob,round:Qv,scale:Xv,scaleAndAdd:eb,set:Wv,sqrDist:yb,sqrLen:wb,squaredDistance:Tp,squaredLength:Mp,str:ub,sub:db,subtract:$p,transformMat4:ab,transformQuat:lb},Symbol.toStringTag,{value:"Module"}));const ud=new Float32Array(1);function ZT(e){--e;for(let t=1;t<32;t<<=1)e|=e>>t;return e+1}function aa(e,t,r){return Math.min(Math.max(e,t),r)}function JT(e){return(e&e-1)==0}function YT(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e}function vb(e,t,r){return e+(t-e)*r}function KT(e,t,r,n,s){return vb(n,s,(e-t)/(r-t))}function QT(e){return e*Math.PI/180}function XT(e){return 180*e/Math.PI}function e4(e){return Math.acos(aa(e,-1,1))}function bb(e){return Math.asin(aa(e,-1,1))}function Fa(e,t,r=1e-6){return e===t?!0:!Number.isFinite(e)||!Number.isFinite(t)?!1:(e>t?e-t:t-e)<=r}const ko=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));function $b(e){return ko.setFloat64(0,e),ko.getBigInt64(0)}function _b(e){return ko.setBigInt64(0,e),ko.getFloat64(0)}const La=BigInt("1000000");Sb(1);function Sb(e){const t=$b(e=Math.abs(e)),r=_b(t<=La?La:t-La);return Math.abs(e-r)}function t4(e){return Ep(Math.max(-cd,Math.min(e,cd)))}function Ep(e){return ud[0]=e,ud[0]}function r4(e,t){const r=Rc(e),n=bb(e[2]/r),s=Math.atan2(e[1]/r,e[0]/r);return fp(t,r,n,s),t}function n4(e){const t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[3]*e[3]+e[4]*e[4]+e[5]*e[5],n=e[6]*e[6]+e[7]*e[7]+e[8]*e[8];return!(Fa(t,1)&&Fa(r,1)&&Fa(n,1))}const cd=Ep(34028234663852886e22);function Si(e){return aa(dc(e),0,255)}function xi(e,t,r){return e=Number(e),isNaN(e)?r:e<t?t:e>r?r:e}function Ti(e,t){const r=e.toString(16).padStart(2,"0");return t?r.substring(0,1):r}let Gi=class ae{static blendColors(t,r,n,s=new ae){return s.r=Math.round(t.r+(r.r-t.r)*n),s.g=Math.round(t.g+(r.g-t.g)*n),s.b=Math.round(t.b+(r.b-t.b)*n),s.a=t.a+(r.a-t.a)*n,s._sanitize()}static fromRgb(t,r){const n=t.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(n){const s=n[2].split(/\s*,\s*/),o=n[1];if(o==="rgb"&&s.length===3||o==="rgba"&&s.length===4){const a=s[0];if(a.charAt(a.length-1)==="%"){const l=s.map(c=>2.56*parseFloat(c));return s.length===4&&(l[3]=parseFloat(s[3])),ae.fromArray(l,r)}return ae.fromArray(s.map(l=>parseFloat(l)),r)}if(o==="hsl"&&s.length===3||o==="hsla"&&s.length===4)return ae.fromArray(Jw(parseFloat(s[0]),parseFloat(s[1])/100,parseFloat(s[2])/100,parseFloat(s[3])),r)}return null}static fromHex(t,r=new ae){if(t[0]!=="#"||isNaN(+`0x${t.substring(1)}`))return null;switch(t.length){case 4:case 5:{const n=parseInt(t.substring(1,2),16),s=parseInt(t.substring(2,3),16),o=parseInt(t.substring(3,4),16),a=t.length===5?15:parseInt(t.substring(4),16);return ae.fromArray([n+16*n,s+16*s,o+16*o,(a+16*a)/255],r)}case 7:case 9:{const n=parseInt(t.substring(1,3),16),s=parseInt(t.substring(3,5),16),o=parseInt(t.substring(5,7),16),a=t.length===7?255:parseInt(t.substring(7),16);return ae.fromArray([n,s,o,a/255],r)}default:return null}}static fromArray(t,r=new ae){return r._set(Number(t[0]),Number(t[1]),Number(t[2]),Number(t[3])),isNaN(r.a)&&(r.a=1),r._sanitize()}static fromString(t,r){const n=Zw(t)?ap(t):null;return n&&ae.fromArray(n,r)||ae.fromRgb(t,r)||ae.fromHex(t,r)}static fromJSON(t){return t!=null?new ae([t[0],t[1],t[2],(t[3]??255)/255]):void 0}static toUnitRGB(t){return t!=null?[t.r/255,t.g/255,t.b/255]:null}static toUnitRGBA(t){return t!=null?[t.r/255,t.g/255,t.b/255,t.a!=null?t.a:1]:null}constructor(t){this.r=255,this.g=255,this.b=255,this.a=1,t&&this.setColor(t)}get isBright(){return .299*this.r+.587*this.g+.114*this.b>=127}setColor(t){return typeof t=="string"?ae.fromString(t,this):Array.isArray(t)?ae.fromArray(t,this):(this._set(t.r??0,t.g??0,t.b??0,t.a??1),t instanceof ae||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(t){const r=(t==null?void 0:t.capitalize)??!1,n=(t==null?void 0:t.digits)??6,s=n===3||n===4,o=n===4||n===8,a=`#${Ti(this.r,s)}${Ti(this.g,s)}${Ti(this.b,s)}${o?Ti(Math.round(255*this.a),s):""}`;return r?a.toUpperCase():a}toCss(t=!1){const r=this.r+", "+this.g+", "+this.b;return t?`rgba(${r}, ${this.a})`:`rgb(${r})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(t=ae.AlphaMode.ALWAYS){const r=Si(this.r),n=Si(this.g),s=Si(this.b);return t===ae.AlphaMode.ALWAYS||this.a!==1?[r,n,s,Si(255*this.a)]:[r,n,s]}clone(){return new ae(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(t){return t!=null&&t.r===this.r&&t.g===this.g&&t.b===this.b&&t.a===this.a}_sanitize(){return this.r=Math.round(xi(this.r,0,255)),this.g=Math.round(xi(this.g,0,255)),this.b=Math.round(xi(this.b,0,255)),this.a=xi(this.a,0,1),this}_set(t,r,n,s){this.r=t,this.g=r,this.b=n,this.a=s}};Gi.prototype.declaredClass="esri.Color",function(e){var t;(t=e.AlphaMode||(e.AlphaMode={}))[t.ALWAYS=0]="ALWAYS",t[t.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"}(Gi||(Gi={}));const Y=Gi;function k(e,t={}){const r=e instanceof It?e:new It(e,t),n={type:(t==null?void 0:t.ignoreUnknown)??1?r.apiValues:String,json:{type:r.jsonValues,read:!(t!=null&&t.readOnly)&&{reader:r.read},write:{writer:r.write}}};return(t==null?void 0:t.readOnly)!==void 0&&(n.readOnly=!!t.readOnly),(t==null?void 0:t.default)!==void 0&&(n.json.default=t.default),(t==null?void 0:t.name)!==void 0&&(n.json.name=t.name),(t==null?void 0:t.nonNullable)!==void 0&&(n.nonNullable=t.nonNullable),h(n)}function xb(e){const t=dc(100*(1-e));return Math.max(0,Math.min(t,100))}function Tb(e){const t=1-e/100;return Math.max(0,Math.min(t,1))}const Ob=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i,Mb="screenUtils.toPt: input not recognized!",Ap=96;function s4(e){return e?e/72*Ap:0}function Jr(e){return e?72*e/Ap:0}function Q(e){if(typeof e=="string"){const t=e.match(Ob);if(t){const r=Number(t[1]),n=t[3]&&t[3].toLowerCase(),s=e.charAt(0)==="-",o=n==="px"?Jr(r):r;return s?-o:o}return console.warn(Mb),null}return e}function i4(e=0,t=0){return{x:e,y:t}}function o4(e=0,t=0){return[e,t]}function On(e,t,r=!1){let{hasM:n,hasZ:s}=e;Array.isArray(t)?t.length!==4||n||s?t.length===3&&r&&!n?(s=!0,n=!1):t.length===3&&n&&s&&(n=!1,s=!1):(n=!0,s=!0):(s=!s&&t.hasZ&&(!n||t.hasM),n=!n&&t.hasM&&(!s||t.hasZ)),e.hasZ=s,e.hasM=n}var jl;function hd(e){return(t,r)=>t==null?r:r==null?t:e(t,r)}function Eb(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}let Bt=jl=class extends Qr{constructor(...e){super(...e),this.points=[],this.type="multipoint"}normalizeCtorArgs(e,t){var s;if(!e&&!t)return{};const r={};Array.isArray(e)?(r.points=e,r.spatialReference=t):Eb(e)?r.spatialReference=e:(e.points&&(r.points=e.points),e.spatialReference&&(r.spatialReference=e.spatialReference),e.hasZ&&(r.hasZ=e.hasZ),e.hasM&&(r.hasM=e.hasM));const n=(s=r.points)==null?void 0:s[0];return n&&(r.hasZ===void 0&&r.hasM===void 0?(r.hasZ=n.length>2,r.hasM=!1):r.hasZ===void 0?r.hasZ=n.length>3:r.hasM===void 0&&(r.hasM=n.length>3)),r}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const e=this.points;if(!e.length)return null;const t=new yt,r=this.hasZ,n=this.hasM,s=r?3:2,o=e[0],a=hd(Math.min),l=hd(Math.max);let c,d,p,m,[y,g]=o,[b,S]=o;for(let x=0,M=e.length;x<M;x++){const P=e[x],[F,W]=P;if(y=a(y,F),g=a(g,W),b=l(b,F),S=l(S,W),r&&P.length>2){const z=P[2];c=a(c,z),p=l(p,z)}if(n&&P.length>s){const z=P[s];d=a(d,z),m=l(m,z)}}return t.xmin=y,t.ymin=g,t.xmax=b,t.ymax=S,t.spatialReference=this.spatialReference,r?(t.zmin=c,t.zmax=p):(t.zmin=void 0,t.zmax=void 0),n?(t.mmin=d,t.mmax=m):(t.mmin=void 0,t.mmax=void 0),t}writePoints(e,t){t.points=T(this.points)}addPoint(e){return On(this,e),Array.isArray(e)?this.points.push(e):this.points.push(e.toArray()),this.notifyChange("points"),this}clone(){const e={points:T(this.points),spatialReference:this.spatialReference};return this.hasZ&&(e.hasZ=!0),this.hasM&&(e.hasM=!0),new jl(e)}getPoint(e){if(!this._validateInputs(e))return null;const t=this.points[e],r={x:t[0],y:t[1],spatialReference:this.spatialReference};let n=2;return this.hasZ&&(r.z=t[2],n=3),this.hasM&&(r.m=t[n]),new ue(r)}removePoint(e){if(!this._validateInputs(e))return null;const t=new ue(this.points.splice(e,1)[0],this.spatialReference);return this.notifyChange("points"),t}setPoint(e,t){return this._validateInputs(e)?(On(this,t),Array.isArray(t)||(t=t.toArray()),this.points[e]=t,this.notifyChange("points"),this):this}toJSON(e){return this.write({},e)}_validateInputs(e){return e!=null&&e>=0&&e<this.points.length}};u([h({readOnly:!0})],Bt.prototype,"cache",null),u([h()],Bt.prototype,"extent",null),u([h({type:[[Number]],json:{write:{isRequired:!0}}})],Bt.prototype,"points",void 0),u([ee("points")],Bt.prototype,"writePoints",null),Bt=jl=u([v("esri.geometry.Multipoint")],Bt),Bt.prototype.toJSON.isDefaultToJSON=!0;const Fc=Bt;function a4(e){const t=[];for(e.reset();e.nextPath();){const r=[];for(;e.nextPoint();)r.push([e.x,e.y]);t.push(r)}return e.reset(),t}function Ab(e){const t=[];for(;e.nextPoint();)t.push([e.x,e.y]);return e.seekPathStart(),t}var Do;(function(e){e[e.X=0]="X",e[e.Y=1]="Y",e[e.Z=2]="Z"})(Do||(Do={}));function Pp(e,t){const r=t[0]-e[0],n=t[1]-e[1];if(e.length>2&&t.length>2){const s=e[2]-t[2];return Math.sqrt(r*r+n*n+s*s)}return Math.sqrt(r*r+n*n)}function Pb(e,t,r){const n=e[0]+r*(t[0]-e[0]),s=e[1]+r*(t[1]-e[1]);return e.length>2&&t.length>2?[n,s,e[2]+r*(t[2]-e[2])]:[n,s]}function l4(e,t,r,n){return Nb(e,t,r[n],r[n+1])}function Nb(e,t,r,n){const[s,o]=t,[a,l]=r,[c,d]=n,p=c-a,m=d-l,y=p*p+m*m,g=(s-a)*p+(o-l)*m,b=Math.min(1,Math.max(0,g/y));return e[0]=a+p*b,e[1]=l+m*b,e}function Np(e,t){return Pb(e,t,.5)}function Ip(e,t=Do.X,r=Do.Y){let n=0;const s=e.length;let o=e[0];for(let a=0;a<s-1;a++){const l=e[a+1];n+=(l[t]-o[t])*(l[r]+o[r]),o=l}return n>=0}function Ib(e){const t=e.length;return t>2&&Zo(e[0],e[t-1])}function u4(e){if("rings"in e&&(Cb(e),e.rings.length>0&&!Ip(e.rings[0])))for(const t of e.rings)t.reverse()}function Cb(e){if("rings"in e)for(const t of e.rings)Ib(t)||t.push(t[0].slice())}function c4(e){return e?e.hasZ?[e.xmax-e.xmin/2,e.ymax-e.ymin/2,e.zmax-e.zmin/2]:[e.xmax-e.xmin/2,e.ymax-e.ymin/2]:null}function kb(e){return e?Db(e.rings,e.hasZ??!1):null}function Db(e,t){if(!(e!=null&&e.length))return null;const r=[],n=[],s=t?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let o=0,a=e.length;o<a;o++){const l=Cp(e[o],t,s);l&&n.push(l)}if(n.sort((o,a)=>{let l=o[2]-a[2];return l===0&&t&&(l=o[4]-a[4]),l}),n.length&&(r[0]=n[0][0],r[1]=n[0][1],t&&(r[2]=n[0][3]),(r[0]<s[0]||r[0]>s[1]||r[1]<s[2]||r[1]>s[3]||t&&(r[2]<s[4]||r[2]>s[5]))&&(r.length=0)),!r.length){const o=e[0]&&e[0].length?Rb(e[0],t):null;if(!o)return null;r[0]=o[0],r[1]=o[1],t&&o.length>2&&(r[2]=o[2])}return r}function Cp(e,t,r){let n=0,s=0,o=0,a=0,l=0;const c=e.length?e[0][0]:0,d=e.length?e[0][1]:0,p=e.length&&t?e[0][2]:0;for(let y=0;y<e.length;y++){const g=e[y],b=e[(y+1)%e.length],[S,x,M]=g,P=S-c,F=x-d,[W,z,be]=b,xe=W-c,q=z-d,wt=P*q-xe*F;if(a+=wt,n+=(P+xe)*wt,s+=(F+q)*wt,t&&g.length>2&&b.length>2){const ci=M-p,Un=be-p,vh=P*Un-xe*ci;o+=(ci+Un)*vh,l+=vh}S<r[0]&&(r[0]=S),S>r[1]&&(r[1]=S),x<r[2]&&(r[2]=x),x>r[3]&&(r[3]=x),t&&(M<r[4]&&(r[4]=M),M>r[5]&&(r[5]=M))}if(a>0&&(a*=-1),l>0&&(l*=-1),!a)return null;a*=.5,l*=.5;const m=[n/(6*a)+c,s/(6*a)+d,a];return t&&(r[4]===r[5]||l===0?(m[3]=(r[4]+r[5])/2,m[4]=0):(m[3]=o/(6*l)+p,m[4]=l)),m}function h4(e,t){let r=0,n=0,s=0;e.nextPoint();const o=e.pathSize?e.x:0,a=e.pathSize?e.y:0;for(let l=0;l<e.pathSize;l++){e.seekInPath(l);const c=[e.x,e.y];e.seekInPath((l+1)%e.pathSize);const d=[e.x,e.y],[p,m]=c,y=p-o,g=m-a,[b,S]=d,x=b-o,M=S-a,P=y*M-x*g;s+=P,r+=(y+x)*P,n+=(g+M)*P,p<t[0]&&(t[0]=p),p>t[1]&&(t[1]=p),m<t[2]&&(t[2]=m),m>t[3]&&(t[3]=m)}return s>0&&(s*=-1),s?(s*=.5,[r/(6*s)+o,n/(6*s)+a,s]):null}function Rb(e,t){const r=t?[0,0,0]:[0,0],n=t?[0,0,0]:[0,0];let s=0,o=0,a=0,l=0;for(let c=0,d=e.length;c<d-1;c++){const p=e[c],m=e[c+1];if(p&&m){r[0]=p[0],r[1]=p[1],n[0]=m[0],n[1]=m[1],t&&p.length>2&&m.length>2&&(r[2]=p[2],n[2]=m[2]);const y=Pp(r,n);if(y){s+=y;const g=Np(p,m);o+=y*g[0],a+=y*g[1],t&&g.length>2&&(l+=y*g[2])}}}return s>0?t?[o/s,a/s,l/s]:[o/s,a/s]:e.length?e[0]:null}function Fb(e){const{hasZ:t,totalSize:r}=e;if(r===0)return null;const n=[],s=[],o=t?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(e.reset();e.nextPath();){const a=Cp(Ab(e),e.hasZ,o);a&&s.push(a)}if(s.sort((a,l)=>{let c=a[2]-l[2];return c===0&&t&&(c=a[4]-l[4]),c}),s.length&&(n[0]=s[0][0],n[1]=s[0][1],t&&(n[2]=s[0][3]),(n[0]<o[0]||n[0]>o[1]||n[1]<o[2]||n[1]>o[3]||t&&(n[2]<o[4]||n[2]>o[5]))&&(n.length=0)),!n.length){e.reset(),e.nextPath();const a=e.pathSize?Lb(e):null;if(!a)return null;n[0]=a[0],n[1]=a[1],t&&a.length>2&&(n[2]=a[2])}return n}function Lb(e){const{hasZ:t}=e,r=t?[0,0,0]:[0,0],n=t?[0,0,0]:[0,0];let s=0,o=0,a=0,l=0;if(e.nextPoint()){let c=e.x,d=e.y,p=e.z;for(;e.nextPoint();){const m=e.x,y=e.y,g=e.z;r[0]=c,r[1]=d,n[0]=m,n[1]=y,t&&(r[2]=p,n[2]=g);const b=Pp(r,n);if(b){s+=b;const S=Np(r,n);o+=b*S[0],a+=b*S[1],t&&S.length>2&&(l+=b*S[2])}c=m,d=y,p=g}}return s>0?t?[o/s,a/s,l/s]:[o/s,a/s]:e.pathSize?(e.seekPathStart(),e.nextPoint(),[e.x,e.y]):null}const jb=1e-6;function d4(e){let t=0;for(e.reset();e.nextPath();)t+=e.getCurrentRingArea();if(t<jb){const s=Fb(e);return s?[s[0],s[1]]:null}const r=[0,0];if(e.reset(),!e.nextPath()||!e.nextPoint())return null;const n=[e.x,e.y];for(e.reset();e.nextPath();)zb(r,n,e);return r[0]*=1/t,r[1]*=1/t,r[0]+=n[0],r[1]+=n[1],r}const Ub=1/3;function zb(e,t,r){if(!e||!r||r.pathSize<3)return null;r.nextPoint();const n=r.x,s=r.y;r.nextPoint();let o,a=r.x-n,l=r.y-s,c=0,d=0;for(;r.nextPoint();)c=r.x-n,d=r.y-s,o=.5*Ub*(c*l-d*a),e[0]+=o*(a+c),e[1]+=o*(l+d),a=c,l=d;const p=r.getCurrentRingArea(),m=[n,s];return m[0]-=t[0],m[1]-=t[1],m[0]*=p,m[1]*=p,e[0]+=m[0],e[1]+=m[1],e}function ti(e=Vb){return[e[0],e[1],e[2],e[3]]}function f4(e){return[e[0],e[1],e[2],e[3]]}function kp(e,t){return e!==t&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]),e}function p4(e,t,r,n,s=ti()){return s[0]=e,s[1]=t,s[2]=r,s[3]=n,s}function m4(e,t=ti()){return t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax,t}function y4(e,t){return new yt({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}function g4(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function w4(e,t,r){if(t!=null)if("length"in t)Ul(t)?(r[0]=Math.min(e[0],t[0]),r[1]=Math.min(e[1],t[1]),r[2]=Math.max(e[2],t[2]),r[3]=Math.max(e[3],t[3])):t.length!==2&&t.length!==3||(r[0]=Math.min(e[0],t[0]),r[1]=Math.min(e[1],t[1]),r[2]=Math.max(e[2],t[0]),r[3]=Math.max(e[3],t[1]));else switch(t.type){case"extent":r[0]=Math.min(e[0],t.xmin),r[1]=Math.min(e[1],t.ymin),r[2]=Math.max(e[2],t.xmax),r[3]=Math.max(e[3],t.ymax);break;case"point":r[0]=Math.min(e[0],t.x),r[1]=Math.min(e[1],t.y),r[2]=Math.max(e[2],t.x),r[3]=Math.max(e[3],t.y)}else kp(r,e)}function Gb(e){return e==null||e[0]>=e[2]?0:e[2]-e[0]}function qb(e){return e==null||e[1]>=e[3]?0:e[3]-e[1]}function v4(e){return Gb(e)*qb(e)}function b4(e,t,r){return t>=e[0]&&r>=e[1]&&t<=e[2]&&r<=e[3]}function $4(e,t,r){return t[0]>=e[0]-r&&t[1]>=e[1]-r&&t[0]<=e[2]+r&&t[1]<=e[3]+r}function _4(e,t){return Math.max(t[0],e[0])<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])<=Math.min(t[3],e[3])}function S4(e,t){return t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3]}function x4(e){return e?kp(e,dd):ti(dd)}function Ul(e){return e!=null&&e.length===4}function T4(e,t){return Ul(e)&&Ul(t)?e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]:e===t}const dd=[1/0,1/0,-1/0,-1/0],Vb=[0,0,0,0];function Dp(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function Rp(e){return e.points!==void 0}function Fp(e){return e.x!==void 0&&e.y!==void 0}function Lp(e){return e.paths!==void 0}function jp(e){return e.rings!==void 0}function Up(e){function t(r,n){return r==null?n:n==null?r:e(r,n)}return t}const ar=Up(Math.min),lr=Up(Math.max);function O4(e,t){return Lp(t)?Mn(e,t.paths,!1,!1):jp(t)?Mn(e,t.rings,!1,!1):Rp(t)?Lc(e,t.points,!1,!1,!1,!1):Dp(t)?zp(e,t):(Fp(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.x,e[3]=t.y),e)}function M4(e){let t,r,n,s;for(e.reset(),t=n=1/0,r=s=-1/0;e.nextPath();){const o=Bb(e);t=Math.min(o[0],t),n=Math.min(o[1],n),r=Math.max(o[2],r),s=Math.max(o[3],s)}return ti([t,n,r,s])}function Bb(e){let t,r,n,s;for(t=n=1/0,r=s=-1/0;e.nextPoint();)t=Math.min(e.x,t),n=Math.min(e.y,n),r=Math.max(e.x,r),s=Math.max(e.y,s);return ti([t,n,r,s])}function E4(e,t){return Lp(t)?Mn(e,t.paths,!0,!1):jp(t)?Mn(e,t.rings,!0,!1):Rp(t)?Lc(e,t.points,!0,!1,!0,!1):Dp(t)?zp(e,t,!0,!1,!0,!1):(Fp(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.x,e[4]=t.y,e[5]=t.z),e)}function Mn(e,t,r,n){const s=r?3:2;if(!t.length||!t[0].length)return null;let o,a,l,c,[d,p]=t[0][0],[m,y]=t[0][0];for(let g=0;g<t.length;g++){const b=t[g];for(let S=0;S<b.length;S++){const x=b[S],[M,P]=x;if(d=ar(d,M),p=ar(p,P),m=lr(m,M),y=lr(y,P),r&&x.length>2){const F=x[2];o=ar(o,F),a=lr(a,F)}if(n&&x.length>s){const F=x[s];l=ar(o,F),c=lr(a,F)}}}return r?n?(e[0]=d,e[1]=p,e[2]=o,e[3]=l,e[4]=m,e[5]=y,e[6]=a,e[7]=c,e.length=8,e):(e[0]=d,e[1]=p,e[2]=o,e[3]=m,e[4]=y,e[5]=a,e.length=6,e):n?(e[0]=d,e[1]=p,e[2]=l,e[3]=m,e[4]=y,e[5]=c,e.length=6,e):(e[0]=d,e[1]=p,e[2]=m,e[3]=y,e.length=4,e)}function zp(e,t,r,n,s,o){const a=t.xmin,l=t.xmax,c=t.ymin,d=t.ymax;let p=t.zmin,m=t.zmax,y=t.mmin,g=t.mmax;return s?(p=p||0,m=m||0,o?(y=y||0,g=g||0,e[0]=a,e[1]=c,e[2]=p,e[3]=y,e[4]=l,e[5]=d,e[6]=m,e[7]=g,e):(e[0]=a,e[1]=c,e[2]=p,e[3]=l,e[4]=d,e[5]=m,e)):o?(y=y||0,g=g||0,e[0]=a,e[1]=c,e[2]=y,e[3]=l,e[4]=d,e[5]=g,e):(e[0]=a,e[1]=c,e[2]=l,e[3]=d,e)}function Lc(e,t,r,n,s,o){const a=r?3:2,l=n&&o,c=r&&s;if(!t.length||!t[0].length)return null;let d,p,m,y,[g,b]=t[0],[S,x]=t[0];for(let M=0;M<t.length;M++){const P=t[M],[F,W]=P;if(g=ar(g,F),b=ar(b,W),S=lr(S,F),x=lr(x,W),c&&P.length>2){const z=P[2];d=ar(d,z),p=lr(p,z)}if(l&&P.length>a){const z=P[a];m=ar(d,z),y=lr(p,z)}}return s?(d=d||0,p=p||0,o?(m=m||0,y=y||0,e[0]=g,e[1]=b,e[2]=d,e[3]=m,e[4]=S,e[5]=x,e[6]=p,e[7]=y,e):(e[0]=g,e[1]=b,e[2]=d,e[3]=S,e[4]=x,e[5]=p,e)):o?(m=m||0,y=y||0,e[0]=g,e[1]=b,e[2]=m,e[3]=S,e[4]=x,e[5]=y,e):(e[0]=g,e[1]=b,e[2]=S,e[3]=x,e)}function Wb(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function Hb(e){return e.points!==void 0}function Zb(e){return e.x!==void 0&&e.y!==void 0}function Jb(e){return e.paths!==void 0}function Yb(e){return e.rings!==void 0}const jc=[];function Gp(e,t,r,n){return{xmin:e,ymin:t,xmax:r,ymax:n}}function qp(e,t,r,n,s,o){return{xmin:e,ymin:t,zmin:r,xmax:n,ymax:s,zmax:o}}function Vp(e,t,r,n,s,o){return{xmin:e,ymin:t,mmin:r,xmax:n,ymax:s,mmax:o}}function Bp(e,t,r,n,s,o,a,l){return{xmin:e,ymin:t,zmin:r,mmin:n,xmax:s,ymax:o,zmax:a,mmax:l}}function Uc(e,t=!1,r=!1){return t?r?Bp(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]):qp(e[0],e[1],e[2],e[3],e[4],e[5]):r?Vp(e[0],e[1],e[2],e[3],e[4],e[5]):Gp(e[0],e[1],e[2],e[3])}function A4(e){return e?Wb(e)?e:Zb(e)?Qb(e):Yb(e)?Wp(e):Jb(e)?Hp(e):Hb(e)?Kb(e):null:null}function Kb(e){const{hasZ:t,hasM:r,points:n}=e;return Uc(Lc(jc,n,t??!1,r??!1),t,r)}function Qb(e){const{x:t,y:r,z:n,m:s}=e,o=s!=null;return n!=null?o?Bp(t,r,n,s,t,r,n,s):qp(t,r,n,t,r,n):o?Vp(t,r,s,t,r,s):Gp(t,r,t,r)}function Wp(e){const{hasZ:t,hasM:r,rings:n}=e,s=Mn(jc,n,t??!1,r??!1);return s?Uc(s,t,r):null}function Hp(e){const{hasZ:t,hasM:r,paths:n}=e,s=Mn(jc,n,t??!1,r??!1);return s?Uc(s,t,r):null}var qi;function fd(e){return!Array.isArray(e[0])}let ot=qi=class extends Qr{static fromExtent(e){const t=e.clone().normalize(),r=e.spatialReference;let n=!1,s=!1;for(const a of t)a.hasZ&&(n=!0),a.hasM&&(s=!0);const o={rings:t.map(a=>{const l=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(n&&a.hasZ){const c=a.zmin+.5*(a.zmax-a.zmin);for(let d=0;d<l.length;d++)l[d].push(c)}if(s&&a.hasM){const c=a.mmin+.5*(a.mmax-a.mmin);for(let d=0;d<l.length;d++)l[d].push(c)}return l}),spatialReference:r};return n&&(o.hasZ=!0),s&&(o.hasM=!0),new qi(o)}constructor(...e){super(...e),this.rings=[],this.type="polygon"}normalizeCtorArgs(e,t){var a,l;let r,n,s=null,o=null;return e&&!Array.isArray(e)?(s=e.rings??null,t||(e.spatialReference?t=e.spatialReference:e.rings||(t=e)),r=e.hasZ,n=e.hasM):s=e,s=s||[],t=t||fe.WGS84,s.length&&((a=s[0])==null?void 0:a[0])!=null&&typeof s[0][0]=="number"&&(s=[s]),o=(l=s[0])==null?void 0:l[0],o&&(r===void 0&&n===void 0?(r=o.length>2,n=o.length>3):r===void 0?r=n?o.length>3:o.length>2:n===void 0&&(n=r?o.length>3:o.length>2)),{rings:s,spatialReference:t,hasZ:r,hasM:n}}get cache(){return this.commitProperty("rings"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get centroid(){const e=kb(this);if(!e||isNaN(e[0])||isNaN(e[1])||this.hasZ&&isNaN(e[2]))return null;const t=new ue;return t.x=e[0],t.y=e[1],t.spatialReference=this.spatialReference,this.hasZ&&(t.z=e[2]),t}get extent(){const{spatialReference:e}=this,t=Wp(this);if(!t)return null;const r=new yt(t);return r.spatialReference=e,r}get isSelfIntersecting(){return Cw(this.rings)}writeRings(e,t){t.rings=T(this.rings)}addRing(e){if(!e)return;const t=this.rings,r=t.length;if(fd(e)){const n=[];for(let s=0,o=e.length;s<o;s++)n[s]=e[s].toArray();t[r]=n}else t[r]=e.concat();return this.notifyChange("rings"),this}clone(){const e=new qi;return e.spatialReference=this.spatialReference,e.rings=T(this.rings),e.hasZ=this.hasZ,e.hasM=this.hasM,e}equals(e){if(this===e)return!0;if(e==null)return!1;const t=this.spatialReference,r=e.spatialReference;if(t!=null!=(r!=null)||t!=null&&r!=null&&!t.equals(r)||this.rings.length!==e.rings.length)return!1;const n=([s,o,a,l],[c,d,p,m])=>s===c&&o===d&&(a==null&&p==null||a===p)&&(l==null&&m==null||l===m);for(let s=0;s<this.rings.length;s++){const o=this.rings[s],a=e.rings[s];if(!Zo(o,a,n))return!1}return!0}contains(e){if(!e)return!1;const t=X0(e,this.spatialReference);return Sw(this,t??e)}isClockwise(e){let t;return t=fd(e)?e.map(r=>this.hasZ?this.hasM?[r.x,r.y,r.z,r.m]:[r.x,r.y,r.z]:[r.x,r.y]):e,Ip(t)}getPoint(e,t){if(!this._validateInputs(e,t))return null;const r=this.rings[e][t],n=this.hasZ,s=this.hasM;return n&&!s?new ue(r[0],r[1],r[2],void 0,this.spatialReference):s&&!n?new ue(r[0],r[1],void 0,r[2],this.spatialReference):n&&s?new ue(r[0],r[1],r[2],r[3],this.spatialReference):new ue(r[0],r[1],this.spatialReference)}insertPoint(e,t,r){return this._validateInputs(e,t,!0)?(On(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[e].splice(t,0,r),this.notifyChange("rings"),this):this}removePoint(e,t){if(!this._validateInputs(e,t))return null;const r=new ue(this.rings[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("rings"),r}removeRing(e){if(!this._validateInputs(e,null))return null;const t=this.rings.splice(e,1)[0],r=this.spatialReference,n=t.map(s=>new ue(s,r));return this.notifyChange("rings"),n}setPoint(e,t,r){return this._validateInputs(e,t)?(On(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[e][t]=r,this.notifyChange("rings"),this):this}_validateInputs(e,t,r=!1){if(e==null||e<0||e>=this.rings.length)return!1;if(t!=null){const n=this.rings[e];if(r&&(t<0||t>n.length)||!r&&(t<0||t>=n.length))return!1}return!0}toJSON(e){return this.write({},e)}};u([h({readOnly:!0})],ot.prototype,"cache",null),u([h({readOnly:!0})],ot.prototype,"centroid",null),u([h({readOnly:!0})],ot.prototype,"extent",null),u([h({readOnly:!0})],ot.prototype,"isSelfIntersecting",null),u([h({type:[[[Number]]],json:{write:{isRequired:!0}}})],ot.prototype,"rings",void 0),u([ee("rings")],ot.prototype,"writeRings",null),ot=qi=u([v("esri.geometry.Polygon")],ot),ot.prototype.toJSON.isDefaultToJSON=!0;const zc=ot;var zl;function Xb(e){return!Array.isArray(e[0])}let Wt=zl=class extends Qr{constructor(...e){super(...e),this.paths=[],this.type="polyline"}normalizeCtorArgs(e,t){var a,l;let r,n,s=null,o=null;return e&&!Array.isArray(e)?(s=e.paths??null,t||(e.spatialReference?t=e.spatialReference:e.paths||(t=e)),r=e.hasZ,n=e.hasM):s=e,s=s||[],t=t||fe.WGS84,s.length&&((a=s[0])==null?void 0:a[0])!=null&&typeof s[0][0]=="number"&&(s=[s]),o=(l=s[0])==null?void 0:l[0],o&&(r===void 0&&n===void 0?(r=o.length>2,n=!1):r===void 0?r=!n&&o.length>3:n===void 0&&(n=!r&&o.length>3)),{paths:s,spatialReference:t,hasZ:r,hasM:n}}get cache(){return this.commitProperty("paths"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const{spatialReference:e}=this,t=Hp(this);if(!t)return null;const r=new yt(t);return r.spatialReference=e,r}writePaths(e,t){t.paths=T(this.paths)}addPath(e){if(!e)return;const t=this.paths,r=t.length;if(Xb(e)){const n=[];for(let s=0,o=e.length;s<o;s++)n[s]=e[s].toArray();t[r]=n}else t[r]=e.concat();return this.notifyChange("paths"),this}clone(){const e=new zl;return e.spatialReference=this.spatialReference,e.paths=T(this.paths),e.hasZ=this.hasZ,e.hasM=this.hasM,e}getPoint(e,t){if(!this._validateInputs(e,t))return null;const r=this.paths[e][t],n=this.hasZ,s=this.hasM;return n&&!s?new ue(r[0],r[1],r[2],void 0,this.spatialReference):s&&!n?new ue(r[0],r[1],void 0,r[2],this.spatialReference):n&&s?new ue(r[0],r[1],r[2],r[3],this.spatialReference):new ue(r[0],r[1],this.spatialReference)}insertPoint(e,t,r){return this._validateInputs(e,t,!0)?(On(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[e].splice(t,0,r),this.notifyChange("paths"),this):this}removePath(e){if(!this._validateInputs(e,null))return null;const t=this.paths.splice(e,1)[0],r=this.spatialReference,n=t.map(s=>new ue(s,r));return this.notifyChange("paths"),n}removePoint(e,t){if(!this._validateInputs(e,t))return null;const r=new ue(this.paths[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("paths"),r}setPoint(e,t,r){return this._validateInputs(e,t)?(On(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[e][t]=r,this.notifyChange("paths"),this):this}_validateInputs(e,t,r=!1){if(e==null||e<0||e>=this.paths.length)return!1;if(t!=null){const n=this.paths[e];if(r&&(t<0||t>n.length)||!r&&(t<0||t>=n.length))return!1}return!0}toJSON(e){return this.write({},e)}};u([h({readOnly:!0})],Wt.prototype,"cache",null),u([h({readOnly:!0})],Wt.prototype,"extent",null),u([h({type:[[[Number]]],json:{write:{isRequired:!0}}})],Wt.prototype,"paths",void 0),u([ee("paths")],Wt.prototype,"writePaths",null),Wt=zl=u([v("esri.geometry.Polyline")],Wt),Wt.prototype.toJSON.isDefaultToJSON=!0;const Gc=Wt,P4=tt()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),N4=tt()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"});function Zp(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function Jp(e){return e.points!==void 0}function Yp(e){return e.x!==void 0&&e.y!==void 0}function Kp(e){return e.paths!==void 0}function Qp(e){return e.rings!==void 0}function Xp(e){return e==null?null:e instanceof Qr?e:Yp(e)?ue.fromJSON(e):Kp(e)?Gc.fromJSON(e):Qp(e)?zc.fromJSON(e):Jp(e)?Fc.fromJSON(e):Zp(e)?yt.fromJSON(e):null}function e$(e){return e?Yp(e)?"esriGeometryPoint":Kp(e)?"esriGeometryPolyline":Qp(e)?"esriGeometryPolygon":Zp(e)?"esriGeometryEnvelope":Jp(e)?"esriGeometryMultipoint":null:null}const t$={esriGeometryPoint:ue,esriGeometryPolyline:Gc,esriGeometryPolygon:zc,esriGeometryEnvelope:yt,esriGeometryMultipoint:Fc};function r$(e){return e&&t$[e]||null}const em={base:Qr,key:"type",typeMap:{extent:yt,multipoint:Fc,point:ue,polyline:Gc,polygon:zc}};Vr(em);let tm=0;const rm=e=>{let t=class extends e{constructor(...r){super(...r),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+tm++})}};return t=u([v("esri.core.Identifiable")],t),t},I4=e=>{let t=class extends e{constructor(...r){super(...r),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:tm++})}};return t=u([v("esri.core.NumericIdentifiable")],t),t};let pd=class extends rm(class{}){};pd=u([v("esri.core.Identifiable")],pd);const Xr=e=>{let t=class extends e{clone(){var c;const r=cr(this);P1(r,"unable to clone instance of non-accessor class");const n=r.metadatas,s=r.store,o={},a=new Map;for(const d in n){const p=n[d],m=s==null?void 0:s.originOf(d),y=p.clonable;if(p.readOnly||y===!1||m!==C.USER&&m!==C.DEFAULTS&&m!==C.WEB_MAP&&m!==C.WEB_SCENE)continue;const g=this[d];let b=null;b=typeof y=="function"?y(g):y==="reference"?g:Xa(g),g!=null&&b==null||(m===C.DEFAULTS?a.set(d,b):o[d]=b)}const l=new(Object.getPrototypeOf(this)).constructor(o);if(a.size){const d=(c=cr(l))==null?void 0:c.store;if(d)for(const[p,m]of a)d.set(p,m,C.DEFAULTS)}return l}};return t=u([v("esri.core.Clonable")],t),t};let md=class extends Xr(Ae){};md=u([v("esri.core.Clonable")],md);function n$(e,t,r={}){return qc(e,t,r,nm)}function D4(e,t,r={}){return qc(e,t,r,sm)}function qc(e,t,r={},n){let s=null;const o=r.once?(a,l)=>{n(a)&&(Nn(s),t(a,l))}:(a,l)=>{n(a)&&t(a,l)};if(s=Pg(e,o,r.sync,r.equals),r.initial){const a=e();o(a,a)}return s}function s$(e,t,r,n={}){let s=null,o=null,a=null;function l(){var p;s&&o&&(o.remove(),(p=n.onListenerRemove)==null||p.call(n,s),s=null,o=null)}function c(p){n.once&&n.once&&Nn(a),r(p)}const d=n$(e,(p,m)=>{var y;l(),uc(p)&&(s=p,o=Bf(p,t,c),(y=n.onListenerAdd)==null||y.call(n,p))},{sync:n.sync,initial:!0});return a=de(()=>{d.remove(),l()}),a}function R4(e,t){return i$(e,sm,t)}function i$(e,t,r){if(Gr(r))return Promise.reject(Ee());const n=e();if(t!=null&&t(n))return Promise.resolve(n);let s=null;function o(){s=Nn(s)}return new Promise((a,l)=>{s=ac([bn(r,()=>{o(),l(Ee())}),qc(e,c=>{o(),a(c)},{sync:!1,once:!0},t??nm)])})}function nm(e){return!0}function sm(e){return!!e}const o$={sync:!0},F4={initial:!0},L4={sync:!0,initial:!0},yd=new Map([["AUS Central Standard Time","Australia/Darwin"],["AUS Eastern Standard Time","Australia/Sydney"],["Afghanistan Standard Time","Asia/Kabul"],["Alaskan Standard Time","America/Anchorage"],["Aleutian Standard Time","America/Adak"],["Altai Standard Time","Asia/Barnaul"],["Arab Standard Time","Asia/Riyadh"],["Arabian Standard Time","Asia/Dubai"],["Arabic Standard Time","Asia/Baghdad"],["Argentina Standard Time","America/Buenos_Aires"],["Astrakhan Standard Time","Europe/Astrakhan"],["Atlantic Standard Time","America/Halifax"],["Aus Central W. Standard Time","Australia/Eucla"],["Azerbaijan Standard Time","Asia/Baku"],["Azores Standard Time","Atlantic/Azores"],["Bahia Standard Time","America/Bahia"],["Bangladesh Standard Time","Asia/Dhaka"],["Belarus Standard Time","Europe/Minsk"],["Bougainville Standard Time","Pacific/Bougainville"],["Canada Central Standard Time","America/Regina"],["Cape Verde Standard Time","Atlantic/Cape_Verde"],["Caucasus Standard Time","Asia/Yerevan"],["Cen. Australia Standard Time","Australia/Adelaide"],["Central America Standard Time","America/Guatemala"],["Central Asia Standard Time","Asia/Almaty"],["Central Brazilian Standard Time","America/Cuiaba"],["Central Europe Standard Time","Europe/Budapest"],["Central European Standard Time","Europe/Warsaw"],["Central Pacific Standard Time","Pacific/Guadalcanal"],["Central Standard Time","America/Chicago"],["Central Standard Time (Mexico)","America/Mexico_City"],["Chatham Islands Standard Time","Pacific/Chatham"],["China Standard Time","Asia/Shanghai"],["Cuba Standard Time","America/Havana"],["Dateline Standard Time","Etc/GMT+12"],["E. Africa Standard Time","Africa/Nairobi"],["E. Australia Standard Time","Australia/Brisbane"],["E. Europe Standard Time","Europe/Chisinau"],["E. South America Standard Time","America/Sao_Paulo"],["Easter Island Standard Time","Pacific/Easter"],["Eastern Standard Time","America/New_York"],["Eastern Standard Time (Mexico)","America/Cancun"],["Egypt Standard Time","Africa/Cairo"],["Ekaterinburg Standard Time","Asia/Yekaterinburg"],["FLE Standard Time","Europe/Kiev"],["Fiji Standard Time","Pacific/Fiji"],["GMT Standard Time","Europe/London"],["GTB Standard Time","Europe/Bucharest"],["Georgian Standard Time","Asia/Tbilisi"],["Greenland Standard Time","America/Godthab"],["Greenwich Standard Time","Atlantic/Reykjavik"],["Haiti Standard Time","America/Port-au-Prince"],["Hawaiian Standard Time","Pacific/Honolulu"],["India Standard Time","Asia/Calcutta"],["Iran Standard Time","Asia/Tehran"],["Israel Standard Time","Asia/Jerusalem"],["Jordan Standard Time","Asia/Amman"],["Kaliningrad Standard Time","Europe/Kaliningrad"],["Korea Standard Time","Asia/Seoul"],["Libya Standard Time","Africa/Tripoli"],["Line Islands Standard Time","Pacific/Kiritimati"],["Lord Howe Standard Time","Australia/Lord_Howe"],["Magadan Standard Time","Asia/Magadan"],["Magallanes Standard Time","America/Punta_Arenas"],["Marquesas Standard Time","Pacific/Marquesas"],["Mauritius Standard Time","Indian/Mauritius"],["Middle East Standard Time","Asia/Beirut"],["Montevideo Standard Time","America/Montevideo"],["Morocco Standard Time","Africa/Casablanca"],["Mountain Standard Time","America/Denver"],["Mountain Standard Time (Mexico)","America/Mazatlan"],["Myanmar Standard Time","Asia/Rangoon"],["N. Central Asia Standard Time","Asia/Novosibirsk"],["Namibia Standard Time","Africa/Windhoek"],["Nepal Standard Time","Asia/Katmandu"],["New Zealand Standard Time","Pacific/Auckland"],["Newfoundland Standard Time","America/St_Johns"],["Norfolk Standard Time","Pacific/Norfolk"],["North Asia East Standard Time","Asia/Irkutsk"],["North Asia Standard Time","Asia/Krasnoyarsk"],["North Korea Standard Time","Asia/Pyongyang"],["Omsk Standard Time","Asia/Omsk"],["Pacific SA Standard Time","America/Santiago"],["Pacific Standard Time","America/Los_Angeles"],["Pacific Standard Time (Mexico)","America/Tijuana"],["Pakistan Standard Time","Asia/Karachi"],["Paraguay Standard Time","America/Asuncion"],["Qyzylorda Standard Time","Asia/Qyzylorda"],["Romance Standard Time","Europe/Paris"],["Russia Time Zone 10","Asia/Srednekolymsk"],["Russia Time Zone 11","Asia/Kamchatka"],["Russia Time Zone 3","Europe/Samara"],["Russian Standard Time","Europe/Moscow"],["SA Eastern Standard Time","America/Cayenne"],["SA Pacific Standard Time","America/Bogota"],["SA Western Standard Time","America/La_Paz"],["SE Asia Standard Time","Asia/Bangkok"],["Saint Pierre Standard Time","America/Miquelon"],["Sakhalin Standard Time","Asia/Sakhalin"],["Samoa Standard Time","Pacific/Apia"],["Sao Tome Standard Time","Africa/Sao_Tome"],["Saratov Standard Time","Europe/Saratov"],["Singapore Standard Time","Asia/Singapore"],["South Africa Standard Time","Africa/Johannesburg"],["South Sudan Standard Time","Africa/Juba"],["Sri Lanka Standard Time","Asia/Colombo"],["Sudan Standard Time","Africa/Khartoum"],["Syria Standard Time","Asia/Damascus"],["Taipei Standard Time","Asia/Taipei"],["Tasmania Standard Time","Australia/Hobart"],["Tocantins Standard Time","America/Araguaina"],["Tokyo Standard Time","Asia/Tokyo"],["Tomsk Standard Time","Asia/Tomsk"],["Tonga Standard Time","Pacific/Tongatapu"],["Transbaikal Standard Time","Asia/Chita"],["Turkey Standard Time","Europe/Istanbul"],["Turks And Caicos Standard Time","America/Grand_Turk"],["US Eastern Standard Time","America/Indianapolis"],["US Mountain Standard Time","America/Phoenix"],["UTC","Etc/GMT"],["UTC+01","Etc/GMT-1"],["UTC+02","Etc/GMT-2"],["UTC+03","Etc/GMT-3"],["UTC+04","Etc/GMT-4"],["UTC+05","Etc/GMT-5"],["UTC+06","Etc/GMT-6"],["UTC+07","Etc/GMT-7"],["UTC+08","Etc/GMT-8"],["UTC+09","Etc/GMT-9"],["UTC+10","Etc/GMT-10"],["UTC+11","Etc/GMT-11"],["UTC+12","Etc/GMT-12"],["UTC+13","Etc/GMT-13"],["UTC+14","Etc/GMT-14"],["UTC-01","Etc/GMT+1"],["UTC-02","Etc/GMT+2"],["UTC-03","Etc/GMT+3"],["UTC-04","Etc/GMT+4"],["UTC-05","Etc/GMT+5"],["UTC-06","Etc/GMT+6"],["UTC-07","Etc/GMT+7"],["UTC-08","Etc/GMT+8"],["UTC-09","Etc/GMT+9"],["UTC-10","Etc/GMT+10"],["UTC-11","Etc/GMT+11"],["UTC-12","Etc/GMT+12"],["Ulaanbaatar Standard Time","Asia/Ulaanbaatar"],["Venezuela Standard Time","America/Caracas"],["Vladivostok Standard Time","Asia/Vladivostok"],["Volgograd Standard Time","Europe/Volgograd"],["W. Australia Standard Time","Australia/Perth"],["W. Central Africa Standard Time","Africa/Lagos"],["W. Europe Standard Time","Europe/Berlin"],["W. Mongolia Standard Time","Asia/Hovd"],["West Asia Standard Time","Asia/Tashkent"],["West Bank Standard Time","Asia/Hebron"],["West Pacific Standard Time","Pacific/Port_Moresby"],["Yakutsk Standard Time","Asia/Yakutsk"],["Yukon Standard Time","America/Whitehorse"]]);class en extends Error{}class a$ extends en{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}}class l$ extends en{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}}class u$ extends en{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}}class ts extends en{}class im extends en{constructor(t){super(`Invalid unit ${t}`)}}class Fe extends en{}class zt extends en{constructor(){super("Zone is an abstract class")}}const O="numeric",et="short",Me="long",Ro={year:O,month:O,day:O},om={year:O,month:et,day:O},c$={year:O,month:et,day:O,weekday:et},am={year:O,month:Me,day:O},lm={year:O,month:Me,day:O,weekday:Me},um={hour:O,minute:O},cm={hour:O,minute:O,second:O},hm={hour:O,minute:O,second:O,timeZoneName:et},dm={hour:O,minute:O,second:O,timeZoneName:Me},fm={hour:O,minute:O,hourCycle:"h23"},pm={hour:O,minute:O,second:O,hourCycle:"h23"},mm={hour:O,minute:O,second:O,hourCycle:"h23",timeZoneName:et},ym={hour:O,minute:O,second:O,hourCycle:"h23",timeZoneName:Me},gm={year:O,month:O,day:O,hour:O,minute:O},wm={year:O,month:O,day:O,hour:O,minute:O,second:O},vm={year:O,month:et,day:O,hour:O,minute:O},bm={year:O,month:et,day:O,hour:O,minute:O,second:O},h$={year:O,month:et,day:O,weekday:et,hour:O,minute:O},$m={year:O,month:Me,day:O,hour:O,minute:O,timeZoneName:et},_m={year:O,month:Me,day:O,hour:O,minute:O,second:O,timeZoneName:et},Sm={year:O,month:Me,day:O,weekday:Me,hour:O,minute:O,timeZoneName:Me},xm={year:O,month:Me,day:O,weekday:Me,hour:O,minute:O,second:O,timeZoneName:Me};class ri{get type(){throw new zt}get name(){throw new zt}get ianaName(){return this.name}get isUniversal(){throw new zt}offsetName(t,r){throw new zt}formatOffset(t,r){throw new zt}offset(t){throw new zt}equals(t){throw new zt}get isValid(){throw new zt}}let ja=null;class la extends ri{static get instance(){return ja===null&&(ja=new la),ja}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:r,locale:n}){return Om(t,r,n)}formatOffset(t,r){return As(this.offset(t),r)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return t.type==="system"}get isValid(){return!0}}let Vi={};function d$(e){return Vi[e]||(Vi[e]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),Vi[e]}const f$={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function p$(e,t){const r=e.format(t).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r),[,s,o,a,l,c,d,p]=n;return[a,s,o,l,c,d,p]}function m$(e,t){const r=e.formatToParts(t),n=[];for(let s=0;s<r.length;s++){const{type:o,value:a}=r[s],l=f$[o];o==="era"?n[l]=a:I(l)||(n[l]=parseInt(a,10))}return n}let Oi={};class kt extends ri{static create(t){return Oi[t]||(Oi[t]=new kt(t)),Oi[t]}static resetCache(){Oi={},Vi={}}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch{return!1}}constructor(t){super(),this.zoneName=t,this.valid=kt.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:r,locale:n}){return Om(t,r,n,this.name)}formatOffset(t,r){return As(this.offset(t),r)}offset(t){const r=new Date(t);if(isNaN(r))return NaN;const n=d$(this.name);let[s,o,a,l,c,d,p]=n.formatToParts?m$(n,r):p$(n,r);l==="BC"&&(s=-Math.abs(s)+1);const y=ca({year:s,month:o,day:a,hour:c===24?0:c,minute:d,second:p,millisecond:0});let g=+r;const b=g%1e3;return g-=b>=0?b:1e3+b,(y-g)/(60*1e3)}equals(t){return t.type==="iana"&&t.name===this.name}get isValid(){return this.valid}}let gd={};function y$(e,t={}){const r=JSON.stringify([e,t]);let n=gd[r];return n||(n=new Intl.ListFormat(e,t),gd[r]=n),n}let Gl={};function ql(e,t={}){const r=JSON.stringify([e,t]);let n=Gl[r];return n||(n=new Intl.DateTimeFormat(e,t),Gl[r]=n),n}let Vl={};function g$(e,t={}){const r=JSON.stringify([e,t]);let n=Vl[r];return n||(n=new Intl.NumberFormat(e,t),Vl[r]=n),n}let Bl={};function w$(e,t={}){const{base:r,...n}=t,s=JSON.stringify([e,n]);let o=Bl[s];return o||(o=new Intl.RelativeTimeFormat(e,t),Bl[s]=o),o}let rs=null;function v$(){return rs||(rs=new Intl.DateTimeFormat().resolvedOptions().locale,rs)}function b$(e){const t=e.indexOf("-x-");t!==-1&&(e=e.substring(0,t));const r=e.indexOf("-u-");if(r===-1)return[e];{let n,s;try{n=ql(e).resolvedOptions(),s=e}catch{const c=e.substring(0,r);n=ql(c).resolvedOptions(),s=c}const{numberingSystem:o,calendar:a}=n;return[s,o,a]}}function $$(e,t,r){return(r||t)&&(e.includes("-u-")||(e+="-u"),r&&(e+=`-ca-${r}`),t&&(e+=`-nu-${t}`)),e}function _$(e){const t=[];for(let r=1;r<=12;r++){const n=E.utc(2009,r,1);t.push(e(n))}return t}function S$(e){const t=[];for(let r=1;r<=7;r++){const n=E.utc(2016,11,13+r);t.push(e(n))}return t}function Mi(e,t,r,n){const s=e.listingMode();return s==="error"?null:s==="en"?r(t):n(t)}function x$(e){return e.numberingSystem&&e.numberingSystem!=="latn"?!1:e.numberingSystem==="latn"||!e.locale||e.locale.startsWith("en")||new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem==="latn"}class T${constructor(t,r,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;const{padTo:s,floor:o,...a}=n;if(!r||Object.keys(a).length>0){const l={useGrouping:!1,...n};n.padTo>0&&(l.minimumIntegerDigits=n.padTo),this.inf=g$(t,l)}}format(t){if(this.inf){const r=this.floor?Math.floor(t):t;return this.inf.format(r)}else{const r=this.floor?Math.floor(t):Bc(t,3);return ie(r,this.padTo)}}}class O${constructor(t,r,n){this.opts=n,this.originalZone=void 0;let s;if(this.opts.timeZone)this.dt=t;else if(t.zone.type==="fixed"){const a=-1*(t.offset/60),l=a>=0?`Etc/GMT+${a}`:`Etc/GMT${a}`;t.offset!==0&&kt.create(l).valid?(s=l,this.dt=t):(s="UTC",this.dt=t.offset===0?t:t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone)}else t.zone.type==="system"?this.dt=t:t.zone.type==="iana"?(this.dt=t,s=t.zone.name):(s="UTC",this.dt=t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone);const o={...this.opts};o.timeZone=o.timeZone||s,this.dtf=ql(r,o)}format(){return this.originalZone?this.formatToParts().map(({value:t})=>t).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const t=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?t.map(r=>{if(r.type==="timeZoneName"){const n=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...r,value:n}}else return r}):t}resolvedOptions(){return this.dtf.resolvedOptions()}}class M${constructor(t,r,n){this.opts={style:"long",...n},!r&&Tm()&&(this.rtf=w$(t,n))}format(t,r){return this.rtf?this.rtf.format(t,r):V$(r,t,this.opts.numeric,this.opts.style!=="long")}formatToParts(t,r){return this.rtf?this.rtf.formatToParts(t,r):[]}}class J{static fromOpts(t){return J.create(t.locale,t.numberingSystem,t.outputCalendar,t.defaultToEN)}static create(t,r,n,s=!1){const o=t||se.defaultLocale,a=o||(s?"en-US":v$()),l=r||se.defaultNumberingSystem,c=n||se.defaultOutputCalendar;return new J(a,l,c,o)}static resetCache(){rs=null,Gl={},Vl={},Bl={}}static fromObject({locale:t,numberingSystem:r,outputCalendar:n}={}){return J.create(t,r,n)}constructor(t,r,n,s){const[o,a,l]=b$(t);this.locale=o,this.numberingSystem=r||a||null,this.outputCalendar=n||l||null,this.intl=$$(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=s,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=x$(this)),this.fastNumbersCached}listingMode(){const t=this.isEnglish(),r=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return t&&r?"en":"intl"}clone(t){return!t||Object.getOwnPropertyNames(t).length===0?this:J.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,t.defaultToEN||!1)}redefaultToEN(t={}){return this.clone({...t,defaultToEN:!0})}redefaultToSystem(t={}){return this.clone({...t,defaultToEN:!1})}months(t,r=!1){return Mi(this,t,Am,()=>{const n=r?{month:t,day:"numeric"}:{month:t},s=r?"format":"standalone";return this.monthsCache[s][t]||(this.monthsCache[s][t]=_$(o=>this.extract(o,n,"month"))),this.monthsCache[s][t]})}weekdays(t,r=!1){return Mi(this,t,Im,()=>{const n=r?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},s=r?"format":"standalone";return this.weekdaysCache[s][t]||(this.weekdaysCache[s][t]=S$(o=>this.extract(o,n,"weekday"))),this.weekdaysCache[s][t]})}meridiems(){return Mi(this,void 0,()=>Cm,()=>{if(!this.meridiemCache){const t={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[E.utc(2016,11,13,9),E.utc(2016,11,13,19)].map(r=>this.extract(r,t,"dayperiod"))}return this.meridiemCache})}eras(t){return Mi(this,t,km,()=>{const r={era:t};return this.eraCache[t]||(this.eraCache[t]=[E.utc(-40,1,1),E.utc(2017,1,1)].map(n=>this.extract(n,r,"era"))),this.eraCache[t]})}extract(t,r,n){const s=this.dtFormatter(t,r),o=s.formatToParts(),a=o.find(l=>l.type.toLowerCase()===n);return a?a.value:null}numberFormatter(t={}){return new T$(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,r={}){return new O$(t,this.intl,r)}relFormatter(t={}){return new M$(this.intl,this.isEnglish(),t)}listFormatter(t={}){return y$(this.intl,t)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}}let Ua=null;class ve extends ri{static get utcInstance(){return Ua===null&&(Ua=new ve(0)),Ua}static instance(t){return t===0?ve.utcInstance:new ve(t)}static parseSpecifier(t){if(t){const r=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(r)return new ve(ha(r[1],r[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${As(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${As(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,r){return As(this.fixed,r)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return t.type==="fixed"&&t.fixed===this.fixed}get isValid(){return!0}}class E$ extends ri{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function ir(e,t){if(I(e)||e===null)return t;if(e instanceof ri)return e;if(A$(e)){const r=e.toLowerCase();return r==="default"?t:r==="local"||r==="system"?la.instance:r==="utc"||r==="gmt"?ve.utcInstance:ve.parseSpecifier(r)||kt.create(e)}else return Ur(e)?ve.instance(e):typeof e=="object"&&"offset"in e&&typeof e.offset=="function"?e:new E$(e)}let wd=()=>Date.now(),vd="system",bd=null,$d=null,_d=null,Sd=60,xd;class se{static get now(){return wd}static set now(t){wd=t}static set defaultZone(t){vd=t}static get defaultZone(){return ir(vd,la.instance)}static get defaultLocale(){return bd}static set defaultLocale(t){bd=t}static get defaultNumberingSystem(){return $d}static set defaultNumberingSystem(t){$d=t}static get defaultOutputCalendar(){return _d}static set defaultOutputCalendar(t){_d=t}static get twoDigitCutoffYear(){return Sd}static set twoDigitCutoffYear(t){Sd=t%100}static get throwOnInvalid(){return xd}static set throwOnInvalid(t){xd=t}static resetCaches(){J.resetCache(),kt.resetCache()}}function I(e){return typeof e>"u"}function Ur(e){return typeof e=="number"}function ua(e){return typeof e=="number"&&e%1===0}function A$(e){return typeof e=="string"}function P$(e){return Object.prototype.toString.call(e)==="[object Date]"}function Tm(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function N$(e){return Array.isArray(e)?e:[e]}function Td(e,t,r){if(e.length!==0)return e.reduce((n,s)=>{const o=[t(s),s];return n&&r(n[0],o[0])===n[0]?n:o},null)[1]}function I$(e,t){return t.reduce((r,n)=>(r[n]=e[n],r),{})}function En(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function At(e,t,r){return ua(e)&&e>=t&&e<=r}function C$(e,t){return e-t*Math.floor(e/t)}function ie(e,t=2){const r=e<0;let n;return r?n="-"+(""+-e).padStart(t,"0"):n=(""+e).padStart(t,"0"),n}function rr(e){if(!(I(e)||e===null||e===""))return parseInt(e,10)}function yr(e){if(!(I(e)||e===null||e===""))return parseFloat(e)}function Vc(e){if(!(I(e)||e===null||e==="")){const t=parseFloat("0."+e)*1e3;return Math.floor(t)}}function Bc(e,t,r=!1){const n=10**t;return(r?Math.trunc:Math.round)(e*n)/n}function ni(e){return e%4===0&&(e%100!==0||e%400===0)}function Es(e){return ni(e)?366:365}function Fo(e,t){const r=C$(t-1,12)+1,n=e+(t-r)/12;return r===2?ni(n)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function ca(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(e.year,e.month-1,e.day)),+t}function Lo(e){const t=(e+Math.floor(e/4)-Math.floor(e/100)+Math.floor(e/400))%7,r=e-1,n=(r+Math.floor(r/4)-Math.floor(r/100)+Math.floor(r/400))%7;return t===4||n===3?53:52}function Wl(e){return e>99?e:e>se.twoDigitCutoffYear?1900+e:2e3+e}function Om(e,t,r,n=null){const s=new Date(e),o={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(o.timeZone=n);const a={timeZoneName:t,...o},l=new Intl.DateTimeFormat(r,a).formatToParts(s).find(c=>c.type.toLowerCase()==="timezonename");return l?l.value:null}function ha(e,t){let r=parseInt(e,10);Number.isNaN(r)&&(r=0);const n=parseInt(t,10)||0,s=r<0||Object.is(r,-0)?-n:n;return r*60+s}function Mm(e){const t=Number(e);if(typeof e=="boolean"||e===""||Number.isNaN(t))throw new Fe(`Invalid unit value ${e}`);return t}function jo(e,t){const r={};for(const n in e)if(En(e,n)){const s=e[n];if(s==null)continue;r[t(n)]=Mm(s)}return r}function As(e,t){const r=Math.trunc(Math.abs(e/60)),n=Math.trunc(Math.abs(e%60)),s=e>=0?"+":"-";switch(t){case"short":return`${s}${ie(r,2)}:${ie(n,2)}`;case"narrow":return`${s}${r}${n>0?`:${n}`:""}`;case"techie":return`${s}${ie(r,2)}${ie(n,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function da(e){return I$(e,["hour","minute","second","millisecond"])}const k$=["January","February","March","April","May","June","July","August","September","October","November","December"],Em=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],D$=["J","F","M","A","M","J","J","A","S","O","N","D"];function Am(e){switch(e){case"narrow":return[...D$];case"short":return[...Em];case"long":return[...k$];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const Pm=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Nm=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],R$=["M","T","W","T","F","S","S"];function Im(e){switch(e){case"narrow":return[...R$];case"short":return[...Nm];case"long":return[...Pm];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const Cm=["AM","PM"],F$=["Before Christ","Anno Domini"],L$=["BC","AD"],j$=["B","A"];function km(e){switch(e){case"narrow":return[...j$];case"short":return[...L$];case"long":return[...F$];default:return null}}function U$(e){return Cm[e.hour<12?0:1]}function z$(e,t){return Im(t)[e.weekday-1]}function G$(e,t){return Am(t)[e.month-1]}function q$(e,t){return km(t)[e.year<0?0:1]}function V$(e,t,r="always",n=!1){const s={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},o=["hours","minutes","seconds"].indexOf(e)===-1;if(r==="auto"&&o){const m=e==="days";switch(t){case 1:return m?"tomorrow":`next ${s[e][0]}`;case-1:return m?"yesterday":`last ${s[e][0]}`;case 0:return m?"today":`this ${s[e][0]}`}}const a=Object.is(t,-0)||t<0,l=Math.abs(t),c=l===1,d=s[e],p=n?c?d[1]:d[2]||d[1]:c?s[e][0]:e;return a?`${l} ${p} ago`:`in ${l} ${p}`}function Od(e,t){let r="";for(const n of e)n.literal?r+=n.val:r+=t(n.val);return r}const B$={D:Ro,DD:om,DDD:am,DDDD:lm,t:um,tt:cm,ttt:hm,tttt:dm,T:fm,TT:pm,TTT:mm,TTTT:ym,f:gm,ff:vm,fff:$m,ffff:Sm,F:wm,FF:bm,FFF:_m,FFFF:xm};class ge{static create(t,r={}){return new ge(t,r)}static parseFormat(t){let r=null,n="",s=!1;const o=[];for(let a=0;a<t.length;a++){const l=t.charAt(a);l==="'"?(n.length>0&&o.push({literal:s||/^\s+$/.test(n),val:n}),r=null,n="",s=!s):s||l===r?n+=l:(n.length>0&&o.push({literal:/^\s+$/.test(n),val:n}),n=l,r=l)}return n.length>0&&o.push({literal:s||/^\s+$/.test(n),val:n}),o}static macroTokenToFormatOpts(t){return B$[t]}constructor(t,r){this.opts=r,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,r){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,{...this.opts,...r}).format()}dtFormatter(t,r={}){return this.loc.dtFormatter(t,{...this.opts,...r})}formatDateTime(t,r){return this.dtFormatter(t,r).format()}formatDateTimeParts(t,r){return this.dtFormatter(t,r).formatToParts()}formatInterval(t,r){return this.dtFormatter(t.start,r).dtf.formatRange(t.start.toJSDate(),t.end.toJSDate())}resolvedOptions(t,r){return this.dtFormatter(t,r).resolvedOptions()}num(t,r=0){if(this.opts.forceSimple)return ie(t,r);const n={...this.opts};return r>0&&(n.padTo=r),this.loc.numberFormatter(n).format(t)}formatDateTimeFromString(t,r){const n=this.loc.listingMode()==="en",s=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",o=(g,b)=>this.loc.extract(t,g,b),a=g=>t.isOffsetFixed&&t.offset===0&&g.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,g.format):"",l=()=>n?U$(t):o({hour:"numeric",hourCycle:"h12"},"dayperiod"),c=(g,b)=>n?G$(t,g):o(b?{month:g}:{month:g,day:"numeric"},"month"),d=(g,b)=>n?z$(t,g):o(b?{weekday:g}:{weekday:g,month:"long",day:"numeric"},"weekday"),p=g=>{const b=ge.macroTokenToFormatOpts(g);return b?this.formatWithSystemDefault(t,b):g},m=g=>n?q$(t,g):o({era:g},"era"),y=g=>{switch(g){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12===0?12:t.hour%12);case"hh":return this.num(t.hour%12===0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return a({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return a({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return a({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return l();case"d":return s?o({day:"numeric"},"day"):this.num(t.day);case"dd":return s?o({day:"2-digit"},"day"):this.num(t.day,2);case"c":return this.num(t.weekday);case"ccc":return d("short",!0);case"cccc":return d("long",!0);case"ccccc":return d("narrow",!0);case"E":return this.num(t.weekday);case"EEE":return d("short",!1);case"EEEE":return d("long",!1);case"EEEEE":return d("narrow",!1);case"L":return s?o({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return s?o({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return c("short",!0);case"LLLL":return c("long",!0);case"LLLLL":return c("narrow",!0);case"M":return s?o({month:"numeric"},"month"):this.num(t.month);case"MM":return s?o({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return c("short",!1);case"MMMM":return c("long",!1);case"MMMMM":return c("narrow",!1);case"y":return s?o({year:"numeric"},"year"):this.num(t.year);case"yy":return s?o({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return s?o({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return s?o({year:"numeric"},"year"):this.num(t.year,6);case"G":return m("short");case"GG":return m("long");case"GGGGG":return m("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return p(g)}};return Od(ge.parseFormat(r),y)}formatDurationFromString(t,r){const n=c=>{switch(c[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},s=c=>d=>{const p=n(d);return p?this.num(c.get(p),d.length):d},o=ge.parseFormat(r),a=o.reduce((c,{literal:d,val:p})=>d?c:c.concat(p),[]),l=t.shiftTo(...a.map(n).filter(c=>c));return Od(o,s(l))}}class Ze{constructor(t,r){this.reason=t,this.explanation=r}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const Dm=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function kn(...e){const t=e.reduce((r,n)=>r+n.source,"");return RegExp(`^${t}$`)}function Dn(...e){return t=>e.reduce(([r,n,s],o)=>{const[a,l,c]=o(t,s);return[{...r,...a},l||n,c]},[{},null,1]).slice(0,2)}function Rn(e,...t){if(e==null)return[null,null];for(const[r,n]of t){const s=r.exec(e);if(s)return n(s)}return[null,null]}function Rm(...e){return(t,r)=>{const n={};let s;for(s=0;s<e.length;s++)n[e[s]]=rr(t[r+s]);return[n,null,r+s]}}const Fm=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,W$=`(?:${Fm.source}?(?:\\[(${Dm.source})\\])?)?`,Wc=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Lm=RegExp(`${Wc.source}${W$}`),Hc=RegExp(`(?:T${Lm.source})?`),H$=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Z$=/(\d{4})-?W(\d\d)(?:-?(\d))?/,J$=/(\d{4})-?(\d{3})/,Y$=Rm("weekYear","weekNumber","weekDay"),K$=Rm("year","ordinal"),Q$=/(\d{4})-(\d\d)-(\d\d)/,jm=RegExp(`${Wc.source} ?(?:${Fm.source}|(${Dm.source}))?`),X$=RegExp(`(?: ${jm.source})?`);function vn(e,t,r){const n=e[t];return I(n)?r:rr(n)}function e_(e,t){return[{year:vn(e,t),month:vn(e,t+1,1),day:vn(e,t+2,1)},null,t+3]}function Fn(e,t){return[{hours:vn(e,t,0),minutes:vn(e,t+1,0),seconds:vn(e,t+2,0),milliseconds:Vc(e[t+3])},null,t+4]}function si(e,t){const r=!e[t]&&!e[t+1],n=ha(e[t+1],e[t+2]),s=r?null:ve.instance(n);return[{},s,t+3]}function ii(e,t){const r=e[t]?kt.create(e[t]):null;return[{},r,t+1]}const t_=RegExp(`^T?${Wc.source}$`),r_=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function n_(e){const[t,r,n,s,o,a,l,c,d]=e,p=t[0]==="-",m=c&&c[0]==="-",y=(g,b=!1)=>g!==void 0&&(b||g&&p)?-g:g;return[{years:y(yr(r)),months:y(yr(n)),weeks:y(yr(s)),days:y(yr(o)),hours:y(yr(a)),minutes:y(yr(l)),seconds:y(yr(c),c==="-0"),milliseconds:y(Vc(d),m)}]}const s_={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Zc(e,t,r,n,s,o,a){const l={year:t.length===2?Wl(rr(t)):rr(t),month:Em.indexOf(r)+1,day:rr(n),hour:rr(s),minute:rr(o)};return a&&(l.second=rr(a)),e&&(l.weekday=e.length>3?Pm.indexOf(e)+1:Nm.indexOf(e)+1),l}const i_=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function o_(e){const[,t,r,n,s,o,a,l,c,d,p,m]=e,y=Zc(t,s,n,r,o,a,l);let g;return c?g=s_[c]:d?g=0:g=ha(p,m),[y,new ve(g)]}function a_(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const l_=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,u_=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,c_=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Md(e){const[,t,r,n,s,o,a,l]=e;return[Zc(t,s,n,r,o,a,l),ve.utcInstance]}function h_(e){const[,t,r,n,s,o,a,l]=e;return[Zc(t,l,r,n,s,o,a),ve.utcInstance]}const d_=kn(H$,Hc),f_=kn(Z$,Hc),p_=kn(J$,Hc),m_=kn(Lm),Um=Dn(e_,Fn,si,ii),y_=Dn(Y$,Fn,si,ii),g_=Dn(K$,Fn,si,ii),w_=Dn(Fn,si,ii);function v_(e){return Rn(e,[d_,Um],[f_,y_],[p_,g_],[m_,w_])}function b_(e){return Rn(a_(e),[i_,o_])}function $_(e){return Rn(e,[l_,Md],[u_,Md],[c_,h_])}function __(e){return Rn(e,[r_,n_])}const S_=Dn(Fn);function x_(e){return Rn(e,[t_,S_])}const T_=kn(Q$,X$),O_=kn(jm),M_=Dn(Fn,si,ii);function E_(e){return Rn(e,[T_,Um],[O_,M_])}const Ed="Invalid Duration",zm={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},A_={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...zm},Ie=146097/400,tn=146097/4800,P_={years:{quarters:4,months:12,weeks:Ie/7,days:Ie,hours:Ie*24,minutes:Ie*24*60,seconds:Ie*24*60*60,milliseconds:Ie*24*60*60*1e3},quarters:{months:3,weeks:Ie/28,days:Ie/4,hours:Ie*24/4,minutes:Ie*24*60/4,seconds:Ie*24*60*60/4,milliseconds:Ie*24*60*60*1e3/4},months:{weeks:tn/7,days:tn,hours:tn*24,minutes:tn*24*60,seconds:tn*24*60*60,milliseconds:tn*24*60*60*1e3},...zm},Fr=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],N_=Fr.slice(0).reverse();function Gt(e,t,r=!1){const n={values:r?t.values:{...e.values,...t.values||{}},loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new R(n)}function Gm(e,t){let r=t.milliseconds??0;for(const n of N_.slice(1))t[n]&&(r+=t[n]*e[n].milliseconds);return r}function Ad(e,t){const r=Gm(e,t)<0?-1:1;Fr.reduceRight((n,s)=>{if(I(t[s]))return n;if(n){const o=t[n]*r,a=e[s][n],l=Math.floor(o/a);t[s]+=l*r,t[n]-=l*a*r}return s},null),Fr.reduce((n,s)=>{if(I(t[s]))return n;if(n){const o=t[n]%1;t[n]-=o,t[s]+=o*e[n][s]}return s},null)}function I_(e){const t={};for(const[r,n]of Object.entries(e))n!==0&&(t[r]=n);return t}class R{constructor(t){const r=t.conversionAccuracy==="longterm"||!1;let n=r?P_:A_;t.matrix&&(n=t.matrix),this.values=t.values,this.loc=t.loc||J.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(t,r){return R.fromObject({milliseconds:t},r)}static fromObject(t,r={}){if(t==null||typeof t!="object")throw new Fe(`Duration.fromObject: argument expected to be an object, got ${t===null?"null":typeof t}`);return new R({values:jo(t,R.normalizeUnit),loc:J.fromObject(r),conversionAccuracy:r.conversionAccuracy,matrix:r.matrix})}static fromDurationLike(t){if(Ur(t))return R.fromMillis(t);if(R.isDuration(t))return t;if(typeof t=="object")return R.fromObject(t);throw new Fe(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,r){const[n]=__(t);return n?R.fromObject(n,r):R.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,r){const[n]=x_(t);return n?R.fromObject(n,r):R.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,r=null){if(!t)throw new Fe("need to specify a reason the Duration is invalid");const n=t instanceof Ze?t:new Ze(t,r);if(se.throwOnInvalid)throw new u$(n);return new R({invalid:n})}static normalizeUnit(t){const r={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t&&t.toLowerCase()];if(!r)throw new im(t);return r}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,r={}){const n={...r,floor:r.round!==!1&&r.floor!==!1};return this.isValid?ge.create(this.loc,n).formatDurationFromString(this,t):Ed}toHuman(t={}){if(!this.isValid)return Ed;const r=Fr.map(n=>{const s=this.values[n];return I(s)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...t,unit:n.slice(0,-1)}).format(s)}).filter(n=>n);return this.loc.listFormatter({type:"conjunction",style:t.listStyle||"narrow",...t}).format(r)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let t="P";return this.years!==0&&(t+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(t+=this.months+this.quarters*3+"M"),this.weeks!==0&&(t+=this.weeks+"W"),this.days!==0&&(t+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(t+="T"),this.hours!==0&&(t+=this.hours+"H"),this.minutes!==0&&(t+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(t+=Bc(this.seconds+this.milliseconds/1e3,3)+"S"),t==="P"&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;const r=this.toMillis();return r<0||r>=864e5?null:(t={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...t,includeOffset:!1},E.fromMillis(r,{zone:"UTC"}).toISOTime(t))}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.isValid?Gm(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;const r=R.fromDurationLike(t),n={};for(const s of Fr)(En(r.values,s)||En(this.values,s))&&(n[s]=r.get(s)+this.get(s));return Gt(this,{values:n},!0)}minus(t){if(!this.isValid)return this;const r=R.fromDurationLike(t);return this.plus(r.negate())}mapUnits(t){if(!this.isValid)return this;const r={};for(const n of Object.keys(this.values))r[n]=Mm(t(this.values[n],n));return Gt(this,{values:r},!0)}get(t){return this[R.normalizeUnit(t)]}set(t){if(!this.isValid)return this;const r={...this.values,...jo(t,R.normalizeUnit)};return Gt(this,{values:r})}reconfigure({locale:t,numberingSystem:r,conversionAccuracy:n,matrix:s}={}){const a={loc:this.loc.clone({locale:t,numberingSystem:r}),matrix:s,conversionAccuracy:n};return Gt(this,a)}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;const t=this.toObject();return Ad(this.matrix,t),Gt(this,{values:t},!0)}rescale(){if(!this.isValid)return this;const t=I_(this.normalize().shiftToAll().toObject());return Gt(this,{values:t},!0)}shiftTo(...t){if(!this.isValid)return this;if(t.length===0)return this;t=t.map(a=>R.normalizeUnit(a));const r={},n={},s=this.toObject();let o;for(const a of Fr)if(t.indexOf(a)>=0){o=a;let l=0;for(const d in n)l+=this.matrix[d][a]*n[d],n[d]=0;Ur(s[a])&&(l+=s[a]);const c=Math.trunc(l);r[a]=c,n[a]=(l*1e3-c*1e3)/1e3}else Ur(s[a])&&(n[a]=s[a]);for(const a in n)n[a]!==0&&(r[o]+=a===o?n[a]:n[a]/this.matrix[o][a]);return Ad(this.matrix,r),Gt(this,{values:r},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const t={};for(const r of Object.keys(this.values))t[r]=this.values[r]===0?0:-this.values[r];return Gt(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid||!this.loc.equals(t.loc))return!1;function r(n,s){return n===void 0||n===0?s===void 0||s===0:n===s}for(const n of Fr)if(!r(this.values[n],t.values[n]))return!1;return!0}}const rn="Invalid Interval";function C_(e,t){return!e||!e.isValid?X.invalid("missing or invalid start"):!t||!t.isValid?X.invalid("missing or invalid end"):t<e?X.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null}class X{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,r=null){if(!t)throw new Fe("need to specify a reason the Interval is invalid");const n=t instanceof Ze?t:new Ze(t,r);if(se.throwOnInvalid)throw new l$(n);return new X({invalid:n})}static fromDateTimes(t,r){const n=Bn(t),s=Bn(r),o=C_(n,s);return o??new X({start:n,end:s})}static after(t,r){const n=R.fromDurationLike(r),s=Bn(t);return X.fromDateTimes(s,s.plus(n))}static before(t,r){const n=R.fromDurationLike(r),s=Bn(t);return X.fromDateTimes(s.minus(n),s)}static fromISO(t,r){const[n,s]=(t||"").split("/",2);if(n&&s){let o,a;try{o=E.fromISO(n,r),a=o.isValid}catch{a=!1}let l,c;try{l=E.fromISO(s,r),c=l.isValid}catch{c=!1}if(a&&c)return X.fromDateTimes(o,l);if(a){const d=R.fromISO(s,r);if(d.isValid)return X.after(o,d)}else if(c){const d=R.fromISO(n,r);if(d.isValid)return X.before(l,d)}}return X.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds"){if(!this.isValid)return NaN;const r=this.start.startOf(t),n=this.end.startOf(t);return Math.floor(n.diff(r,t).get(t))+(n.valueOf()!==this.end.valueOf())}hasSame(t){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,t):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return this.isValid?this.s>t:!1}isBefore(t){return this.isValid?this.e<=t:!1}contains(t){return this.isValid?this.s<=t&&this.e>t:!1}set({start:t,end:r}={}){return this.isValid?X.fromDateTimes(t||this.s,r||this.e):this}splitAt(...t){if(!this.isValid)return[];const r=t.map(Bn).filter(a=>this.contains(a)).sort(),n=[];let{s}=this,o=0;for(;s<this.e;){const a=r[o]||this.e,l=+a>+this.e?this.e:a;n.push(X.fromDateTimes(s,l)),s=l,o+=1}return n}splitBy(t){const r=R.fromDurationLike(t);if(!this.isValid||!r.isValid||r.as("milliseconds")===0)return[];let{s:n}=this,s=1,o;const a=[];for(;n<this.e;){const l=this.start.plus(r.mapUnits(c=>c*s));o=+l>+this.e?this.e:l,a.push(X.fromDateTimes(n,o)),n=o,s+=1}return a}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return this.isValid?+this.e==+t.s:!1}abutsEnd(t){return this.isValid?+t.e==+this.s:!1}engulfs(t){return this.isValid?this.s<=t.s&&this.e>=t.e:!1}equals(t){return!this.isValid||!t.isValid?!1:this.s.equals(t.s)&&this.e.equals(t.e)}intersection(t){if(!this.isValid)return this;const r=this.s>t.s?this.s:t.s,n=this.e<t.e?this.e:t.e;return r>=n?null:X.fromDateTimes(r,n)}union(t){if(!this.isValid)return this;const r=this.s<t.s?this.s:t.s,n=this.e>t.e?this.e:t.e;return X.fromDateTimes(r,n)}static merge(t){const[r,n]=t.sort((s,o)=>s.s-o.s).reduce(([s,o],a)=>o?o.overlaps(a)||o.abutsStart(a)?[s,o.union(a)]:[s.concat([o]),a]:[s,a],[[],null]);return n&&r.push(n),r}static xor(t){let r=null,n=0;const s=[],o=t.map(c=>[{time:c.s,type:"s"},{time:c.e,type:"e"}]),a=Array.prototype.concat(...o),l=a.sort((c,d)=>c.time-d.time);for(const c of l)n+=c.type==="s"?1:-1,n===1?r=c.time:(r&&+r!=+c.time&&s.push(X.fromDateTimes(r,c.time)),r=null);return X.merge(s)}difference(...t){return X.xor([this].concat(t)).map(r=>this.intersection(r)).filter(r=>r&&!r.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:rn}toLocaleString(t=Ro,r={}){return this.isValid?ge.create(this.s.loc.clone(r),t).formatInterval(this):rn}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:rn}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:rn}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:rn}toFormat(t,{separator:r=" – "}={}){return this.isValid?`${this.s.toFormat(t)}${r}${this.e.toFormat(t)}`:rn}toDuration(t,r){return this.isValid?this.e.diff(this.s,t,r):R.invalid(this.invalidReason)}mapEndpoints(t){return X.fromDateTimes(t(this.s),t(this.e))}}class Ei{static hasDST(t=se.defaultZone){const r=E.now().setZone(t).set({month:12});return!t.isUniversal&&r.offset!==r.set({month:6}).offset}static isValidIANAZone(t){return kt.isValidZone(t)}static normalizeZone(t){return ir(t,se.defaultZone)}static months(t="long",{locale:r=null,numberingSystem:n=null,locObj:s=null,outputCalendar:o="gregory"}={}){return(s||J.create(r,n,o)).months(t)}static monthsFormat(t="long",{locale:r=null,numberingSystem:n=null,locObj:s=null,outputCalendar:o="gregory"}={}){return(s||J.create(r,n,o)).months(t,!0)}static weekdays(t="long",{locale:r=null,numberingSystem:n=null,locObj:s=null}={}){return(s||J.create(r,n,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:r=null,numberingSystem:n=null,locObj:s=null}={}){return(s||J.create(r,n,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return J.create(t).meridiems()}static eras(t="short",{locale:r=null}={}){return J.create(r,null,"gregory").eras(t)}static features(){return{relative:Tm()}}}function Pd(e,t){const r=s=>s.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=r(t)-r(e);return Math.floor(R.fromMillis(n).as("days"))}function k_(e,t,r){const n=[["years",(c,d)=>d.year-c.year],["quarters",(c,d)=>d.quarter-c.quarter+(d.year-c.year)*4],["months",(c,d)=>d.month-c.month+(d.year-c.year)*12],["weeks",(c,d)=>{const p=Pd(c,d);return(p-p%7)/7}],["days",Pd]],s={},o=e;let a,l;for(const[c,d]of n)r.indexOf(c)>=0&&(a=c,s[c]=d(e,t),l=o.plus(s),l>t?(s[c]--,e=o.plus(s),e>t&&(l=e,s[c]--,e=o.plus(s))):e=l);return[e,s,l,a]}function D_(e,t,r,n){let[s,o,a,l]=k_(e,t,r);const c=t-s,d=r.filter(m=>["hours","minutes","seconds","milliseconds"].indexOf(m)>=0);d.length===0&&(a<t&&(a=s.plus({[l]:1})),a!==s&&(o[l]=(o[l]||0)+c/(a-s)));const p=R.fromObject(o,n);return d.length>0?R.fromMillis(c,n).shiftTo(...d).plus(p):p}const Jc={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},Nd={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},R_=Jc.hanidec.replace(/[\[|\]]/g,"").split("");function F_(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);if(e[r].search(Jc.hanidec)!==-1)t+=R_.indexOf(e[r]);else for(const s in Nd){const[o,a]=Nd[s];n>=o&&n<=a&&(t+=n-o)}}return parseInt(t,10)}else return t}function ze({numberingSystem:e},t=""){return new RegExp(`${Jc[e||"latn"]}${t}`)}const L_="missing Intl.DateTimeFormat.formatToParts support";function j(e,t=r=>r){return{regex:e,deser:([r])=>t(F_(r))}}const j_=String.fromCharCode(160),qm=`[ ${j_}]`,Vm=new RegExp(qm,"g");function U_(e){return e.replace(/\./g,"\\.?").replace(Vm,qm)}function Id(e){return e.replace(/\./g,"").replace(Vm," ").toLowerCase()}function Ge(e,t){return e===null?null:{regex:RegExp(e.map(U_).join("|")),deser:([r])=>e.findIndex(n=>Id(r)===Id(n))+t}}function Cd(e,t){return{regex:e,deser:([,r,n])=>ha(r,n),groups:t}}function Ai(e){return{regex:e,deser:([t])=>t}}function z_(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function G_(e,t){const r=ze(t),n=ze(t,"{2}"),s=ze(t,"{3}"),o=ze(t,"{4}"),a=ze(t,"{6}"),l=ze(t,"{1,2}"),c=ze(t,"{1,3}"),d=ze(t,"{1,6}"),p=ze(t,"{1,9}"),m=ze(t,"{2,4}"),y=ze(t,"{4,6}"),g=x=>({regex:RegExp(z_(x.val)),deser:([M])=>M,literal:!0}),S=(x=>{if(e.literal)return g(x);switch(x.val){case"G":return Ge(t.eras("short"),0);case"GG":return Ge(t.eras("long"),0);case"y":return j(d);case"yy":return j(m,Wl);case"yyyy":return j(o);case"yyyyy":return j(y);case"yyyyyy":return j(a);case"M":return j(l);case"MM":return j(n);case"MMM":return Ge(t.months("short",!0),1);case"MMMM":return Ge(t.months("long",!0),1);case"L":return j(l);case"LL":return j(n);case"LLL":return Ge(t.months("short",!1),1);case"LLLL":return Ge(t.months("long",!1),1);case"d":return j(l);case"dd":return j(n);case"o":return j(c);case"ooo":return j(s);case"HH":return j(n);case"H":return j(l);case"hh":return j(n);case"h":return j(l);case"mm":return j(n);case"m":return j(l);case"q":return j(l);case"qq":return j(n);case"s":return j(l);case"ss":return j(n);case"S":return j(c);case"SSS":return j(s);case"u":return Ai(p);case"uu":return Ai(l);case"uuu":return j(r);case"a":return Ge(t.meridiems(),0);case"kkkk":return j(o);case"kk":return j(m,Wl);case"W":return j(l);case"WW":return j(n);case"E":case"c":return j(r);case"EEE":return Ge(t.weekdays("short",!1),1);case"EEEE":return Ge(t.weekdays("long",!1),1);case"ccc":return Ge(t.weekdays("short",!0),1);case"cccc":return Ge(t.weekdays("long",!0),1);case"Z":case"ZZ":return Cd(new RegExp(`([+-]${l.source})(?::(${n.source}))?`),2);case"ZZZ":return Cd(new RegExp(`([+-]${l.source})(${n.source})?`),2);case"z":return Ai(/[a-z_+-/]{1,256}?/i);case" ":return Ai(/[^\S\n\r]/);default:return g(x)}})(e)||{invalidReason:L_};return S.token=e,S}const q_={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function V_(e,t,r){const{type:n,value:s}=e;if(n==="literal"){const c=/^\s+$/.test(s);return{literal:!c,val:c?" ":s}}const o=t[n];let a=n;n==="hour"&&(t.hour12!=null?a=t.hour12?"hour12":"hour24":t.hourCycle!=null?t.hourCycle==="h11"||t.hourCycle==="h12"?a="hour12":a="hour24":a=r.hour12?"hour12":"hour24");let l=q_[a];if(typeof l=="object"&&(l=l[o]),l)return{literal:!1,val:l}}function B_(e){return[`^${e.map(r=>r.regex).reduce((r,n)=>`${r}(${n.source})`,"")}$`,e]}function W_(e,t,r){const n=e.match(t);if(n){const s={};let o=1;for(const a in r)if(En(r,a)){const l=r[a],c=l.groups?l.groups+1:1;!l.literal&&l.token&&(s[l.token.val[0]]=l.deser(n.slice(o,o+c))),o+=c}return[n,s]}else return[n,{}]}function H_(e){const t=o=>{switch(o){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let r=null,n;return I(e.z)||(r=kt.create(e.z)),I(e.Z)||(r||(r=new ve(e.Z)),n=e.Z),I(e.q)||(e.M=(e.q-1)*3+1),I(e.h)||(e.h<12&&e.a===1?e.h+=12:e.h===12&&e.a===0&&(e.h=0)),e.G===0&&e.y&&(e.y=-e.y),I(e.u)||(e.S=Vc(e.u)),[Object.keys(e).reduce((o,a)=>{const l=t(a);return l&&(o[l]=e[a]),o},{}),r,n]}let za=null;function Z_(){return za||(za=E.fromMillis(1555555555555)),za}function J_(e,t){if(e.literal)return e;const r=ge.macroTokenToFormatOpts(e.val),n=Hm(r,t);return n==null||n.includes(void 0)?e:n}function Bm(e,t){return Array.prototype.concat(...e.map(r=>J_(r,t)))}function Wm(e,t,r){const n=Bm(ge.parseFormat(r),e),s=n.map(a=>G_(a,e)),o=s.find(a=>a.invalidReason);if(o)return{input:t,tokens:n,invalidReason:o.invalidReason};{const[a,l]=B_(s),c=RegExp(a,"i"),[d,p]=W_(t,c,l),[m,y,g]=p?H_(p):[null,null,void 0];if(En(p,"a")&&En(p,"H"))throw new ts("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:n,regex:c,rawMatches:d,matches:p,result:m,zone:y,specificOffset:g}}}function Y_(e,t,r){const{result:n,zone:s,specificOffset:o,invalidReason:a}=Wm(e,t,r);return[n,s,o,a]}function Hm(e,t){if(!e)return null;const n=ge.create(t,e).dtFormatter(Z_()),s=n.formatToParts(),o=n.resolvedOptions();return s.map(a=>V_(a,e,o))}const Zm=[0,31,59,90,120,151,181,212,243,273,304,334],Jm=[0,31,60,91,121,152,182,213,244,274,305,335];function Le(e,t){return new Ze("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function Ym(e,t,r){const n=new Date(Date.UTC(e,t-1,r));e<100&&e>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);const s=n.getUTCDay();return s===0?7:s}function Km(e,t,r){return r+(ni(e)?Jm:Zm)[t-1]}function Qm(e,t){const r=ni(e)?Jm:Zm,n=r.findIndex(o=>o<t),s=t-r[n];return{month:n+1,day:s}}function Hl(e){const{year:t,month:r,day:n}=e,s=Km(t,r,n),o=Ym(t,r,n);let a=Math.floor((s-o+10)/7),l;return a<1?(l=t-1,a=Lo(l)):a>Lo(t)?(l=t+1,a=1):l=t,{weekYear:l,weekNumber:a,weekday:o,...da(e)}}function kd(e){const{weekYear:t,weekNumber:r,weekday:n}=e,s=Ym(t,1,4),o=Es(t);let a=r*7+n-s-3,l;a<1?(l=t-1,a+=Es(l)):a>o?(l=t+1,a-=Es(t)):l=t;const{month:c,day:d}=Qm(l,a);return{year:l,month:c,day:d,...da(e)}}function Ga(e){const{year:t,month:r,day:n}=e,s=Km(t,r,n);return{year:t,ordinal:s,...da(e)}}function Dd(e){const{year:t,ordinal:r}=e,{month:n,day:s}=Qm(t,r);return{year:t,month:n,day:s,...da(e)}}function K_(e){const t=ua(e.weekYear),r=At(e.weekNumber,1,Lo(e.weekYear)),n=At(e.weekday,1,7);return t?r?n?!1:Le("weekday",e.weekday):Le("week",e.week):Le("weekYear",e.weekYear)}function Q_(e){const t=ua(e.year),r=At(e.ordinal,1,Es(e.year));return t?r?!1:Le("ordinal",e.ordinal):Le("year",e.year)}function Xm(e){const t=ua(e.year),r=At(e.month,1,12),n=At(e.day,1,Fo(e.year,e.month));return t?r?n?!1:Le("day",e.day):Le("month",e.month):Le("year",e.year)}function ey(e){const{hour:t,minute:r,second:n,millisecond:s}=e,o=At(t,0,23)||t===24&&r===0&&n===0&&s===0,a=At(r,0,59),l=At(n,0,59),c=At(s,0,999);return o?a?l?c?!1:Le("millisecond",s):Le("second",n):Le("minute",r):Le("hour",t)}const qa="Invalid DateTime",Rd=864e13;function Pi(e){return new Ze("unsupported zone",`the zone "${e.name}" is not supported`)}function Va(e){return e.weekData===null&&(e.weekData=Hl(e.c)),e.weekData}function gr(e,t){const r={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new E({...r,...t,old:r})}function ty(e,t,r){let n=e-t*60*1e3;const s=r.offset(n);if(t===s)return[n,t];n-=(s-t)*60*1e3;const o=r.offset(n);return s===o?[n,s]:[e-Math.min(s,o)*60*1e3,Math.max(s,o)]}function Ni(e,t){e+=t*60*1e3;const r=new Date(e);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function Bi(e,t,r){return ty(ca(e),t,r)}function Fd(e,t){const r=e.o,n=e.c.year+Math.trunc(t.years),s=e.c.month+Math.trunc(t.months)+Math.trunc(t.quarters)*3,o={...e.c,year:n,month:s,day:Math.min(e.c.day,Fo(n,s))+Math.trunc(t.days)+Math.trunc(t.weeks)*7},a=R.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),l=ca(o);let[c,d]=ty(l,r,e.zone);return a!==0&&(c+=a,d=e.zone.offset(c)),{ts:c,o:d}}function Vn(e,t,r,n,s,o){const{setZone:a,zone:l}=r;if(e&&Object.keys(e).length!==0||t){const c=t||l,d=E.fromObject(e,{...r,zone:c,specificOffset:o});return a?d:d.setZone(l)}else return E.invalid(new Ze("unparsable",`the input "${s}" can't be parsed as ${n}`))}function Ii(e,t,r=!0){return e.isValid?ge.create(J.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(e,t):null}function Ba(e,t){const r=e.c.year>9999||e.c.year<0;let n="";return r&&e.c.year>=0&&(n+="+"),n+=ie(e.c.year,r?6:4),t?(n+="-",n+=ie(e.c.month),n+="-",n+=ie(e.c.day)):(n+=ie(e.c.month),n+=ie(e.c.day)),n}function Ld(e,t,r,n,s,o){let a=ie(e.c.hour);return t?(a+=":",a+=ie(e.c.minute),(e.c.millisecond!==0||e.c.second!==0||!r)&&(a+=":")):a+=ie(e.c.minute),(e.c.millisecond!==0||e.c.second!==0||!r)&&(a+=ie(e.c.second),(e.c.millisecond!==0||!n)&&(a+=".",a+=ie(e.c.millisecond,3))),s&&(e.isOffsetFixed&&e.offset===0&&!o?a+="Z":e.o<0?(a+="-",a+=ie(Math.trunc(-e.o/60)),a+=":",a+=ie(Math.trunc(-e.o%60))):(a+="+",a+=ie(Math.trunc(e.o/60)),a+=":",a+=ie(Math.trunc(e.o%60)))),o&&(a+="["+e.zone.ianaName+"]"),a}const ry={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},X_={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},eS={ordinal:1,hour:0,minute:0,second:0,millisecond:0},ny=["year","month","day","hour","minute","second","millisecond"],tS=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],rS=["year","ordinal","hour","minute","second","millisecond"];function jd(e){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new im(e);return t}function Ud(e,t){const r=ir(t.zone,se.defaultZone),n=J.fromObject(t),s=se.now();let o,a;if(I(e.year))o=s;else{for(const d of ny)I(e[d])&&(e[d]=ry[d]);const l=Xm(e)||ey(e);if(l)return E.invalid(l);const c=r.offset(s);[o,a]=Bi(e,c,r)}return new E({ts:o,zone:r,loc:n,o:a})}function zd(e,t,r){const n=I(r.round)?!0:r.round,s=(a,l)=>(a=Bc(a,n||r.calendary?0:2,!0),t.loc.clone(r).relFormatter(r).format(a,l)),o=a=>r.calendary?t.hasSame(e,a)?0:t.startOf(a).diff(e.startOf(a),a).get(a):t.diff(e,a).get(a);if(r.unit)return s(o(r.unit),r.unit);for(const a of r.units){const l=o(a);if(Math.abs(l)>=1)return s(l,a)}return s(e>t?-0:0,r.units[r.units.length-1])}function Gd(e){let t={},r;return e.length>0&&typeof e[e.length-1]=="object"?(t=e[e.length-1],r=Array.from(e).slice(0,e.length-1)):r=Array.from(e),[t,r]}class E{constructor(t){const r=t.zone||se.defaultZone;let n=t.invalid||(Number.isNaN(t.ts)?new Ze("invalid input"):null)||(r.isValid?null:Pi(r));this.ts=I(t.ts)?se.now():t.ts;let s=null,o=null;if(!n)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(r))[s,o]=[t.old.c,t.old.o];else{const l=r.offset(this.ts);s=Ni(this.ts,l),n=Number.isNaN(s.year)?new Ze("invalid input"):null,s=n?null:s,o=n?null:l}this._zone=r,this.loc=t.loc||J.create(),this.invalid=n,this.weekData=null,this.c=s,this.o=o,this.isLuxonDateTime=!0}static now(){return new E({})}static local(){const[t,r]=Gd(arguments),[n,s,o,a,l,c,d]=r;return Ud({year:n,month:s,day:o,hour:a,minute:l,second:c,millisecond:d},t)}static utc(){const[t,r]=Gd(arguments),[n,s,o,a,l,c,d]=r;return t.zone=ve.utcInstance,Ud({year:n,month:s,day:o,hour:a,minute:l,second:c,millisecond:d},t)}static fromJSDate(t,r={}){const n=P$(t)?t.valueOf():NaN;if(Number.isNaN(n))return E.invalid("invalid input");const s=ir(r.zone,se.defaultZone);return s.isValid?new E({ts:n,zone:s,loc:J.fromObject(r)}):E.invalid(Pi(s))}static fromMillis(t,r={}){if(Ur(t))return t<-Rd||t>Rd?E.invalid("Timestamp out of range"):new E({ts:t,zone:ir(r.zone,se.defaultZone),loc:J.fromObject(r)});throw new Fe(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,r={}){if(Ur(t))return new E({ts:t*1e3,zone:ir(r.zone,se.defaultZone),loc:J.fromObject(r)});throw new Fe("fromSeconds requires a numerical input")}static fromObject(t,r={}){t=t||{};const n=ir(r.zone,se.defaultZone);if(!n.isValid)return E.invalid(Pi(n));const s=se.now(),o=I(r.specificOffset)?n.offset(s):r.specificOffset,a=jo(t,jd),l=!I(a.ordinal),c=!I(a.year),d=!I(a.month)||!I(a.day),p=c||d,m=a.weekYear||a.weekNumber,y=J.fromObject(r);if((p||l)&&m)throw new ts("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(d&&l)throw new ts("Can't mix ordinal dates with month/day");const g=m||a.weekday&&!p;let b,S,x=Ni(s,o);g?(b=tS,S=X_,x=Hl(x)):l?(b=rS,S=eS,x=Ga(x)):(b=ny,S=ry);let M=!1;for(const q of b){const wt=a[q];I(wt)?M?a[q]=S[q]:a[q]=x[q]:M=!0}const P=g?K_(a):l?Q_(a):Xm(a),F=P||ey(a);if(F)return E.invalid(F);const W=g?kd(a):l?Dd(a):a,[z,be]=Bi(W,o,n),xe=new E({ts:z,zone:n,o:be,loc:y});return a.weekday&&p&&t.weekday!==xe.weekday?E.invalid("mismatched weekday",`you can't specify both a weekday of ${a.weekday} and a date of ${xe.toISO()}`):xe}static fromISO(t,r={}){const[n,s]=v_(t);return Vn(n,s,r,"ISO 8601",t)}static fromRFC2822(t,r={}){const[n,s]=b_(t);return Vn(n,s,r,"RFC 2822",t)}static fromHTTP(t,r={}){const[n,s]=$_(t);return Vn(n,s,r,"HTTP",r)}static fromFormat(t,r,n={}){if(I(t)||I(r))throw new Fe("fromFormat requires an input string and a format");const{locale:s=null,numberingSystem:o=null}=n,a=J.fromOpts({locale:s,numberingSystem:o,defaultToEN:!0}),[l,c,d,p]=Y_(a,t,r);return p?E.invalid(p):Vn(l,c,n,`format ${r}`,t,d)}static fromString(t,r,n={}){return E.fromFormat(t,r,n)}static fromSQL(t,r={}){const[n,s]=E_(t);return Vn(n,s,r,"SQL",t)}static invalid(t,r=null){if(!t)throw new Fe("need to specify a reason the DateTime is invalid");const n=t instanceof Ze?t:new Ze(t,r);if(se.throwOnInvalid)throw new a$(n);return new E({invalid:n})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}static parseFormatForOpts(t,r={}){const n=Hm(t,J.fromObject(r));return n?n.map(s=>s?s.val:null).join(""):null}static expandFormat(t,r={}){return Bm(ge.parseFormat(t),J.fromObject(r)).map(s=>s.val).join("")}get(t){return this[t]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Va(this).weekYear:NaN}get weekNumber(){return this.isValid?Va(this).weekNumber:NaN}get weekday(){return this.isValid?Va(this).weekday:NaN}get ordinal(){return this.isValid?Ga(this.c).ordinal:NaN}get monthShort(){return this.isValid?Ei.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Ei.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Ei.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Ei.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const t=864e5,r=6e4,n=ca(this.c),s=this.zone.offset(n-t),o=this.zone.offset(n+t),a=this.zone.offset(n-s*r),l=this.zone.offset(n-o*r);if(a===l)return[this];const c=n-a*r,d=n-l*r,p=Ni(c,a),m=Ni(d,l);return p.hour===m.hour&&p.minute===m.minute&&p.second===m.second&&p.millisecond===m.millisecond?[gr(this,{ts:c}),gr(this,{ts:d})]:[this]}get isInLeapYear(){return ni(this.year)}get daysInMonth(){return Fo(this.year,this.month)}get daysInYear(){return this.isValid?Es(this.year):NaN}get weeksInWeekYear(){return this.isValid?Lo(this.weekYear):NaN}resolvedLocaleOptions(t={}){const{locale:r,numberingSystem:n,calendar:s}=ge.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:r,numberingSystem:n,outputCalendar:s}}toUTC(t=0,r={}){return this.setZone(ve.instance(t),r)}toLocal(){return this.setZone(se.defaultZone)}setZone(t,{keepLocalTime:r=!1,keepCalendarTime:n=!1}={}){if(t=ir(t,se.defaultZone),t.equals(this.zone))return this;if(t.isValid){let s=this.ts;if(r||n){const o=t.offset(this.ts),a=this.toObject();[s]=Bi(a,o,t)}return gr(this,{ts:s,zone:t})}else return E.invalid(Pi(t))}reconfigure({locale:t,numberingSystem:r,outputCalendar:n}={}){const s=this.loc.clone({locale:t,numberingSystem:r,outputCalendar:n});return gr(this,{loc:s})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;const r=jo(t,jd),n=!I(r.weekYear)||!I(r.weekNumber)||!I(r.weekday),s=!I(r.ordinal),o=!I(r.year),a=!I(r.month)||!I(r.day),l=o||a,c=r.weekYear||r.weekNumber;if((l||s)&&c)throw new ts("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(a&&s)throw new ts("Can't mix ordinal dates with month/day");let d;n?d=kd({...Hl(this.c),...r}):I(r.ordinal)?(d={...this.toObject(),...r},I(r.day)&&(d.day=Math.min(Fo(d.year,d.month),d.day))):d=Dd({...Ga(this.c),...r});const[p,m]=Bi(d,this.o,this.zone);return gr(this,{ts:p,o:m})}plus(t){if(!this.isValid)return this;const r=R.fromDurationLike(t);return gr(this,Fd(this,r))}minus(t){if(!this.isValid)return this;const r=R.fromDurationLike(t).negate();return gr(this,Fd(this,r))}startOf(t){if(!this.isValid)return this;const r={},n=R.normalizeUnit(t);switch(n){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0;break}if(n==="weeks"&&(r.weekday=1),n==="quarters"){const s=Math.ceil(this.month/3);r.month=(s-1)*3+1}return this.set(r)}endOf(t){return this.isValid?this.plus({[t]:1}).startOf(t).minus(1):this}toFormat(t,r={}){return this.isValid?ge.create(this.loc.redefaultToEN(r)).formatDateTimeFromString(this,t):qa}toLocaleString(t=Ro,r={}){return this.isValid?ge.create(this.loc.clone(r),t).formatDateTime(this):qa}toLocaleParts(t={}){return this.isValid?ge.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:r=!1,suppressMilliseconds:n=!1,includeOffset:s=!0,extendedZone:o=!1}={}){if(!this.isValid)return null;const a=t==="extended";let l=Ba(this,a);return l+="T",l+=Ld(this,a,r,n,s,o),l}toISODate({format:t="extended"}={}){return this.isValid?Ba(this,t==="extended"):null}toISOWeekDate(){return Ii(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:r=!1,includeOffset:n=!0,includePrefix:s=!1,extendedZone:o=!1,format:a="extended"}={}){return this.isValid?(s?"T":"")+Ld(this,a==="extended",r,t,n,o):null}toRFC2822(){return Ii(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Ii(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Ba(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:r=!1,includeOffsetSpace:n=!0}={}){let s="HH:mm:ss.SSS";return(r||t)&&(n&&(s+=" "),r?s+="z":t&&(s+="ZZ")),Ii(this,s,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():qa}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};const r={...this.c};return t.includeConfig&&(r.outputCalendar=this.outputCalendar,r.numberingSystem=this.loc.numberingSystem,r.locale=this.loc.locale),r}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,r="milliseconds",n={}){if(!this.isValid||!t.isValid)return R.invalid("created by diffing an invalid DateTime");const s={locale:this.locale,numberingSystem:this.numberingSystem,...n},o=N$(r).map(R.normalizeUnit),a=t.valueOf()>this.valueOf(),l=a?this:t,c=a?t:this,d=D_(l,c,o,s);return a?d.negate():d}diffNow(t="milliseconds",r={}){return this.diff(E.now(),t,r)}until(t){return this.isValid?X.fromDateTimes(this,t):this}hasSame(t,r){if(!this.isValid)return!1;const n=t.valueOf(),s=this.setZone(t.zone,{keepLocalTime:!0});return s.startOf(r)<=n&&n<=s.endOf(r)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;const r=t.base||E.fromObject({},{zone:this.zone}),n=t.padding?this<r?-t.padding:t.padding:0;let s=["years","months","days","hours","minutes","seconds"],o=t.unit;return Array.isArray(t.unit)&&(s=t.unit,o=void 0),zd(r,this.plus(n),{...t,numeric:"always",units:s,unit:o})}toRelativeCalendar(t={}){return this.isValid?zd(t.base||E.fromObject({},{zone:this.zone}),this,{...t,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...t){if(!t.every(E.isDateTime))throw new Fe("min requires all arguments be DateTimes");return Td(t,r=>r.valueOf(),Math.min)}static max(...t){if(!t.every(E.isDateTime))throw new Fe("max requires all arguments be DateTimes");return Td(t,r=>r.valueOf(),Math.max)}static fromFormatExplain(t,r,n={}){const{locale:s=null,numberingSystem:o=null}=n,a=J.fromOpts({locale:s,numberingSystem:o,defaultToEN:!0});return Wm(a,t,r)}static fromStringExplain(t,r,n={}){return E.fromFormatExplain(t,r,n)}static get DATE_SHORT(){return Ro}static get DATE_MED(){return om}static get DATE_MED_WITH_WEEKDAY(){return c$}static get DATE_FULL(){return am}static get DATE_HUGE(){return lm}static get TIME_SIMPLE(){return um}static get TIME_WITH_SECONDS(){return cm}static get TIME_WITH_SHORT_OFFSET(){return hm}static get TIME_WITH_LONG_OFFSET(){return dm}static get TIME_24_SIMPLE(){return fm}static get TIME_24_WITH_SECONDS(){return pm}static get TIME_24_WITH_SHORT_OFFSET(){return mm}static get TIME_24_WITH_LONG_OFFSET(){return ym}static get DATETIME_SHORT(){return gm}static get DATETIME_SHORT_WITH_SECONDS(){return wm}static get DATETIME_MED(){return vm}static get DATETIME_MED_WITH_SECONDS(){return bm}static get DATETIME_MED_WITH_WEEKDAY(){return h$}static get DATETIME_FULL(){return $m}static get DATETIME_FULL_WITH_SECONDS(){return _m}static get DATETIME_HUGE(){return Sm}static get DATETIME_HUGE_WITH_SECONDS(){return xm}}function Bn(e){if(E.isDateTime(e))return e;if(e&&e.valueOf&&Ur(e.valueOf()))return E.fromJSDate(e);if(e&&typeof e=="object")return E.fromObject(e);throw new Fe(`Unknown datetime argument: ${e}, of type ${typeof e}`)}const fa="system",sy="unknown",qs="UTC",nS=Intl.DateTimeFormat().resolvedOptions().timeZone,sS="shortOffset";function iS(e){return"timeZoneIANA"in e}function oS(e){return e.startsWith("UTC")}function j4(e,t=!1){return{json:{read:{source:e,reader:(r,n)=>n[e]?aS(n[e]):null},write:!!t&&{allowNull:!0,writer(r,n){n[e]=r?lS(r):null}}}}}function aS(e,t=fa){return e?iS(e)?e.timeZoneIANA:uS(e,t):t}function lS(e){return{timeZoneIANA:e}}function uS(e,t=fa){if(!e||!yd.has(e.timeZone))return t;const r=yd.get(e.timeZone);return oS(e.timeZone)||e.respectsDaylightSaving?r:cS(r)}function cS(e){const t=E.local().setZone(e),r=Math.min(t.set({month:1,day:1}).offset,t.set({month:5}).offset);return r===0?"Etc/UTC":`Etc/GMT${ve.instance(-r).formatOffset(0,"narrow")}`}function U4(e,t,r,n,s){if(t&&s==="date")return{timeZone:qs,timeZoneName:void 0};const o=n.timeStyle||n.hour,a=r===sy;return{timeZone:a?s==="timestamp-offset"?void 0:e??qs:r,timeZoneName:a&&o?sS:void 0}}const hS={year:void 0,month:void 0,day:void 0,weekday:void 0},dS={hour:void 0,minute:void 0,second:void 0},iy={timeZone:qs},nt={year:"numeric",month:"numeric",day:"numeric"},Wn={year:"numeric",month:"long",day:"numeric"},Hn={year:"numeric",month:"short",day:"numeric"},Zn={year:"numeric",month:"long",weekday:"long",day:"numeric"},nr={hour:"numeric",minute:"numeric"},br={...nr,second:"numeric"},oy={hourCycle:"h23"},Jn={...nr,...oy},Yn={...br,...oy},ay={"short-date":nt,"short-date-short-time":{...nt,...nr},"short-date-short-time-24":{...nt,...Jn},"short-date-long-time":{...nt,...br},"short-date-long-time-24":{...nt,...Yn},"short-date-le":nt,"short-date-le-short-time":{...nt,...nr},"short-date-le-short-time-24":{...nt,...Jn},"short-date-le-long-time":{...nt,...br},"short-date-le-long-time-24":{...nt,...Yn},"long-month-day-year":Wn,"long-month-day-year-short-time":{...Wn,...nr},"long-month-day-year-short-time-24":{...Wn,...Jn},"long-month-day-year-long-time":{...Wn,...br},"long-month-day-year-long-time-24":{...Wn,...Yn},"day-short-month-year":Hn,"day-short-month-year-short-time":{...Hn,...nr},"day-short-month-year-short-time-24":{...Hn,...Jn},"day-short-month-year-long-time":{...Hn,...br},"day-short-month-year-long-time-24":{...Hn,...Yn},"long-date":Zn,"long-date-short-time":{...Zn,...nr},"long-date-short-time-24":{...Zn,...Jn},"long-date-long-time":{...Zn,...br},"long-date-long-time-24":{...Zn,...Yn},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":nr,"long-time":br},fS=tt()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),ly={ar:"ar-u-nu-latn-ca-gregory"};let Zl=new WeakMap;const pa=ay["short-date-short-time"];function pS(e){let t=Zl.get(e);if(!t){const r=Nt(),n=ly[r]||r,s=mS(e.timeZone??fa),o={...e,timeZone:s};t=new Intl.DateTimeFormat(n,o),Zl.set(e,t)}return t}function z4(e){return ay[e]}function Yr(e,t=pa){return pS(t).format(e)}function G4(e,t=pa){return Yr(new Date(e),{...t,...iy,...dS})}function q4(e,t=pa){return Yr(new Date(`1970-01-01T${e}Z`),{...t,...iy,...hS})}function V4(e,t=pa){if(t.timeZone)return Yr(new Date(e),t);const r=E.fromISO(e,{setZone:!0}),n=Nt(),s=ly[n]??n,o=r.offset===0?qs:t.timeZone,a={...t,timeZone:o};return r.toLocaleString(a,{locale:s})}function mS(e){switch(e){case fa:return nS;case sy:return qs;default:return e}}Ic(()=>{Zl=new WeakMap});const yS={ar:"ar-u-nu-latn"};let Wi=new WeakMap,uy={};function gS(e){const t=e||uy;if(!Wi.has(t)){const r=Nt(),n=yS[Nt()]||r;Wi.set(t,new Intl.NumberFormat(n,e))}return Wi.get(t)}function B4(e={}){const t={};return e.digitSeparator!=null&&(t.useGrouping=e.digitSeparator),e.places!=null&&(t.minimumFractionDigits=t.maximumFractionDigits=e.places),t}function Uo(e,t){return Object.is(e,-0)&&(e=0),gS(t).format(e)}Ic(()=>{Wi=new WeakMap,uy={}});const cy=V.getLogger("esri.intl.substitute");function W4(e,t,r={}){const{format:n={}}=r;return oc(e,s=>wS(s,t,n))}function wS(e,t,r){let n,s;const o=e.indexOf(":");if(o===-1?n=e.trim():(n=e.slice(0,o).trim(),s=e.slice(o+1).trim()),!n)return"";const a=Ko(n,t);if(a==null)return"";const l=(s?r==null?void 0:r[s]:null)??(r==null?void 0:r[n]);return l?vS(a,l):s?bS(a,s):Yc(a)}function vS(e,t){switch(t.type){case"date":return Yr(e,t.intlOptions);case"number":return Uo(e,t.intlOptions);default:return cy.warn("missing format descriptor for key {key}"),Yc(e)}}function bS(e,t){switch(t.toLowerCase()){case"dateformat":return Yr(e);case"numberformat":return Uo(e);default:return cy.warn(`inline format is unsupported since 4.12: ${t}`),/^(dateformat|datestring)/i.test(t)?Yr(e):/^numberformat/i.test(t)?Uo(e):Yc(e)}}function Yc(e){switch(typeof e){case"string":return e;case"number":return Uo(e);case"boolean":return""+e;default:return e instanceof Date?Yr(e):""}}async function $S(e,t,r,n){const s=t.exec(r);if(!s)throw new G("esri-intl:invalid-bundle",`Bundle id "${r}" is not compatible with the pattern "${t}"`);const o=s[1]?`${s[1]}/`:"",a=s[2],l=Bw(n),c=`${o}${a}.json`,d=l?`${o}${a}_${l}.json`:c;let p;try{p=await qd(e(d))}catch(m){if(d===c)throw new G("intl:unknown-bundle",`Bundle "${r}" cannot be loaded`,{error:m});try{p=await qd(e(c))}catch(y){throw new G("intl:unknown-bundle",`Bundle "${r}" cannot be loaded`,{error:y})}}return p}async function qd(e){if(Vd.fetchBundleAsset!=null)return Vd.fetchBundleAsset(e);const t=await Qe(e,{responseType:"text"});return JSON.parse(t.data)}let _S=class{constructor({base:t="",pattern:r,location:n=new URL(window.location.href)}){let s;s=typeof n=="string"?o=>new URL(o,new URL(n,window.location.href)).href:n instanceof URL?o=>new URL(o,n).href:n,this.pattern=typeof r=="string"?new RegExp(`^${r}`):r,this.getAssetUrl=s,t=t?t.endsWith("/")?t:t+"/":"",this.matcher=new RegExp(`^${t}(?:(.*)/)?(.*)$`)}fetchMessageBundle(t,r){return $S(this.getAssetUrl,this.matcher,t,r)}};function SS(e){return new _S(e)}const Vd={};Vw(SS({pattern:"esri/",location:L0}));async function xS(e,t){const{WhereClause:r}=await pt(()=>import("./WhereClause-4a66a51d.js").then(n=>n.W),["./WhereClause-4a66a51d.js","./TimeOnly-f07e8b54.js"],import.meta.url);return r.create(e,t)}function Z4(e,t){return e!=null?t!=null?`(${e}) AND (${t})`:e:t}function nn(e){return typeof e=="string"||e instanceof String}const TS="yyyy-MM-dd",OS="TT";var Ps;(function(e){e.HM="HH:mm",e.HMS="HH:mm:ss",e.HMS_MS="HH:mm:ss.SSS"})(Ps||(Ps={}));const MS=[Ps.HMS_MS,Ps.HMS,Ps.HM,OS];function Bd(e){return E.fromFormat(e,TS)}function Wd(e){let t=null;return MS.find(r=>(t=E.fromFormat(e,r),t.isValid)),t}function Hd(e){return E.fromISO(e)}var An;(function(e){e.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",e.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(An||(An={}));const ES=new Set(["integer","small-integer","big-integer","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"]);function AS(e){return e!=null&&ES.has(e.type)}function hy(e){return e!=null&&(e.type==="date-only"||e.type==="esriFieldTypeDateOnly")}function dy(e){return e!=null&&(e.type==="timestamp-offset"||e.type==="esriFieldTypeTimestampOffset")}function fy(e){return e!=null&&(e.type==="time-only"||e.type==="esriFieldTypeTimeOnly")}function PS(e,t){const r=e==null?void 0:e.domain;if(!r)return null;switch(r.type){case"range":{const{min:n,max:s}=NS(e);if(n!=null&&+t<n||s!=null&&+t>s)return An.VALUE_OUT_OF_RANGE;break}case"coded-value":case"codedValue":if(r.codedValues==null||r.codedValues.every(n=>n==null||n.code!==t))return An.INVALID_CODED_VALUE}return null}function NS(e,t){const r=t??(e==null?void 0:e.domain);if(!r||r.type!=="range")return;const n="range"in r?r.range[0]:r.minValue,s="range"in r?r.range[1]:r.maxValue,o=AS(e);return hy(e)||fy(e)||dy(e)?{...IS(e,s,n),isInteger:o}:{min:n!=null&&typeof n=="number"?n:null,max:s!=null&&typeof s=="number"?s:null,rawMin:n,rawMax:s,isInteger:o}}function IS(e,t,r){return hy(e)?{min:r!=null&&nn(r)?Bd(r).toMillis():null,max:t!=null&&nn(t)?Bd(t).toMillis():null,rawMin:r,rawMax:t}:fy(e)?{min:r!=null&&nn(r)?Wd(r).toMillis():null,max:t!=null&&nn(t)?Wd(t).toMillis():null,rawMin:r,rawMax:t}:dy(e)?{min:r!=null&&nn(r)?Hd(r).toMillis():null,max:t!=null&&nn(t)?Hd(t).toMillis():null,rawMin:r,rawMax:t}:{max:null,min:null}}const CS=V.getLogger("esri.support.arcadeOnDemand");let Wa;function py(){return Wa||(Wa=(async()=>{const e=await pt(()=>import("./arcadeUtils-20003311.js").then(t=>t.aD),["./arcadeUtils-20003311.js","./index-e42a63f9.js","./TimeOnly-f07e8b54.js","./Field-2e745f35.js","./fieldType-5ce7d1ed.js","./number-46738308.js","./featureConversionUtils-5ad02385.js","./OptimizedFeature-ded94d90.js","./OptimizedFeatureSet-1d1ac4b9.js","./FieldsIndex-406a2400.js"],import.meta.url);return{arcade:e.arcade,arcadeUtils:e,Dictionary:e.Dictionary,Feature:e.arcadeFeature}})()),Wa}const J4=(e,t,r)=>Kc.create(e,t,r,null,["$feature","$view"],[]),Y4=(e,t,r)=>Kc.create(e,t,r,null,["$feature","$view"],[]),K4=(e,t,r,n)=>Kc.create(e,t,r,n,["$feature","$view"],[]);let Kc=class my{constructor(t,r,n,s,o,a,l){this.services=null,this.script=t,this.evaluate=s;const c=Array.isArray(a)?a:a.fields;this.fields=c,this._syntaxTree=n,this._arcade=r,this._arcadeFeature=o,this._spatialReference=l,this._referencesGeometry=r.scriptTouchesGeometry(this._syntaxTree),this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}static async create(t,r,n,s,o,a){const{arcade:l,Feature:c,Dictionary:d}=await py(),p=fe.fromJSON(r);let m;try{m=l.parseScript(t,a)}catch(q){return CS.error(new G("arcade-bad-expression","Failed to parse arcade script",{script:t,error:q})),null}const y=o.reduce((q,wt)=>({...q,[wt]:null}),{});let g=null;s!=null&&(g=new d(s),g.immutable=!0,y.$config=null);const b=l.scriptUsesGeometryEngine(m),S=b&&l.enableGeometrySupport(),x=l.scriptUsesFeatureSet(m)&&l.enableFeatureSetSupport(),M=l.scriptIsAsync(m),P=M&&l.enableAsyncSupport(),F={vars:y,spatialReference:p,useAsync:!!P};await Promise.all([S,x,P]);const W=new Set;await l.loadDependentModules(W,m,null,M,b);const z=new d;z.immutable=!1,z.setField("scale",0);const be=l.compileScript(m,F),xe=(q,wt)=>{var Un;const ci=(Un=q.$view)==null?void 0:Un.timeZone;return"$view"in q&&q.$view&&(z.setField("scale",typeof q.$view=="object"&&"scale"in q.$view?q.$view.scale:void 0),q.$view=z),g&&(q.$config=g),be({vars:q,spatialReference:p,services:wt,timeZone:ci})};return new my(t,l,m,xe,new c,n,p)}repurposeFeature(t){return t.geometry&&!t.geometry.spatialReference&&(t.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(t.geometry,t.attributes,{fields:this.fields}),this._arcadeFeature}referencesGeometry(){return this._referencesGeometry}referencesScale(){return this._referencesScale}};const kS=/^([0-9_])/,DS=/[^a-z0-9_\u0080-\uffff]+/gi;function Q4(e){return e==null?null:e.trim().replaceAll(DS,"_").replace(kS,"F$1")||null}const RS=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],FS=["field","normalizationField"];function X4(e,t){if(e!=null&&t!=null){for(const r of Array.isArray(e)?e:[e])if(Zd(RS,r,t),"visualVariables"in r&&r.visualVariables)for(const n of r.visualVariables)Zd(FS,n,t)}}function Zd(e,t,r){if(e)for(const n of e){const s=Ko(n,t),o=s&&typeof s!="function"&&r.get(s);o&&Pn(n,o.name,t)}}function eO(e,t){var r;if(e!=null&&((r=t==null?void 0:t.fields)!=null&&r.length))if("startField"in e){const n=t.get(e.startField),s=t.get(e.endField);e.startField=(n==null?void 0:n.name)??null,e.endField=(s==null?void 0:s.name)??null}else{const n=t.get(e.startTimeField),s=t.get(e.endTimeField);e.startTimeField=(n==null?void 0:n.name)??null,e.endTimeField=(s==null?void 0:s.name)??null}}const Ha=new Set;function yy(e,t){return e&&t?(Ha.clear(),Vs(Ha,e,t),Array.from(Ha).sort()):[]}function Vs(e,t,r){var n;if(r)if((n=t==null?void 0:t.fields)!=null&&n.length)if(r.includes("*"))for(const{name:s}of t.fields)e.add(s);else for(const s of r)ma(e,t,s);else{if(r.includes("*"))return e.clear(),void e.add("*");for(const s of r)s!=null&&e.add(s)}}function ma(e,t,r){if(typeof r=="string")if(t){const n=t.get(r);n&&e.add(n.name)}else e.add(r)}function tO(e,t){return t==null||e==null?[]:t.includes("*")?(e.fields??[]).map(r=>r.name):t}async function Kr(e,t,r){var o;if(!r)return;const{arcadeUtils:n}=await py(),s=n.extractFieldNames(r,(o=t==null?void 0:t.fields)==null?void 0:o.map(a=>a.name));for(const a of s)ma(e,t,a)}async function gy(e,t,r){if(r&&r!=="1=1"){const n=await xS(r,t);if(!n.isStandardized)throw new G("fieldUtils:collectFilterFields","Where clause is not standardized",{where:r});Vs(e,t,n.fieldNames)}}function rO({displayField:e,fields:t}){return e||(t!=null&&t.length?Za(t,"name-or-title")||Za(t,"unique-identifier")||Za(t,"type-or-category")||LS(t):null)}function LS(e){for(const t of e){if(!(t!=null&&t.name))continue;const r=t.name.toLowerCase();if(r.includes("name")||r.includes("title"))return t.name}return null}function Za(e,t){for(const r of e)if(r!=null&&r.valueType&&r.valueType===t)return r.name;return null}async function nO(e,t){var n;if(!t)return;const r=(n=t.elevationInfo)==null?void 0:n.featureExpressionInfo;return r?r.collectRequiredFields(e,t.fieldsIndex):void 0}function jS(e,t,r){r.onStatisticExpression?Kr(e,t,r.onStatisticExpression.expression):e.add(r.onStatisticField)}async function sO(e,t,r){if(!t||!r||!("fields"in r))return;const n=[],s=r.popupTemplate;n.push(US(e,t,s)),r.fields&&n.push(...r.fields.map(async o=>jS(e,t.fieldsIndex,o))),await Promise.all(n)}async function US(e,t,r){const n=[];r!=null&&r.expressionInfos&&n.push(...r.expressionInfos.map(o=>Kr(e,t.fieldsIndex,o.expression)));const s=r==null?void 0:r.content;if(Array.isArray(s))for(const o of s)o.type==="expression"&&o.expressionInfo&&n.push(Kr(e,t.fieldsIndex,o.expressionInfo.expression));await Promise.all(n)}async function iO(e,t,r){t&&(t.timeInfo&&(r!=null&&r.timeExtent)&&Vs(e,t.fieldsIndex,[t.timeInfo.startField,t.timeInfo.endField]),t.floorInfo&&Vs(e,t.fieldsIndex,[t.floorInfo.floorField]),(r==null?void 0:r.where)!=null&&await gy(e,t.fieldsIndex,r.where))}async function oO(e,t,r){t&&r&&await Promise.all(r.map(n=>zS(e,t,n)))}async function zS(e,t,r){t&&r&&(r.valueExpression?await Kr(e,t.fieldsIndex,r.valueExpression):r.field&&ma(e,t.fieldsIndex,r.field))}function aO(e){return e?yy(e.fieldsIndex,wy(e)):[]}function GS(e){if(!e)return[];const t=e.geometryFieldsInfo;return t?yy(e.fieldsIndex,[t.shapeAreaField,t.shapeLengthField]):[]}const qS=new Set(["oid","global-id","guid"]),VS=new Set(["oid","global-id"]),BS=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/shape/i,/perimeter/i,/objectid/i,/_i$/i];function WS(e){const t=new Set;vy(e).forEach(n=>t.add(n)),GS(e).forEach(n=>t.add(n.toLowerCase()));const r=e&&"infoFor3D"in e?e.infoFor3D:void 0;return r&&(Object.values(r.assetMapFieldRoles).forEach(n=>t.add(n.toLowerCase())),Object.values(r.transformFieldRoles).forEach(n=>t.add(n.toLowerCase()))),Array.from(t)}function wy(e){if(!e)return[];const t="editFieldsInfo"in e&&e.editFieldsInfo;if(!t)return[];const{creationDateField:r,creatorField:n,editDateField:s,editorField:o}=t;return[r,n,s,o].filter(Boolean)}function vy(e){return wy(e).map(t=>t.toLowerCase())}function lO(e,t){var r;return e.editable&&!qS.has(e.type)&&!vy(t).includes(((r=e.name)==null?void 0:r.toLowerCase())??"")}function uO(e,t){var n;const r=((n=e.name)==null?void 0:n.toLowerCase())??"";return!((t==null?void 0:t.objectIdField)!=null&&r===t.objectIdField.toLowerCase()||(t==null?void 0:t.globalIdField)!=null&&r===t.globalIdField.toLowerCase()||WS(t).includes(r)||VS.has(e.type)||BS.some(s=>s.test(r)))}async function cO(e,t){const{labelingInfo:r,fieldsIndex:n}=t;r!=null&&r.length&&await Promise.all(r.map(s=>HS(e,n,s)))}async function HS(e,t,r){if(!r)return;const n=r.getLabelExpression(),s=r.where;if(n.type==="arcade")await Kr(e,t,n.expression);else{const o=n.expression.match(/{[^}]*}/g);o&&o.forEach(a=>{ma(e,t,a.slice(1,-1))})}await gy(e,t,s)}function hO(e){const t=e.defaultValue;return t!==void 0&&_y(e,t)?t:e.nullable?null:void 0}function dO(e){const t=typeof e=="string"?{type:e}:e;return o5(t)?255:t.type==="esriFieldTypeDate"||t.type==="date"?8:void 0}function by(e){return typeof e=="number"&&!isNaN(e)&&isFinite(e)}function ZS(e){return e===null||by(e)}function JS(e){return e===null||Number.isInteger(e)}function $y(e){return e!=null&&typeof e=="string"}function YS(e){return e===null||$y(e)}function KS(){return!0}function _y(e,t){let r;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"big-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":case"esriFieldTypeBigInteger":r=e.nullable?JS:Number.isInteger;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":r=e.nullable?ZS:by;break;case"string":case"esriFieldTypeString":r=e.nullable?YS:$y;break;default:r=KS}return arguments.length===1?r:r(t)}const QS=["integer","small-integer","big-integer"],XS=["single","double"],e5=["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"],t5=["esriFieldTypeSingle","esriFieldTypeDouble"],r5=new Set([...QS,...e5]),n5=new Set([...XS,...t5]),s5=gg(r5,n5);function i5(e){return e!=null&&s5.has(e.type)}function o5(e){return e!=null&&(e.type==="string"||e.type==="esriFieldTypeString")}function fO(e){return e!=null&&(e.type==="date"||e.type==="esriFieldTypeDate")}function pO(e){return e!=null&&(e.type==="date-only"||e.type==="esriFieldTypeDateOnly")}function mO(e){return e!=null&&(e.type==="timestamp-offset"||e.type==="esriFieldTypeTimestampOffset")}function yO(e){return e!=null&&(e.type==="time-only"||e.type==="esriFieldTypeTimeOnly")}function gO(e){return e!=null&&(e.type==="oid"||e.type==="esriFieldTypeOID")}function wO(e){return e!=null&&(e.type==="global-id"||e.type==="esriFieldTypeGlobalID")}function vO(e,t){return a5(e,t)===null}var zo,Go;function bO(e){return e==null||typeof e=="number"&&isNaN(e)?null:e}function a5(e,t){return e==null||e.nullable&&t===null?null:i5(e)&&!l5(e.type,Number(t))?zo.OUT_OF_RANGE:_y(e,t)?e.domain?PS(e,t):null:Go.INVALID_TYPE}function l5(e,t){const r=typeof e=="string"?Sy(e):e;if(!r)return!1;const n=r.min,s=r.max;return r.isInteger?Number.isInteger(t)&&t>=n&&t<=s:t>=n&&t<=s}function Sy(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return u5;case"esriFieldTypeInteger":case"integer":return c5;case"esriFieldTypeBigInteger":case"big-integer":return h5;case"esriFieldTypeSingle":case"single":return d5;case"esriFieldTypeDouble":case"double":return f5}}(function(e){e.OUT_OF_RANGE="numeric-range-validation-error::out-of-range"})(zo||(zo={})),function(e){e.INVALID_TYPE="type-validation-error::invalid-type"}(Go||(Go={}));const u5={min:-32768,max:32767,isInteger:!0,rawMin:-32768,rawMax:32767},c5={min:-2147483648,max:2147483647,isInteger:!0,rawMin:-2147483648,rawMax:2147483647},h5={min:-Number.MAX_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,isInteger:!0,rawMin:-Number.MAX_SAFE_INTEGER,rawMax:Number.MAX_SAFE_INTEGER},d5={min:-34e37,max:12e37,isInteger:!1,rawMin:-34e37,rawMax:12e37},f5={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1,rawMin:-Number.MAX_VALUE,rawMax:Number.MAX_VALUE};function $O(e,t,r){switch(e){case An.INVALID_CODED_VALUE:return`Value ${r} is not in the coded domain - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case An.VALUE_OUT_OF_RANGE:return`Value ${r} is out of the range of valid values - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case Go.INVALID_TYPE:return`Value ${r} is not a valid value for the field type - field: ${t.name}, type: ${t.type}, nullable: ${t.nullable}`;case zo.OUT_OF_RANGE:{const{min:n,max:s}=Sy(t.type);return`Value ${r} is out of range for the number type - field: ${t.name}, type: ${t.type}, value range is ${n} to ${s}`}}}function _O(e,t){return!p5(e,t,null)}function p5(e,t,r){if(!(t!=null&&t.attributes)||!e){if(r!=null)for(const o of e??[])r.add(o);return!0}const n=new Set(Object.keys(t.attributes));let s=!1;for(const o of e)if(!n.has(o)){if(s=!0,r==null)break;r.add(o)}return s}function SO(e){return!!e&&["raster.itempixelvalue","raster.servicepixelvalue"].some(t=>e.toLowerCase().startsWith(t))}let Hi=class extends N{constructor(t){super(t),this.type=null}};u([h({type:["attachments","custom","fields","media","text","expression","relationship"],readOnly:!0,json:{read:!1,write:!0}})],Hi.prototype,"type",void 0),Hi=u([v("esri.popup.content.Content")],Hi);const pr=Hi;var Jl;let $r=Jl=class extends pr{constructor(e){super(e),this.description=null,this.displayType="auto",this.title=null,this.type="attachments"}clone(){return new Jl({description:this.description,displayType:this.displayType,title:this.title})}};u([h({type:String,json:{write:!0}})],$r.prototype,"description",void 0),u([h({type:["auto","preview","list"],json:{write:!0}})],$r.prototype,"displayType",void 0),u([h({type:String,json:{write:!0}})],$r.prototype,"title",void 0),u([h({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],$r.prototype,"type",void 0),$r=Jl=u([v("esri.popup.content.AttachmentsContent")],$r);const qo=$r;var Yl;let _r=Yl=class extends pr{constructor(e){super(e),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new Yl({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?T(this.outFields):null})}};u([h()],_r.prototype,"creator",void 0),u([h()],_r.prototype,"destroyer",void 0),u([h()],_r.prototype,"outFields",void 0),u([h({type:["custom"],readOnly:!0})],_r.prototype,"type",void 0),_r=Yl=u([v("esri.popup.content.CustomContent")],_r);const m5=_r;var Kl;let sn=Kl=class extends N{constructor(e){super(e),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new Kl({title:this.title,expression:this.expression})}};u([h({type:String,json:{write:!0}})],sn.prototype,"title",void 0),u([h({type:String,json:{write:!0}})],sn.prototype,"expression",void 0),u([h({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],sn.prototype,"returnType",void 0),sn=Kl=u([v("esri.popup.ElementExpressionInfo")],sn);const y5=sn;var Ql;let ns=Ql=class extends pr{constructor(e){super(e),this.expressionInfo=null,this.type="expression"}clone(){var e;return new Ql({expressionInfo:(e=this.expressionInfo)==null?void 0:e.clone()})}};u([h({type:y5,json:{write:!0}})],ns.prototype,"expressionInfo",void 0),u([h({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],ns.prototype,"type",void 0),ns=Ql=u([v("esri.popup.content.ExpressionContent")],ns);const Qc=ns;let on=class extends Xr(N){constructor(t){super(t),this.dateFormat=null,this.digitSeparator=!1,this.places=null}};u([k(fS)],on.prototype,"dateFormat",void 0),u([h({type:Boolean,json:{write:!0}})],on.prototype,"digitSeparator",void 0),u([h({type:we,json:{write:!0}})],on.prototype,"places",void 0),on=u([v("esri.popup.support.FieldInfoFormat")],on);const g5=on;var Xl;let qe=Xl=class extends N{constructor(e){super(e),this.fieldName=null,this.format=null,this.isEditable=!0,this.label=null,this.stringFieldOption="text-box",this.statisticType=null,this.tooltip=null,this.visible=!0}clone(){return new Xl({fieldName:this.fieldName,format:this.format?T(this.format):null,isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};u([h({type:String,json:{write:!0}})],qe.prototype,"fieldName",void 0),u([h({type:g5,json:{write:!0}})],qe.prototype,"format",void 0),u([h({type:Boolean,json:{write:{alwaysWriteDefaults:!0},default:!0}})],qe.prototype,"isEditable",void 0),u([h({type:String,json:{write:!0}})],qe.prototype,"label",void 0),u([k(new It({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],qe.prototype,"stringFieldOption",void 0),u([h({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],qe.prototype,"statisticType",void 0),u([h({type:String,json:{write:!0}})],qe.prototype,"tooltip",void 0),u([h({type:Boolean,json:{write:!0}})],qe.prototype,"visible",void 0),qe=Xl=u([v("esri.popup.FieldInfo")],qe);const xy=qe;var eu;let _t=eu=class extends pr{constructor(e){super(e),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}writeFieldInfos(e,t){t.fieldInfos=e&&e.map(r=>r.toJSON())}clone(){return new eu(T({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};u([h({type:Object,json:{write:!0}})],_t.prototype,"attributes",void 0),u([h({type:String,json:{write:!0}})],_t.prototype,"description",void 0),u([h({type:[xy]})],_t.prototype,"fieldInfos",void 0),u([ee("fieldInfos")],_t.prototype,"writeFieldInfos",null),u([h({type:String,json:{write:!0}})],_t.prototype,"title",void 0),u([h({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],_t.prototype,"type",void 0),_t=eu=u([v("esri.popup.content.FieldsContent")],_t);const Vo=_t;let Sr=class extends N{constructor(t){super(t),this.altText=null,this.caption="",this.title="",this.type=null}};u([h({type:String,json:{write:!0}})],Sr.prototype,"altText",void 0),u([h({type:String,json:{write:!0}})],Sr.prototype,"caption",void 0),u([h({type:String,json:{write:!0}})],Sr.prototype,"title",void 0),u([h({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],Sr.prototype,"type",void 0),Sr=u([v("esri.popup.content.mixins.MediaInfo")],Sr);const Xc=Sr;var tu;let xr=tu=class extends Ae{constructor(e){super(e),this.color=null,this.fieldName=null,this.tooltip=null,this.value=null}clone(){return new tu({fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}};u([h()],xr.prototype,"color",void 0),u([h()],xr.prototype,"fieldName",void 0),u([h()],xr.prototype,"tooltip",void 0),u([h()],xr.prototype,"value",void 0),xr=tu=u([v("esri.popup.content.support.ChartMediaInfoValueSeries")],xr);const w5=xr;var ru;let Ht=ru=class extends N{constructor(e){super(e),this.colors=null,this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new ru({colors:T(this.colors),fields:T(this.fields),normalizeField:this.normalizeField,tooltipField:this.tooltipField})}};u([h({type:[Y],json:{type:[[we]],write:!0}})],Ht.prototype,"colors",void 0),u([h({type:[String],json:{write:!0}})],Ht.prototype,"fields",void 0),u([h({type:String,json:{write:!0}})],Ht.prototype,"normalizeField",void 0),u([h({type:[w5],json:{read:!1}})],Ht.prototype,"series",void 0),u([h({type:String,json:{write:!0}})],Ht.prototype,"tooltipField",void 0),Ht=ru=u([v("esri.popup.content.support.ChartMediaInfoValue")],Ht);const v5=Ht;let ss=class extends Xc{constructor(t){super(t),this.type=null,this.value=null}};u([h({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],ss.prototype,"type",void 0),u([h({type:v5,json:{write:!0}})],ss.prototype,"value",void 0),ss=u([v("esri.popup.content.mixins.ChartMediaInfo")],ss);const ya=ss,ga=tt()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});var nu;let Zi=nu=class extends ya{constructor(e){super(e),this.type="bar-chart"}clone(){return new nu({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};u([h({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:ga.write}})],Zi.prototype,"type",void 0),Zi=nu=u([v("esri.popup.content.BarChartMediaInfo")],Zi);const Ty=Zi;var su;let Ji=su=class extends ya{constructor(e){super(e),this.type="column-chart"}clone(){return new su({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};u([h({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:ga.write}})],Ji.prototype,"type",void 0),Ji=su=u([v("esri.popup.content.ColumnChartMediaInfo")],Ji);const Oy=Ji;var iu;let is=iu=class extends N{constructor(e){super(e),this.linkURL=null,this.sourceURL=null}clone(){return new iu({linkURL:this.linkURL,sourceURL:this.sourceURL})}};u([h({type:String,json:{write:!0}})],is.prototype,"linkURL",void 0),u([h({type:String,json:{write:!0}})],is.prototype,"sourceURL",void 0),is=iu=u([v("esri.popup.content.support.ImageMediaInfoValue")],is);const b5=is;var ou;let an=ou=class extends Xc{constructor(e){super(e),this.refreshInterval=null,this.type="image",this.value=null}clone(){return new ou({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?this.value.clone():null})}};u([h({type:Number,json:{write:!0}})],an.prototype,"refreshInterval",void 0),u([h({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],an.prototype,"type",void 0),u([h({type:b5,json:{write:!0}})],an.prototype,"value",void 0),an=ou=u([v("esri.popup.content.ImageMediaInfo")],an);const My=an;var au;let Yi=au=class extends ya{constructor(e){super(e),this.type="line-chart"}clone(){return new au({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};u([h({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:ga.write}})],Yi.prototype,"type",void 0),Yi=au=u([v("esri.popup.content.LineChartMediaInfo")],Yi);const Ey=Yi;var lu;let Ki=lu=class extends ya{constructor(e){super(e),this.type="pie-chart"}clone(){return new lu({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};u([h({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:ga.write}})],Ki.prototype,"type",void 0),Ki=lu=u([v("esri.popup.content.PieChartMediaInfo")],Ki);const Ay=Ki,Py={base:Xc,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":Ty,"column-chart":Oy,"line-chart":Ey,"pie-chart":Ay,image:My}};var uu;let Ve=uu=class extends pr{constructor(e){super(e),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(e){return e&&e.map(t=>t.type==="image"?My.fromJSON(t):t.type==="barchart"?Ty.fromJSON(t):t.type==="columnchart"?Oy.fromJSON(t):t.type==="linechart"?Ey.fromJSON(t):t.type==="piechart"?Ay.fromJSON(t):void 0).filter(Boolean)}writeMediaInfos(e,t){t.mediaInfos=e&&e.map(r=>r.toJSON())}clone(){return new uu(T({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};u([h()],Ve.prototype,"activeMediaInfoIndex",void 0),u([h({type:Object,json:{write:!0}})],Ve.prototype,"attributes",void 0),u([h({type:String,json:{write:!0}})],Ve.prototype,"description",void 0),u([h({types:[Py]})],Ve.prototype,"mediaInfos",void 0),u([he("mediaInfos")],Ve.prototype,"readMediaInfos",null),u([ee("mediaInfos")],Ve.prototype,"writeMediaInfos",null),u([h({type:String,json:{write:!0}})],Ve.prototype,"title",void 0),u([h({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],Ve.prototype,"type",void 0),Ve=uu=u([v("esri.popup.content.MediaContent")],Ve);const Bo=Ve;var cu;let os=cu=class extends N{constructor(e){super(e),this.field=null,this.order=null}clone(){return new cu({field:this.field,order:this.order})}};u([h({type:String,json:{write:!0}})],os.prototype,"field",void 0),u([h({type:["asc","desc"],json:{write:!0}})],os.prototype,"order",void 0),os=cu=u([v("esri.popup.support.RelatedRecordsInfoFieldOrder")],os);const Ny=os;let at=class extends Xr(pr){constructor(t){super(t),this.description=null,this.displayCount=null,this.displayType="list",this.orderByFields=null,this.relationshipId=null,this.title=null,this.type="relationship"}};u([h({type:String,json:{write:!0}})],at.prototype,"description",void 0),u([h({type:Number,json:{type:we,write:!0}})],at.prototype,"displayCount",void 0),u([h({type:["list"],json:{write:!0}})],at.prototype,"displayType",void 0),u([h({type:[Ny],json:{write:!0}})],at.prototype,"orderByFields",void 0),u([h({type:Number,json:{type:we,write:!0}})],at.prototype,"relationshipId",void 0),u([h({type:String,json:{write:!0}})],at.prototype,"title",void 0),u([h({type:["relationship"],readOnly:!0,json:{read:!1,write:!0}})],at.prototype,"type",void 0),at=u([v("esri.popup.content.RelationshipContent")],at);const Wo=at;var hu;let as=hu=class extends pr{constructor(e){super(e),this.text=null,this.type="text"}clone(){return new hu({text:this.text})}};u([h({type:String,json:{write:!0}})],as.prototype,"text",void 0),u([h({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],as.prototype,"type",void 0),as=hu=u([v("esri.popup.content.TextContent")],as);const Ho=as,$5={base:null,key:"type",typeMap:{attachment:qo,media:Bo,text:Ho,expression:Qc,field:Vo,relationship:Wo}};var du;let Tr=du=class extends N{constructor(e){super(e),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new du({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};u([h({type:String,json:{write:!0}})],Tr.prototype,"name",void 0),u([h({type:String,json:{write:!0}})],Tr.prototype,"title",void 0),u([h({type:String,json:{write:!0}})],Tr.prototype,"expression",void 0),u([h({type:["string","number"],json:{write:!0}})],Tr.prototype,"returnType",void 0),Tr=du=u([v("esri.popup.ExpressionInfo")],Tr);const _5=Tr;var fu;let ls=fu=class extends N{constructor(e){super(e),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new fu({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};u([h({type:Boolean,json:{write:!0}})],ls.prototype,"returnTopmostRaster",void 0),u([h({type:Boolean,json:{write:!0}})],ls.prototype,"showNoDataRecords",void 0),ls=fu=u([v("esri.popup.LayerOptions")],ls);const S5=ls;var pu;let us=pu=class extends N{constructor(e){super(e),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new pu({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?T(this.orderByFields):null})}};u([h({type:Boolean,json:{write:!0}})],us.prototype,"showRelatedRecords",void 0),u([h({type:[Ny],json:{write:!0}})],us.prototype,"orderByFields",void 0),us=pu=u([v("esri.popup.RelatedRecordsInfo")],us);const x5=us;var mu;let De=mu=class extends rm(Ae){constructor(e){super(e),this.active=!1,this.className=null,this.disabled=!1,this.icon=null,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new mu({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};u([h()],De.prototype,"active",void 0),u([h()],De.prototype,"className",void 0),u([h()],De.prototype,"disabled",void 0),u([h()],De.prototype,"icon",void 0),u([h()],De.prototype,"id",void 0),u([h()],De.prototype,"indicator",void 0),u([h()],De.prototype,"title",void 0),u([h()],De.prototype,"type",void 0),u([h()],De.prototype,"visible",void 0),De=mu=u([v("esri.support.actions.ActionBase")],De);const eh=De;var yu;let Qi=yu=class extends eh{constructor(e){super(e),this.image=null,this.type="button"}clone(){return new yu({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};u([h()],Qi.prototype,"image",void 0),Qi=yu=u([v("esri.support.Action.ActionButton")],Qi);const T5=Qi;var gu;let cs=gu=class extends eh{constructor(e){super(e),this.image=null,this.type="toggle",this.value=!1}clone(){return new gu({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};u([h()],cs.prototype,"image",void 0),u([h()],cs.prototype,"value",void 0),cs=gu=u([v("esri.support.Action.ActionToggle")],cs);const O5=cs,M5="esri.PopupTemplate",E5=V.getLogger(M5),Kn="relationships/",Jd="expression/",A5=te.ofType({key:"type",defaultKeyValue:"button",base:eh,typeMap:{button:T5,toggle:O5}}),P5={base:pr,key:"type",typeMap:{media:Bo,custom:m5,text:Ho,attachments:qo,fields:Vo,expression:Qc,relationship:Wo}},N5=new Set(["attachments","fields","media","text","expression","relationship"]);let le=class extends Xr(N){constructor(){super(...arguments),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title=""}castContent(e){return Array.isArray(e)?e.map(t=>Vr(P5,t)):typeof e=="string"||typeof e=="function"||e instanceof HTMLElement||Zf(e)?e:(E5.error("content error","unsupported content value",{value:e}),null)}readContent(e,t){const{popupElements:r}=t;return Array.isArray(r)&&r.length>0?this._readPopupInfoElements(t.description,t.mediaInfos,r):this._readPopupInfo(t)}writeContent(e,t,r,n){typeof e!="string"?Array.isArray(e)&&(t.popupElements=e.filter(s=>N5.has(s.type)).map(s=>s==null?void 0:s.toJSON(n)),t.popupElements.forEach(s=>{s.type==="attachments"?this._writeAttachmentContent(t):s.type==="media"?this._writeMediaContent(s,t):s.type==="text"?this._writeTextContent(s,t):s.type==="relationship"&&this._writeRelationshipContent(s,t)})):t.description=e}writeFieldInfos(e,t,r,n){const{content:s}=this,o=Array.isArray(s)?s:null;if(e){const a=o?o.filter(c=>c.type==="fields"):[],l=a.length&&a.every(c=>{var d;return(d=c.fieldInfos)==null?void 0:d.length});t.fieldInfos=e.filter(Boolean).map(c=>{const d=c.toJSON(n);return l&&(d.visible=!1),d})}if(o)for(const a of o)a.type==="fields"&&this._writeFieldsContent(a,t)}writeLayerOptions(e,t,r,n){t[r]=!e||e.showNoDataRecords===null&&e.returnTopmostRaster===null?null:e.toJSON(n)}writeTitle(e,t){t.title=e||""}async collectRequiredFields(e,t){const r=this.expressionInfos||[];await this._collectExpressionInfoFields(e,t,[...r,...this._getContentExpressionInfos(this.content,r)]),Vs(e,t,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(e){const t=new Set;return await this.collectRequiredFields(t,e),[...t].sort()}_writeFieldsContent(e,t){if(!Array.isArray(e.fieldInfos)||!e.fieldInfos.length)return;const r=T(e.fieldInfos);Array.isArray(t.fieldInfos)?r.forEach(n=>{const s=t.fieldInfos.find(o=>o.fieldName.toLowerCase()===n.fieldName.toLowerCase());s?s.visible=!0:t.fieldInfos.push(n)}):t.fieldInfos=r}_writeAttachmentContent(e){e.showAttachments||(e.showAttachments=!0)}_writeRelationshipContent(e,t){var s,o;const r=((s=e.orderByFields)==null?void 0:s.map(a=>this._toFieldOrderJSON(a,e.relationshipId)))||[],n=[...((o=t.relatedRecordsInfo)==null?void 0:o.orderByFields)||[],...r];t.relatedRecordsInfo={showRelatedRecords:!0,...(n==null?void 0:n.length)&&{orderByFields:n}}}_writeTextContent(e,t){!t.description&&e.text&&(t.description=e.text)}_writeMediaContent(e,t){if(!Array.isArray(e.mediaInfos)||!e.mediaInfos.length)return;const r=T(e.mediaInfos);Array.isArray(t.mediaInfos)?t.mediaInfos=[...t.mediaInfos,...r]:t.mediaInfos=r}_readPopupInfoElements(e,t,r){const n={description:!1,mediaInfos:!1};return r.map(s=>s.type==="media"?(s.mediaInfos||!t||n.mediaInfos||(s.mediaInfos=t,n.mediaInfos=!0),Bo.fromJSON(s)):s.type==="text"?(s.text||!e||n.description||(s.text=e,n.description=!0),Ho.fromJSON(s)):s.type==="attachments"?qo.fromJSON(s):s.type==="fields"?Vo.fromJSON(s):s.type==="expression"?Qc.fromJSON(s):s.type==="relationship"?Wo.fromJSON(s):void 0).filter(Boolean)}_toRelationshipContent(e){const{field:t,order:r}=e;if(!(t!=null&&t.startsWith(Kn)))return null;const n=t.replace(Kn,"").split("/");if(n.length!==2)return null;const s=parseInt(n[0],10),o=n[1];return typeof s=="number"&&o?Wo.fromJSON({relationshipId:s,orderByFields:[{field:o,order:r}]}):null}_toFieldOrderJSON(e,t){const{order:r,field:n}=e;return{field:`${Kn}${t}/${n}`,order:r}}_readPopupInfo({description:e,mediaInfos:t,showAttachments:r,relatedRecordsInfo:n={showRelatedRecords:!1}}){const s=[];e?s.push(new Ho({text:e})):s.push(new Vo),Array.isArray(t)&&t.length&&s.push(Bo.fromJSON({mediaInfos:t})),r&&s.push(qo.fromJSON({displayType:"auto"}));const{showRelatedRecords:o,orderByFields:a}=n;return o&&(a!=null&&a.length)&&a.forEach(l=>{const c=this._toRelationshipContent(l);c&&s.push(c)}),s.length?s:e}_getContentElementFields(e){const t=e==null?void 0:e.type;if(t==="attachments")return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description)];if(t==="custom")return e.outFields||[];if(t==="fields")return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description),...this._getFieldInfoFields(e.fieldInfos??this.fieldInfos)];if(t==="media"){const r=e.mediaInfos||[];return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description),...r.reduce((n,s)=>[...n,...this._getMediaInfoFields(s)],[])]}return t==="text"?this._extractFieldNames(e.text):[]}_getMediaInfoFields(e){const{caption:t,title:r,value:n}=e,s=n||{},{fields:o,normalizeField:a,tooltipField:l,sourceURL:c,linkURL:d}=s,p=[...this._extractFieldNames(r),...this._extractFieldNames(t),...this._extractFieldNames(c),...this._extractFieldNames(d),...o??[]];return a&&p.push(a),l&&p.push(l),p}_getContentExpressionInfos(e,t){return Array.isArray(e)?e.reduce((r,n)=>[...r,...n.type==="expression"&&n.expressionInfo?[n.expressionInfo]:[]],t):[]}_getContentFields(e){return typeof e=="string"?this._extractFieldNames(e):Array.isArray(e)?e.reduce((t,r)=>[...t,...this._getContentElementFields(r)],[]):[]}async _collectExpressionInfoFields(e,t,r){r&&await Promise.all(r.map(n=>Kr(e,t,n.expression)))}_getFieldInfoFields(e){return e?e.filter(t=>t.visible===void 0||!!t.visible).map(t=>t.fieldName).filter(t=>!t.startsWith(Kn)&&!t.startsWith(Jd)):[]}_getActionsFields(e){return e?e.toArray().reduce((t,r)=>[...t,...this._getActionFields(r)],[]):[]}_getActionFields(e){const{className:t,title:r,type:n}=e,s=n==="button"||n==="toggle"?e.image:"";return[...this._extractFieldNames(r),...this._extractFieldNames(t),...this._extractFieldNames(s)]}_getTitleFields(e){return typeof e=="string"?this._extractFieldNames(e):[]}_extractFieldNames(e){if(!e||typeof e!="string")return[];const t=/{[^}]*}/g,r=e.match(t);if(!r)return[];const n=/\{(\w+):.+\}/,s=r.filter(o=>!(o.indexOf(`{${Kn}`)===0||o.indexOf(`{${Jd}`)===0)).map(o=>o.replace(n,"{$1}"));return s?s.map(o=>o.slice(1,-1)):[]}};u([h({type:A5})],le.prototype,"actions",void 0),u([h()],le.prototype,"content",void 0),u([Qs("content")],le.prototype,"castContent",null),u([he("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments","relatedRecordsInfo"])],le.prototype,"readContent",null),u([ee("content",{popupElements:{type:te.ofType($5)},showAttachments:{type:Boolean},mediaInfos:{type:te.ofType(Py)},description:{type:String},relatedRecordsInfo:{type:x5}})],le.prototype,"writeContent",null),u([h({type:[_5],json:{write:!0}})],le.prototype,"expressionInfos",void 0),u([h({type:[xy]})],le.prototype,"fieldInfos",void 0),u([ee("fieldInfos")],le.prototype,"writeFieldInfos",null),u([h({type:S5})],le.prototype,"layerOptions",void 0),u([ee("layerOptions")],le.prototype,"writeLayerOptions",null),u([h({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],le.prototype,"lastEditInfoEnabled",void 0),u([h()],le.prototype,"outFields",void 0),u([h()],le.prototype,"overwriteActions",void 0),u([h()],le.prototype,"returnGeometry",void 0),u([h({json:{type:String}})],le.prototype,"title",void 0),u([ee("title")],le.prototype,"writeTitle",null),le=u([v("esri.PopupTemplate")],le);const I5=le,Yd=new It({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let C5=0,ln=class extends N{constructor(t){super(t),this.id="sym"+C5++,this.type=null,this.color=new Y([0,0,0,1])}readColor(t){return(t==null?void 0:t[0])!=null?[t[0],t[1],t[2],t[3]/255]:t}async collectRequiredFields(t,r){}hash(){return JSON.stringify(this.toJSON())}clone(){}};u([h({type:Yd.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:Yd.write}}})],ln.prototype,"type",void 0),u([h({type:Y,json:{write:{allowNull:!0}}})],ln.prototype,"color",void 0),u([he("color")],ln.prototype,"readColor",null),ln=u([v("esri.symbols.Symbol")],ln);const Pe=ln;var wu;let Zt=wu=class extends Pe{constructor(e){super(e),this.data=null,this.type="cim"}readData(e,t){return t}writeData(e,t){Object.assign(t,e)}async collectRequiredFields(e,t){var r;if(((r=this.data)==null?void 0:r.type)==="CIMSymbolReference"){const n=this.data.primitiveOverrides;if(n){const s=n.map(o=>{const a=o.valueExpressionInfo;return Kr(e,t,a.expression)});await Promise.all(s)}}}clone(){return new wu({data:T(this.data)})}hash(){return Of(JSON.stringify(this.data)).toString()}};u([h({json:{write:!1}})],Zt.prototype,"color",void 0),u([h({json:{write:!0}})],Zt.prototype,"data",void 0),u([he("data",["symbol"])],Zt.prototype,"readData",null),u([ee("data",{})],Zt.prototype,"writeData",null),u([k({CIMSymbolReference:"cim"},{readOnly:!0})],Zt.prototype,"type",void 0),Zt=wu=u([v("esri.symbols.CIMSymbol")],Zt);const wa=Zt;let un=class extends N{constructor(t){super(t),this.enabled=!0,this.type=null,this.ignoreDrivers=!1}writeEnabled(t,r,n){t||(r[n]=t)}};u([h({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],un.prototype,"enabled",void 0),u([ee("enabled")],un.prototype,"writeEnabled",null),u([h({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0})],un.prototype,"type",void 0),un=u([v("esri.symbols.Symbol3DLayer")],un);const gt=un;function k5(e,t){const r=t.transparency!=null?Tb(t.transparency):1,n=t.color;return n&&Array.isArray(n)?new Y([n[0]||0,n[1]||0,n[2]||0,r]):null}function D5(e,t){t.color=e.toJSON().slice(0,3);const r=xb(e.a);r!==0&&(t.transparency=r)}const mr={type:Y,json:{type:[we],default:null,read:{source:["color","transparency"],reader:k5},write:{target:{color:{type:[we]},transparency:{type:we}},writer:D5}}},mt={type:Number,cast:Q,json:{write:!0}};let Or=class extends N{constructor(t){super(t),this.color=new Y([0,0,0,1]),this.extensionLength=0,this.size=Jr(1)}clone(){}cloneProperties(){return{color:T(this.color),size:this.size,extensionLength:this.extensionLength}}};u([h({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Or.prototype,"type",void 0),u([h(mr)],Or.prototype,"color",void 0),u([h({...mt,json:{write:{overridePolicy:e=>({enabled:!!e})}}})],Or.prototype,"extensionLength",void 0),u([h(mt)],Or.prototype,"size",void 0),Or=u([v("esri.symbols.edges.Edges3D")],Or);const th=Or;var vu;let Xi=vu=class extends th{constructor(e){super(e),this.type="sketch"}clone(){return new vu(this.cloneProperties())}};u([k({sketch:"sketch"},{readOnly:!0})],Xi.prototype,"type",void 0),Xi=vu=u([v("esri.symbols.edges.SketchEdges3D")],Xi);const R5=Xi;var bu;let eo=bu=class extends th{constructor(e){super(e),this.type="solid"}clone(){return new bu(this.cloneProperties())}};u([k({solid:"solid"},{readOnly:!0})],eo.prototype,"type",void 0),eo=bu=u([v("esri.symbols.support.SolidEdges3D")],eo);const F5=eo,Iy={types:{key:"type",base:th,typeMap:{solid:F5,sketch:R5}},json:{write:!0}};var $u;let je=$u=class extends N{constructor(e){super(e),this.color=null}clone(){const e={color:this.color!=null?this.color.clone():null};return new $u(e)}};u([h(mr)],je.prototype,"color",void 0),je=$u=u([v("esri.symbols.support.Symbol3DMaterial")],je);var _u;let Jt=_u=class extends gt{constructor(e){super(e),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){return new _u({edges:this.edges&&this.edges.clone(),enabled:this.enabled,material:this.material!=null?this.material.clone():null,castShadows:this.castShadows,size:this.size})}};u([k({Extrude:"extrude"},{readOnly:!0})],Jt.prototype,"type",void 0),u([h({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],Jt.prototype,"size",void 0),u([h({type:je,json:{write:!0}})],Jt.prototype,"material",void 0),u([h({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Jt.prototype,"castShadows",void 0),u([h(Iy)],Jt.prototype,"edges",void 0),Jt=_u=u([v("esri.symbols.ExtrudeSymbol3DLayer")],Jt);const Cy=Jt;let hs=class extends Pe{constructor(t){super(t),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};u([k({esriSLS:"simple-line"},{readOnly:!0})],hs.prototype,"type",void 0),u([h({type:Number,cast:Q,json:{write:!0}})],hs.prototype,"width",void 0),hs=u([v("esri.symbols.LineSymbol")],hs);const L5=hs,j5=["begin","end","begin-end"],ky=["arrow","circle","square","diamond","cross","x"];var Su;let lt=Su=class extends N{constructor(e){super(e),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(e,t,r,n){t[r]=(n==null?void 0:n.origin)==="web-map"?"arrow":e}set color(e){this._set("color",e)}readColor(e){return(e==null?void 0:e[0])!=null?[e[0],e[1],e[2],e[3]/255]:e}writeColor(e,t,r,n){(n==null?void 0:n.origin)==="web-map"||(t[r]=e)}clone(){return new Su({color:T(this.color),placement:this.placement,style:this.style})}hash(){var e;return`${this.placement}.${(e=this.color)==null?void 0:e.hash()}.${this.style}`}};u([h({type:["begin","end","begin-end"],json:{write:!0}})],lt.prototype,"placement",void 0),u([k({"line-marker":"line-marker"},{readOnly:!0}),h({json:{origins:{"web-map":{write:!1}}}})],lt.prototype,"type",void 0),u([h({type:ky})],lt.prototype,"style",void 0),u([ee("style")],lt.prototype,"writeStyle",null),u([h({type:Y,value:null,json:{write:{allowNull:!0}}})],lt.prototype,"color",null),u([he("color")],lt.prototype,"readColor",null),u([ee("color")],lt.prototype,"writeColor",null),lt=Su=u([v("esri.symbols.LineSymbolMarker")],lt);const U5=lt;var xu;const Ja=new It({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSInsideFrame:"inside-frame",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let St=xu=class extends L5{constructor(...e){super(...e),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(e,t,r,n,s,o){if(e&&typeof e!="string")return e;const a={};return e!=null&&(a.style=e),t!=null&&(a.color=t),r!=null&&(a.width=Q(r)),n!=null&&(a.cap=n),s!=null&&(a.join=s),o!=null&&(a.miterLimit=Q(o)),a}clone(){var e;return new xu({color:T(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:(e=this.marker)==null?void 0:e.clone()})}hash(){var e,t;return`${super.hash()}.${(e=this.color)==null?void 0:e.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${(t=this.marker)==null?void 0:t.hash()}`}};u([k({esriSLS:"simple-line"},{readOnly:!0})],St.prototype,"type",void 0),u([h({type:Ja.apiValues,json:{read:Ja.read,write:Ja.write}})],St.prototype,"style",void 0),u([h({type:["butt","round","square"],json:{write:{overridePolicy:(e,t,r)=>({enabled:e!=="round"&&(r==null?void 0:r.origin)==null})}}})],St.prototype,"cap",void 0),u([h({type:["miter","round","bevel"],json:{write:{overridePolicy:(e,t,r)=>({enabled:e!=="round"&&(r==null?void 0:r.origin)==null})}}})],St.prototype,"join",void 0),u([h({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":U5}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],St.prototype,"marker",void 0),u([h({type:Number,json:{read:!1,write:!1}})],St.prototype,"miterLimit",void 0),St=xu=u([v("esri.symbols.SimpleLineSymbol")],St);const Ln=St;let ds=class extends Pe{constructor(t){super(t),this.outline=null,this.type=null}hash(){return`${this.type}.${this.outline&&this.outline.hash()}`}};u([h({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":Ln}},json:{default:null,write:!0}})],ds.prototype,"outline",void 0),u([h({type:["simple-fill","picture-fill"],readOnly:!0})],ds.prototype,"type",void 0),ds=u([v("esri.symbols.FillSymbol")],ds);const Dy=ds;let to=class extends N{constructor(t){super(t)}clone(){}};u([h({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],to.prototype,"type",void 0),to=u([v("esri.symbols.patterns.LinePattern3D")],to);const Ry=to,z5=["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"];var Tu;const G5=tt()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let fs=Tu=class extends Ry{constructor(e){super(e),this.type="style",this.style="solid"}clone(){const e={style:this.style};return new Tu(e)}};u([h({type:["style"]})],fs.prototype,"type",void 0),u([k(G5),h({type:z5})],fs.prototype,"style",void 0),fs=Tu=u([v("esri.symbols.patterns.LineStylePattern3D")],fs);const rh=fs;let ro=class extends N{constructor(t){super(t)}clone(){}};u([h({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],ro.prototype,"type",void 0),ro=u([v("esri.symbols.patterns.Pattern3D")],ro);const Fy=ro,q5=["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"];var Ou;let ps=Ou=class extends Fy{constructor(e){super(e),this.type="style",this.style="solid"}clone(){const e={style:this.style};return new Ou(e)}};u([h({type:["style"]})],ps.prototype,"type",void 0),u([h({type:q5,json:{read:!0,write:!0}})],ps.prototype,"style",void 0),ps=Ou=u([v("esri.symbols.patterns.StylePattern3D")],ps);const Ly=ps,V5={types:{key:"type",base:Fy,typeMap:{style:Ly}},json:{write:!0}},jy={types:{key:"type",base:Ry,typeMap:{style:rh}},json:{write:!0}},Ns=new Y("white");new Y("black");const B5=new Y([255,255,255,0]);function W5(e){return e.r===0&&e.g===0&&e.b===0}var Mu;let Is=Mu=class extends je{constructor(e){super(e),this.colorMixMode=null}clone(){const e={color:this.color!=null?this.color.clone():null,colorMixMode:this.colorMixMode};return new Mu(e)}};u([k({multiply:"multiply",replace:"replace",tint:"tint"})],Is.prototype,"colorMixMode",void 0),Is=Mu=u([v("esri.symbols.support.Symbol3DFillMaterial")],Is);function nh(e=K5){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function sh(e,t,r,n,s,o,a=nh()){return a[0]=e,a[1]=t,a[2]=r,a[3]=n,a[4]=s,a[5]=o,a}function RO(e,t){const r=isFinite(e[2])||isFinite(e[5]);return new yt(r?{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],zmin:e[2],zmax:e[5],spatialReference:t}:{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],spatialReference:t})}function FO(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[3]),e[4]=Math.max(e[4],t[4]),e[5]=Math.max(e[5],t[5])}function LO(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[0]),e[4]=Math.max(e[4],t[1]),e[5]=Math.max(e[5],t[2])}function H5(e){return e[0]>=e[3]?0:e[3]-e[0]}function Z5(e){return e[1]>=e[4]?0:e[4]-e[1]}function J5(e){return e[2]>=e[5]?0:e[5]-e[2]}function jO(e,t=[0,0,0]){return t[0]=H5(e),t[1]=Z5(e),t[2]=J5(e),t}function UO(e,t,r=e){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r!==e&&(r[3]=e[3],r[4]=e[4],r[5]=e[5]),r}function zO(e,t,r=e){return r[3]=t[0],r[4]=t[1],r[5]=t[2],r!==e&&(r[0]=e[0],r[1]=e[1],r[2]=e[2]),e}function Y5(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function GO(e){return e?Y5(e,Qd):nh(Qd)}function qO(e,t){return e[0]=t[0],e[1]=t[1],e[2]=Number.NEGATIVE_INFINITY,e[3]=t[2],e[4]=t[3],e[5]=Number.POSITIVE_INFINITY,e}function VO(e,t,r,n,s){return e[0]=t,e[1]=r,e[2]=Number.NEGATIVE_INFINITY,e[3]=n,e[4]=s,e[5]=Number.POSITIVE_INFINITY,e}function Kd(e){return e.length===6}function BO(e,t,r){if(e==null||t==null)return e===t;if(!Kd(e)||!Kd(t))return!1;if(r){for(let n=0;n<e.length;n++)if(!r(e[n],t[n]))return!1}else for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}const Qd=[1/0,1/0,1/0,-1/0,-1/0,-1/0],K5=[0,0,0,0,0,0];nh();const Q5=sh(-.5,-.5,-.5,.5,.5,.5),X5=sh(-.5,-.5,0,.5,.5,1),e6=sh(-.5,-.5,0,.5,.5,.5);function WO(e){switch(e){case"sphere":case"cube":case"diamond":return Q5;case"cylinder":case"cone":case"inverted-cone":return X5;case"tetrahedron":return e6;default:return}}const ih=["butt","square","round"],t6=[...ih,"none"],Uy=["miter","bevel","round"];var Eu;let Mr=Eu=class extends N{constructor(e){super(e),this.color=new Y([0,0,0,1]),this.size=Jr(1),this.pattern=null,this.patternCap="butt"}clone(){const e={color:this.color!=null?this.color.clone():null,size:this.size,pattern:this.pattern!=null?this.pattern.clone():null,patternCap:this.patternCap};return new Eu(e)}};u([h(mr)],Mr.prototype,"color",void 0),u([h(mt)],Mr.prototype,"size",void 0),u([h(jy)],Mr.prototype,"pattern",void 0),u([h({type:ih,json:{default:"butt",write:{overridePolicy(){return{enabled:this.pattern!=null}}}}})],Mr.prototype,"patternCap",void 0),Mr=Eu=u([v("esri.symbols.support.Symbol3DOutline")],Mr);var no;let xt=no=class extends gt{constructor(e){super(e),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const e={edges:this.edges!=null?this.edges.clone():null,enabled:this.enabled,material:this.material!=null?this.material.clone():null,pattern:this.pattern!=null?this.pattern.clone():null,castShadows:this.castShadows,outline:this.outline!=null?this.outline.clone():null};return new no(e)}static fromSimpleFillSymbol(e){var n,s,o;const t=e.outline&&e.outline.style&&e.outline.style!=="inside-frame"&&e.outline.style!=="solid"?new rh({style:e.outline.style}):null,r={size:((n=e.outline)==null?void 0:n.width)??0,color:(((s=e.outline)==null?void 0:s.color)??Ns).clone(),pattern:t};return t&&((o=e.outline)!=null&&o.cap)&&(r.patternCap=e.outline.cap),new no({material:new Is({color:(e.color??B5).clone()}),pattern:e.style&&e.style!=="solid"?new Ly({style:e.style}):null,outline:r})}};u([k({Fill:"fill"},{readOnly:!0})],xt.prototype,"type",void 0),u([h({type:Is,json:{write:!0}})],xt.prototype,"material",void 0),u([h(V5)],xt.prototype,"pattern",void 0),u([h({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],xt.prototype,"castShadows",void 0),u([h({type:Mr,json:{write:!0}})],xt.prototype,"outline",void 0),u([h(Iy)],xt.prototype,"edges",void 0),xt=no=u([v("esri.symbols.FillSymbol3DLayer")],xt);const oi=xt,r6=["none","underline","line-through"],n6=["normal","italic","oblique"],s6=["normal","lighter","bold","bolder"],zy={type:Number,cast:e=>{const t=hc(e);return t===0?1:aa(t,.1,4)},nonNullable:!0},i6=["left","right","center"],o6=["baseline","top","middle","bottom"],Gy={type:i6,nonNullable:!0},qy={type:o6,nonNullable:!0},HO=8;var Au;let Tt=Au=class extends N{constructor(e){super(e),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(e){return Q(e)}clone(){return new Au({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};u([h({type:r6,json:{default:"none",write:!0}})],Tt.prototype,"decoration",void 0),u([h({type:String,json:{write:!0}})],Tt.prototype,"family",void 0),u([h({type:Number,json:{write:{overridePolicy:(e,t,r)=>({enabled:!r||!r.textSymbol3D})}}})],Tt.prototype,"size",void 0),u([Qs("size")],Tt.prototype,"castSize",null),u([h({type:n6,json:{default:"normal",write:!0}})],Tt.prototype,"style",void 0),u([h({type:s6,json:{default:"normal",write:!0}})],Tt.prototype,"weight",void 0),Tt=Au=u([v("esri.symbols.Font")],Tt);const va=Tt;function ai(e,t){var n;const r=(n=t==null?void 0:t.url)==null?void 0:n.path;if(e&&r&&(e=Ks(e,r,{preserveProtocolRelative:!0}),t.portalItem&&t.readResourcePaths)){const s=E0(e,t.portalItem.itemUrl);s!=null&&a6.test(s)&&t.readResourcePaths.push(t.portalItem.resourceFromPath(s).path)}return Pu(e,t==null?void 0:t.portal)}function ba(e,t,r=Ws.YES){var s,o;if(e==null)return e;!Ye(e)&&(t!=null&&t.blockedRelativeUrls)&&t.blockedRelativeUrls.push(e);let n=Ks(e);if(t){const a=((s=t.verifyItemRelativeUrls)==null?void 0:s.rootPath)||((o=t.url)==null?void 0:o.path);if(a){const l=Pu(a,t.portal),c=Pu(n,t.portal);n=E0(c,l,l),n!=null&&n!==c&&n!==e&&t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.writtenUrls.push(n)}}return n=By(n,t==null?void 0:t.portal),Ye(n)&&(n=ur(n)),t!=null&&t.resources&&(t!=null&&t.portalItem)&&!Ye(n)&&!Cn(n)&&r===Ws.YES&&t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(n),compress:!1}),n}function oh(e,t,r){return ai(e,r)}function Bs(e,t,r,n){const s=ba(e,n);s!==void 0&&(t[r]=s)}const Vy=/\/items\/([^\/]+)\/resources\/(.*)/,a6=/^\.\/resources\//;function l6(e){const t=(e==null?void 0:e.match(Vy))??null;return(t==null?void 0:t[1])??null}function u6(e){const t=(e==null?void 0:e.match(Vy))??null;if(t==null)return null;const r=t[2],n=r.lastIndexOf("/");if(n===-1){const{path:a,extension:l}=Bh(r);return{prefix:null,filename:a,extension:l}}const{path:s,extension:o}=Bh(r.slice(n+1));return{prefix:r.slice(0,n),filename:s,extension:o}}function By(e,t){return t&&!t.isPortal&&t.urlKey&&t.customBaseUrl?wl(e,`${t.urlKey}.${t.customBaseUrl}`,t.portalHostname):e}function Pu(e,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return e;const r=`${t.urlKey}.${t.customBaseUrl}`,n=gc();return _n(n,`${n.scheme}://${r}`)?wl(e,t.portalHostname,r):wl(e,r,t.portalHostname)}var Ws;(function(e){e[e.YES=0]="YES",e[e.NO=1]="NO"})(Ws||(Ws={}));const ZO=Object.freeze(Object.defineProperty({__proto__:null,get MarkKeep(){return Ws},ensureMainOnlineDomain:By,fromJSON:ai,itemIdFromResourceUrl:l6,prefixAndFilenameFromResourceUrl:u6,read:oh,toJSON:ba,write:Bs},Symbol.toStringTag,{value:"Module"}));var Nu;const c6=tt()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let Er=Nu=class extends N{constructor(e){super(e)}readHref(e,t,r){return e?ai(e,r):t.dataURI}writeHref(e,t,r,n){e&&(Cn(e)?t.dataURI=e:(t.href=ba(e,n),Ye(t.href)&&(t.href=ur(t.href))))}clone(){return new Nu({href:this.href,primitive:this.primitive})}};u([h({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],Er.prototype,"href",void 0),u([he("href")],Er.prototype,"readHref",null),u([ee("href",{href:{type:String},dataURI:{type:String}})],Er.prototype,"writeHref",null),u([k(c6)],Er.prototype,"primitive",void 0),Er=Nu=u([v("esri.symbols.support.IconSymbol3DLayerResource")],Er);var Iu;let fn=Iu=class extends Ae{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new Iu({x:this.x,y:this.y})}};u([h({type:Number})],fn.prototype,"x",void 0),u([h({type:Number})],fn.prototype,"y",void 0),fn=Iu=u([v("esri.symbols.support.Symbol3DAnchorPosition2D")],fn);var Cu;let ms=Cu=class extends N{constructor(e){super(e),this.color=new Y([0,0,0,1]),this.size=Jr(1)}clone(){const e={color:this.color!=null?this.color.clone():null,size:this.size};return new Cu(e)}};u([h(mr)],ms.prototype,"color",void 0),u([h(mt)],ms.prototype,"size",void 0),ms=Cu=u([v("esri.symbols.support.Symbol3DIconOutline")],ms);var cn;const Wy="esri.symbols.IconSymbol3DLayer";let ut=cn=class extends gt{constructor(e){super(e),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=null,this.outline=null}clone(){return new cn({anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),enabled:this.enabled,material:this.material!=null?this.material.clone():null,outline:this.outline!=null?this.outline.clone():null,resource:this.resource&&this.resource.clone(),size:this.size})}static fromSimpleMarkerSymbol(e){const t=e.color||Ns,r=Xd(e),n=e.outline&&e.outline.width>0?{size:e.outline.width,color:(e.outline.color||Ns).clone()}:null;return new cn({size:e.size,resource:{primitive:d6(e.style)},material:{color:t},outline:n,anchor:r?"relative":void 0,anchorPosition:r})}static fromPictureMarkerSymbol(e){const t=!e.color||W5(e.color)?Ns:e.color,r=Xd(e);return new cn({size:e.width<=e.height?e.height:e.width,resource:{href:e.url},material:{color:t.clone()},anchor:r?"relative":void 0,anchorPosition:r})}static fromCIMSymbol(e){return new cn({resource:{href:A0({mediaType:"application/json",data:JSON.stringify(e.data)})}})}};function Xd(e){const t="width"in e?e.width:e.size,r="height"in e?e.height:e.size,n=ef(e.xoffset),s=ef(e.yoffset);return(n||s)&&t&&r?{x:-n/t,y:s/r}:null}function ef(e){return isFinite(e)?e:0}u([h({type:je,json:{write:!0}})],ut.prototype,"material",void 0),u([h({type:Er,json:{write:!0}})],ut.prototype,"resource",void 0),u([k({Icon:"icon"},{readOnly:!0})],ut.prototype,"type",void 0),u([h(mt)],ut.prototype,"size",void 0),u([k({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"}),h({json:{default:"center"}})],ut.prototype,"anchor",void 0),u([h({type:fn,json:{type:[Number],read:{reader:e=>new fn({x:e[0],y:e[1]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],ut.prototype,"anchorPosition",void 0),u([h({type:ms,json:{write:!0}})],ut.prototype,"outline",void 0),ut=cn=u([v(Wy)],ut);const h6={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function d6(e){return h6[e]||(V.getLogger(Wy).warn(`${e} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}const Lr=ut;let Ar=class extends Xr(N){constructor(t){super(t),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(t){return t!=null&&t.placement===this.placement&&t.style===this.style&&(this.color==null&&t.color==null||this.color!=null&&t.color!=null&&this.color.toJSON()===t.color.toJSON())}};u([h({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Ar.prototype,"type",void 0),u([h({type:j5,json:{default:"begin-end",write:!0}})],Ar.prototype,"placement",void 0),u([h({type:ky,json:{default:"arrow",write:!0}})],Ar.prototype,"style",void 0),u([h({type:Y,json:{type:[we],default:null,write:!0}})],Ar.prototype,"color",void 0),Ar=u([v("esri.symbols.LineStyleMarker3D")],Ar);const ku=Ar;var so;let ct=so=class extends gt{constructor(e){super(e),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=Jr(1),this.pattern=null,this.marker=null}clone(){const e={enabled:this.enabled,material:this.material!=null?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:this.pattern!=null?this.pattern.clone():null,marker:this.marker!=null?this.marker.clone():null};return new so(e)}static fromSimpleLineSymbol(e){var r;const t={enabled:!0,size:e.width??Jr(1),cap:e.cap||"butt",join:e.join||"miter",pattern:e.style&&e.style!=="inside-frame"?new rh({style:e.style}):null,material:new je({color:(e.color||Ns).clone()}),marker:e.marker?new ku({placement:e.marker.placement,style:e.marker.style,color:((r=e.marker.color)==null?void 0:r.clone())??null}):null};return new so(t)}};u([h({type:je,json:{write:!0}})],ct.prototype,"material",void 0),u([k({Line:"line"},{readOnly:!0})],ct.prototype,"type",void 0),u([h({type:Uy,json:{write:!0,default:"miter"}})],ct.prototype,"join",void 0),u([h({type:ih,json:{write:!0,default:"butt"}})],ct.prototype,"cap",void 0),u([h(mt)],ct.prototype,"size",void 0),u([h(jy)],ct.prototype,"pattern",void 0),u([h({types:{key:"type",base:ku,typeMap:{style:ku}},json:{write:!0}})],ct.prototype,"marker",void 0),ct=so=u([v("esri.symbols.LineSymbol3DLayer")],ct);const li=ct;var Du;const f6=tt()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let ys=Du=class extends N{clone(){return new Du({href:this.href,primitive:this.primitive})}};u([h({type:String,json:{read:oh,write:Bs}})],ys.prototype,"href",void 0),u([k(f6)],ys.prototype,"primitive",void 0),ys=Du=u([v("esri.symbols.support.ObjectSymbol3DLayerResource")],ys);var Ru;let Rr=Ru=class extends Ae{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new Ru({x:this.x,y:this.y,z:this.z})}};u([h({type:Number})],Rr.prototype,"x",void 0),u([h({type:Number})],Rr.prototype,"y",void 0),u([h({type:Number})],Rr.prototype,"z",void 0),Rr=Ru=u([v("esri.symbols.support.Symbol3DAnchorPosition3D")],Rr);var Fu;let me=Fu=class extends gt{constructor(e){super(e),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){var e,t,r;return new Fu({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:(e=this.anchorPosition)==null?void 0:e.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:((t=this.material)==null?void 0:t.clone())??null,castShadows:this.castShadows,resource:(r=this.resource)==null?void 0:r.clone(),width:this.width})}get isPrimitive(){return!this.resource||typeof this.resource.href!="string"}};u([h({type:je,json:{write:!0}})],me.prototype,"material",void 0),u([h({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],me.prototype,"castShadows",void 0),u([h({type:ys,json:{write:!0}})],me.prototype,"resource",void 0),u([k({Object:"object"},{readOnly:!0})],me.prototype,"type",void 0),u([h({type:Number,json:{write:!0}})],me.prototype,"width",void 0),u([h({type:Number,json:{write:!0}})],me.prototype,"height",void 0),u([h({type:Number,json:{write:!0}})],me.prototype,"depth",void 0),u([k({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"}),h({json:{default:"origin"}})],me.prototype,"anchor",void 0),u([h({type:Rr,json:{type:[Number],read:{reader:e=>new Rr({x:e[0],y:e[1],z:e[2]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y,e.z]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],me.prototype,"anchorPosition",void 0),u([h({type:Number,json:{write:!0}})],me.prototype,"heading",void 0),u([h({type:Number,json:{write:!0}})],me.prototype,"tilt",void 0),u([h({type:Number,json:{write:!0}})],me.prototype,"roll",void 0),u([h({readOnly:!0})],me.prototype,"isPrimitive",null),me=Fu=u([v("esri.symbols.ObjectSymbol3DLayer")],me);const ah=me;var Lu;let _e=Lu=class extends gt{constructor(e){super(e),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(e,t){return e??(t.height==null&&t.size!=null?t.size:void 0)}readHeight(e,t){return e??(t.width==null&&t.size!=null?t.size:void 0)}clone(){return new Lu({enabled:this.enabled,material:this.material!=null?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};u([h({type:je,json:{write:!0}})],_e.prototype,"material",void 0),u([h({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],_e.prototype,"castShadows",void 0),u([k({Path:"path"},{readOnly:!0})],_e.prototype,"type",void 0),u([h({type:["circle","quad"],json:{write:!0,default:"circle"}})],_e.prototype,"profile",void 0),u([h({type:Uy,json:{write:!0,default:"miter"}})],_e.prototype,"join",void 0),u([h({type:t6,json:{write:!0,default:"butt"}})],_e.prototype,"cap",void 0),u([h({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],_e.prototype,"width",void 0),u([he("width",["width","size","height"])],_e.prototype,"readWidth",null),u([h({type:Number,json:{write:!0}})],_e.prototype,"height",void 0),u([he("height",["height","size","width"])],_e.prototype,"readHeight",null),u([h({type:["center","bottom","top"],json:{write:!0,default:"center"}})],_e.prototype,"anchor",void 0),u([h({type:["heading","all"],json:{write:!0,default:"all"}})],_e.prototype,"profileRotation",void 0),_e=Lu=u([v("esri.symbols.PathSymbol3DLayer")],_e);const lh=_e;var ju;let pn=ju=class extends N{constructor(){super(...arguments),this.color=new Y([0,0,0,1]),this.size=0}clone(){const e={color:T(this.color),size:this.size};return new ju(e)}};u([h(mr)],pn.prototype,"color",void 0),u([h(mt)],pn.prototype,"size",void 0),pn=ju=u([v("esri.symbols.support.Symbol3DHalo")],pn);let Cs=class extends Xr(N){constructor(t){super(t),this.color=null}};u([h(mr)],Cs.prototype,"color",void 0),Cs=u([v("esri.symbols.support.Symbol3DTextBackground")],Cs);var io;let Te=io=class extends gt{constructor(e){super(e),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(e){e!=null&&this._userSize!=null&&(e.size=this._userSize),this._set("font",e)}writeFont(e,t,r,n){const s={...n,textSymbol3D:!0};t.font=e.write({},s),delete t.font.size}get size(){var e;return this._userSize!=null?this._userSize:((e=this.font)==null?void 0:e.size)!=null?this.font.size:9}set size(e){this._userSize=e,this.font!=null&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const e=new io({enabled:this.enabled,font:this.font&&T(this.font),halo:this.halo&&T(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:this.material!=null?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:T(this.background)});return e._userSize=this._userSize,e}static fromTextSymbol(e){return new io({font:e.font!=null?e.font.clone():new va,halo:p6(e.haloColor,e.haloSize),horizontalAlignment:e.horizontalAlignment,lineHeight:e.lineHeight,material:e.color?new je({color:e.color.clone()}):null,text:e.text,verticalAlignment:e.verticalAlignment,background:e.backgroundColor?new Cs({color:e.backgroundColor.clone()}):null})}};function p6(e,t){return e&&t!=null&&t>0?new pn({color:T(e),size:t}):null}u([h({type:va,json:{write:!0}})],Te.prototype,"font",null),u([ee("font")],Te.prototype,"writeFont",null),u([h({type:pn,json:{write:!0}})],Te.prototype,"halo",void 0),u([h({...Gy,json:{default:"center",write:!0}})],Te.prototype,"horizontalAlignment",void 0),u([h({...zy,json:{default:1,write:!0}})],Te.prototype,"lineHeight",void 0),u([h({type:je,json:{write:!0}})],Te.prototype,"material",void 0),u([h({type:Cs,json:{write:!0}})],Te.prototype,"background",void 0),u([h(mt)],Te.prototype,"size",null),u([h({type:String,json:{write:!0}})],Te.prototype,"text",void 0),u([k({Text:"text"},{readOnly:!0})],Te.prototype,"type",void 0),u([h({...qy,json:{default:"baseline",write:!0}})],Te.prototype,"verticalAlignment",void 0),Te=io=u([v("esri.symbols.TextSymbol3DLayer")],Te);const jn=Te;var Uu;let Yt=Uu=class extends gt{constructor(e){super(e),this.color=zu.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new Uu({color:T(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};u([h({type:Y,nonNullable:!0,json:{type:[we],write:(e,t,r)=>t[r]=e.toArray(Y.AlphaMode.UNLESS_OPAQUE),default:()=>zu.clone(),defaultEquals:e=>e.toCss(!0)===zu.toCss(!0)}})],Yt.prototype,"color",void 0),u([k({Water:"water"},{readOnly:!0})],Yt.prototype,"type",void 0),u([h({type:["small","medium","large"],json:{write:!0,default:"medium"}})],Yt.prototype,"waterbodySize",void 0),u([h({type:Number,json:{write:!0,default:null}})],Yt.prototype,"waveDirection",void 0),u([h({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],Yt.prototype,"waveStrength",void 0),Yt=Uu=u([v("esri.symbols.WaterSymbol3DLayer")],Yt);const zu=new Y([0,119,190]),Hy=Yt;var Gu;let Pr=Gu=class extends Ae{constructor(e){super(e),this.name=null,this.styleUrl=null,this.styleName=null,this.portal=null}clone(){return new Gu({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};u([h({type:String})],Pr.prototype,"name",void 0),u([h({type:String})],Pr.prototype,"styleUrl",void 0),u([h({type:String})],Pr.prototype,"styleName",void 0),u([h({type:oa})],Pr.prototype,"portal",void 0),Pr=Gu=u([v("esri.symbols.support.StyleOrigin")],Pr);const qu=Pr;var Vu;let ks=Vu=class extends Ae{constructor(){super(...arguments),this.url=""}clone(){return new Vu({url:this.url})}};u([h({type:String})],ks.prototype,"url",void 0),ks=Vu=u([v("esri.symbols.support.Thumbnail")],ks);const Zy={icon:Lr,object:ah,line:li,path:lh,fill:oi,extrude:Cy,text:jn,water:Hy},m6=te.ofType({base:gt,key:"type",typeMap:Zy,errorContext:"symbol-layer"});let ht=class extends Pe{constructor(e){super(e),this.styleOrigin=null,this.thumbnail=null,this.type=null;const t=this.__accessor__&&this.__accessor__.metadatas&&this.__accessor__.metadatas.symbolLayers,r=t==null?void 0:t.type,n=r||te;this._set("symbolLayers",new n)}get color(){return null}set color(e){this.constructed&&V.getLogger(this).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(e){A3(e,this._get("symbolLayers"))}readStyleOrigin(e,t,r){if(e.styleUrl&&e.name){const n=ai(e.styleUrl,r);return new qu({styleUrl:n,name:e.name})}if(e.styleName&&e.name)return new qu({portal:(r==null?void 0:r.portal)||oa.getDefault(),styleName:e.styleName,name:e.name});r!=null&&r.messages&&r.messages.push(new Ls("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:r,definition:e}))}writeStyleOrigin(e,t,r,n){if(e.styleUrl&&e.name){let s=ba(e.styleUrl,n);Ye(s)&&(s=ur(s)),t.styleOrigin={styleUrl:s,name:e.name}}else e.styleName&&e.name&&(e.portal&&(n!=null&&n.portal)&&!U2(e.portal.restUrl,n.portal.restUrl)?n!=null&&n.messages&&n.messages.push(new Ls("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):t.styleOrigin={styleName:e.styleName,name:e.name})}normalizeCtorArgs(e){return e instanceof gt||e&&Zy[e.type]?{symbolLayers:[e]}:Array.isArray(e)?{symbolLayers:e}:e}};u([h({json:{read:!1,write:!1}})],ht.prototype,"color",null),u([h({type:m6,nonNullable:!0,json:{write:!0}}),Qs(P3)],ht.prototype,"symbolLayers",null),u([h({type:qu})],ht.prototype,"styleOrigin",void 0),u([he("styleOrigin")],ht.prototype,"readStyleOrigin",null),u([ee("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],ht.prototype,"writeStyleOrigin",null),u([h({type:ks,json:{read:!1}})],ht.prototype,"thumbnail",void 0),u([h({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],ht.prototype,"type",void 0),ht=u([v("esri.symbols.Symbol3D")],ht);const ui=ht;let gs=class extends N{constructor(t){super(t),this.visible=!0}clone(){}};u([h({type:["line"],constructOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],gs.prototype,"type",void 0),u([h({readOnly:!0})],gs.prototype,"visible",void 0),gs=u([v("esri.symbols.callouts.Callout3D")],gs);const Jy=gs;var Bu;let oo=Bu=class extends N{constructor(e){super(e),this.color=new Y("white")}clone(){return new Bu({color:T(this.color)})}};u([h(mr)],oo.prototype,"color",void 0),oo=Bu=u([v("esri.symbols.callouts.LineCallout3DBorder")],oo);const y6=oo;var Wu;let Kt=Wu=class extends Jy{constructor(e){super(e),this.type="line",this.color=new Y([0,0,0,1]),this.size=Jr(1),this.border=null}get visible(){return this.size>0&&this.color!=null&&this.color.a>0}clone(){return new Wu({color:T(this.color),size:this.size,border:T(this.border)})}};u([k({line:"line"})],Kt.prototype,"type",void 0),u([h(mr)],Kt.prototype,"color",void 0),u([h(mt)],Kt.prototype,"size",void 0),u([h({type:y6,json:{write:!0}})],Kt.prototype,"border",void 0),u([h({readOnly:!0})],Kt.prototype,"visible",null),Kt=Wu=u([v("esri.symbols.callouts.LineCallout3D")],Kt);const Yy=Kt;function uh(e){if(!e)return!1;const t=e.verticalOffset;return!!t&&!(t.screenLength<=0||t.maxWorldLength!=null&&t.maxWorldLength<=0)}function Ky(e){if(!e||!e.supportsCallout||!e.supportsCallout())return!1;const t=e.callout;return!!t&&!!t.visible&&!!uh(e)}const Qy={types:{key:"type",base:Jy,typeMap:{line:Yy}},json:{write:!0}};var Hu;let hn=Hu=class extends N{constructor(e){super(e),this.screenLength=0,this.minWorldLength=0,this.maxWorldLength=null}clone(){return new Hu({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};u([h(mt)],hn.prototype,"screenLength",void 0),u([h({type:Number,nonNullable:!0,json:{write:!0,default:0}})],hn.prototype,"minWorldLength",void 0),u([h({type:Number,json:{write:!0}})],hn.prototype,"maxWorldLength",void 0),hn=Hu=u([v("esri.symbols.support.Symbol3DVerticalOffset")],hn);const ch=hn;var ao;const Xy=te.ofType({base:null,key:"type",typeMap:{text:jn}});let Qt=ao=class extends ui{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new Xy,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return Ky(this)}hasVisibleVerticalOffset(){return uh(this)}clone(){return new ao({styleOrigin:T(this.styleOrigin),symbolLayers:T(this.symbolLayers),thumbnail:T(this.thumbnail),callout:T(this.callout),verticalOffset:T(this.verticalOffset)})}static fromTextSymbol(e){return new ao({symbolLayers:new te([jn.fromTextSymbol(e)])})}};u([h({type:ch,json:{write:!0}})],Qt.prototype,"verticalOffset",void 0),u([h(Qy)],Qt.prototype,"callout",void 0),u([h({json:{read:!1,write:!1}})],Qt.prototype,"styleOrigin",void 0),u([h({type:Xy})],Qt.prototype,"symbolLayers",void 0),u([k({LabelSymbol3D:"label-3d"},{readOnly:!0})],Qt.prototype,"type",void 0),Qt=ao=u([v("esri.symbols.LabelSymbol3D")],Qt);const hh=Qt;var lo;const e1=te.ofType({base:null,key:"type",typeMap:{line:li,path:lh}}),g6=te.ofType({base:null,key:"type",typeMap:{line:li,path:lh}});let ws=lo=class extends ui{constructor(e){super(e),this.symbolLayers=new e1,this.type="line-3d"}clone(){return new lo({styleOrigin:T(this.styleOrigin),symbolLayers:T(this.symbolLayers),thumbnail:T(this.thumbnail)})}static fromSimpleLineSymbol(e){return new lo({symbolLayers:new te([li.fromSimpleLineSymbol(e)])})}};u([h({type:e1,json:{type:g6}})],ws.prototype,"symbolLayers",void 0),u([k({LineSymbol3D:"line-3d"},{readOnly:!0})],ws.prototype,"type",void 0),ws=lo=u([v("esri.symbols.LineSymbol3D")],ws);const dh=ws;let Xt=class extends Pe{constructor(t){super(t),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};u([h({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],Xt.prototype,"angle",void 0),u([h({type:["simple-marker","picture-marker"],readOnly:!0})],Xt.prototype,"type",void 0),u([h({type:Number,cast:Q,json:{write:!0}})],Xt.prototype,"xoffset",void 0),u([h({type:Number,cast:Q,json:{write:!0}})],Xt.prototype,"yoffset",void 0),u([h({type:Number,cast:e=>e==="auto"?e:Q(e),json:{write:!0}})],Xt.prototype,"size",void 0),Xt=u([v("esri.symbols.MarkerSymbol")],Xt);const t1=Xt;var uo;const r1=te.ofType({base:null,key:"type",typeMap:{fill:oi}});let vs=uo=class extends ui{constructor(e){super(e),this.symbolLayers=new r1,this.type="mesh-3d"}clone(){return new uo({styleOrigin:T(this.styleOrigin),symbolLayers:T(this.symbolLayers),thumbnail:T(this.thumbnail)})}static fromSimpleFillSymbol(e){return new uo({symbolLayers:new te([oi.fromSimpleFillSymbol(e)])})}};u([h({type:r1})],vs.prototype,"symbolLayers",void 0),u([k({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],vs.prototype,"type",void 0),vs=uo=u([v("esri.symbols.MeshSymbol3D")],vs);const fh=vs;function w6(e,t,r){return t.imageData?A0({mediaType:t.contentType||"image/png",isBase64:!0,data:t.imageData}):n1(t.url,r)}function n1(e,t){var r;return b6(t)&&!Ye(e)&&((r=t==null?void 0:t.layer)!=null&&r.parsedUrl)?$c(t.layer.parsedUrl.path,"images",e):ai(e,t)}function v6(e,t,r,n){if(Cn(e)){const s=zs(e);if(!s)return;t.contentType=s.mediaType,t.imageData=s.data,r&&r.imageData===t.imageData&&r.url&&Bs(r.url,t,"url",n)}else Bs(e,t,"url",n)}const s1={json:{read:{source:["imageData","url"],reader:w6},write:{writer(e,t,r,n){v6(e,t,this.source,n)}}}},i1={readOnly:!0,json:{read:{source:["imageData","url"],reader(e,t,r){const n={};return t.imageData&&(n.imageData=t.imageData),t.contentType&&(n.contentType=t.contentType),t.url&&(n.url=n1(t.url,r)),n}}}};function b6(e){var t,r;return!(e==null||e.origin!=="service"&&e.origin!=="portal-item"||((t=e.layer)==null?void 0:t.type)!=="feature"&&((r=e.layer)==null?void 0:r.type)!=="stream")}var Zu;let Re=Zu=class extends Dy{constructor(...e){super(...e),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(e,t,r,n){if(e&&typeof e!="string"&&e.imageData==null)return e;const s={};return e&&(s.url=e),t&&(s.outline=t),r!=null&&(s.width=Q(r)),n!=null&&(s.height=Q(n)),s}clone(){const e=new Zu({color:T(this.color),height:this.height,outline:this.outline&&this.outline.clone(),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return e._set("source",T(this.source)),e}hash(){var e;return`${super.hash()}.${(e=this.color)==null?void 0:e.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};u([k({esriPFS:"picture-fill"},{readOnly:!0})],Re.prototype,"type",void 0),u([h(s1)],Re.prototype,"url",void 0),u([h({type:Number,json:{write:!0}})],Re.prototype,"xscale",void 0),u([h({type:Number,json:{write:!0}})],Re.prototype,"yscale",void 0),u([h({type:Number,cast:Q,json:{write:!0}})],Re.prototype,"width",void 0),u([h({type:Number,cast:Q,json:{write:!0}})],Re.prototype,"height",void 0),u([h({type:Number,cast:Q,json:{write:!0}})],Re.prototype,"xoffset",void 0),u([h({type:Number,cast:Q,json:{write:!0}})],Re.prototype,"yoffset",void 0),u([h(i1)],Re.prototype,"source",void 0),Re=Zu=u([v("esri.symbols.PictureFillSymbol")],Re);const o1=Re;var Ju;let Be=Ju=class extends t1{constructor(...e){super(...e),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(e,t,r){if(e&&typeof e!="string"&&e.imageData==null)return e;const n={};return e&&(n.url=e),t!=null&&(n.width=Q(t)),r!=null&&(n.height=Q(r)),n}readHeight(e,t){return t.size||e}readWidth(e,t){return t.size||e}clone(){const e=new Ju({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return e._set("source",T(this.source)),e}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};u([h({json:{write:!1}})],Be.prototype,"color",void 0),u([k({esriPMS:"picture-marker"},{readOnly:!0})],Be.prototype,"type",void 0),u([h(s1)],Be.prototype,"url",void 0),u([h(i1)],Be.prototype,"source",void 0),u([h({type:Number,cast:Q,json:{write:!0}})],Be.prototype,"height",void 0),u([he("height",["height","size"])],Be.prototype,"readHeight",null),u([h({type:Number,cast:Q,json:{write:!0}})],Be.prototype,"width",void 0),u([h({json:{write:!1}})],Be.prototype,"size",void 0),Be=Ju=u([v("esri.symbols.PictureMarkerSymbol")],Be);const ph=Be;var Nr;const a1=te.ofType({base:null,key:"type",typeMap:{icon:Lr,object:ah,text:jn}});let Ir=Nr=class extends ui{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.symbolLayers=new a1,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const e of this.symbolLayers.items)switch(e.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return Ky(this)}hasVisibleVerticalOffset(){return uh(this)}clone(){return new Nr({verticalOffset:T(this.verticalOffset),callout:T(this.callout),styleOrigin:T(this.styleOrigin),symbolLayers:T(this.symbolLayers),thumbnail:T(this.thumbnail)})}static fromSimpleMarkerSymbol(e){return new Nr({symbolLayers:new te([Lr.fromSimpleMarkerSymbol(e)])})}static fromPictureMarkerSymbol(e){return new Nr({symbolLayers:new te([Lr.fromPictureMarkerSymbol(e)])})}static fromCIMSymbol(e){var n,s;if(((s=(n=e.data)==null?void 0:n.symbol)==null?void 0:s.type)!=="CIMPointSymbol")return null;const r=e.data.symbol;return new Nr(r!=null&&r.callout?{symbolLayers:new te([Lr.fromCIMSymbol(e)]),callout:new Yy({size:.5,color:new Y([0,0,0])}),verticalOffset:new ch({screenLength:40})}:{symbolLayers:new te([Lr.fromCIMSymbol(e)])})}static fromTextSymbol(e){return new Nr({symbolLayers:new te([jn.fromTextSymbol(e)])})}};u([h({type:ch,json:{write:!0}})],Ir.prototype,"verticalOffset",void 0),u([h(Qy)],Ir.prototype,"callout",void 0),u([h({type:a1,json:{origins:{"web-scene":{write:!0}}}})],Ir.prototype,"symbolLayers",void 0),u([k({PointSymbol3D:"point-3d"},{readOnly:!0})],Ir.prototype,"type",void 0),Ir=Nr=u([v("esri.symbols.PointSymbol3D")],Ir);const mh=Ir;var bs;const l1=te.ofType({base:null,key:"type",typeMap:{extrude:Cy,fill:oi,icon:Lr,line:li,object:ah,text:jn,water:Hy}});let $s=bs=class extends ui{constructor(e){super(e),this.symbolLayers=new l1,this.type="polygon-3d"}initialize(){const e=t=>{t.type==="line"&&co(V.getLogger(this),"LineSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use FillSymbol3DLayer.outline instead.",version:"4.28"}),t.type==="text"&&co(V.getLogger(this),"TextSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use Labels instead.",version:"4.28"})};for(const t of this.symbolLayers)e(t);this.addHandles(s$(()=>this.symbolLayers,"after-add",({item:t})=>e(t),o$))}clone(){return new bs({styleOrigin:T(this.styleOrigin),symbolLayers:T(this.symbolLayers),thumbnail:T(this.thumbnail)})}static fromJSON(e){var r;const t=new bs;if(t.read(e),t.symbolLayers.length===2&&t.symbolLayers.at(0).type==="fill"&&t.symbolLayers.at(1).type==="line"){const n=t.symbolLayers.at(0),s=t.symbolLayers.at(1);!s.enabled||(r=e.symbolLayers)!=null&&r[1]&&e.symbolLayers[1].enable===!1||(n.outline={size:s.size,color:s.material!=null?s.material.color:null}),t.symbolLayers.removeAt(1)}return t}static fromSimpleFillSymbol(e){return new bs({symbolLayers:new te([oi.fromSimpleFillSymbol(e)])})}};u([h({type:l1,json:{write:!0}})],$s.prototype,"symbolLayers",void 0),u([k({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],$s.prototype,"type",void 0),$s=bs=u([v("esri.symbols.PolygonSymbol3D")],$s);const yh=$s;var Yu;const Ya=new It({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let Cr=Yu=class extends Dy{constructor(...e){super(...e),this.color=new Y([0,0,0,.25]),this.outline=new Ln,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(e,t,r){if(e&&typeof e!="string")return e;const n={};return e&&(n.style=e),t&&(n.outline=t),r&&(n.color=r),n}clone(){return new Yu({color:T(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};u([h()],Cr.prototype,"color",void 0),u([h()],Cr.prototype,"outline",void 0),u([k({esriSFS:"simple-fill"},{readOnly:!0})],Cr.prototype,"type",void 0),u([h({type:Ya.apiValues,json:{read:Ya.read,write:Ya.write}})],Cr.prototype,"style",void 0),Cr=Yu=u([v("esri.symbols.SimpleFillSymbol")],Cr);const u1=Cr;var Ku;const Ka=new It({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let dt=Ku=class extends t1{constructor(...e){super(...e),this.color=new Y([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new Ln}normalizeCtorArgs(e,t,r,n){if(e&&typeof e!="string")return e;const s={};return e&&(s.style=e),t!=null&&(s.size=Q(t)),r&&(s.outline=r),n&&(s.color=n),s}writeColor(e,t){e&&this.style!=="x"&&this.style!=="cross"&&(t.color=e.toJSON()),e===null&&(t.color=null)}set path(e){this.style="path",this._set("path",e)}clone(){return new Ku({angle:this.angle,color:T(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){var e;return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${(e=this.outline)==null?void 0:e.hash()}`}};u([h()],dt.prototype,"color",void 0),u([ee("color")],dt.prototype,"writeColor",null),u([k({esriSMS:"simple-marker"},{readOnly:!0})],dt.prototype,"type",void 0),u([h()],dt.prototype,"size",void 0),u([h({type:Ka.apiValues,json:{read:Ka.read,write:Ka.write}})],dt.prototype,"style",void 0),u([h({type:String,json:{write:!0}})],dt.prototype,"path",null),u([h({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":Ln}},json:{default:null,write:!0}})],dt.prototype,"outline",void 0),dt=Ku=u([v("esri.symbols.SimpleMarkerSymbol")],dt);const gh=dt;var Qu;let H=Qu=class extends Pe{constructor(...e){super(...e),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new va,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(e,t,r){if(e&&typeof e!="string")return e;const n={};return e&&(n.text=e),t&&(n.font=t),r&&(n.color=r),n}writeLineWidth(e,t,r,n){n&&typeof n!="string"?n.origin:t[r]=e}castLineWidth(e){return Q(e)}writeLineHeight(e,t,r,n){n&&typeof n!="string"?n.origin:t[r]=e}clone(){return new Qu({angle:this.angle,backgroundColor:T(this.backgroundColor),borderLineColor:T(this.borderLineColor),borderLineSize:this.borderLineSize,color:T(this.color),font:this.font&&this.font.clone(),haloColor:T(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){var e,t,r;return`${(e=this.backgroundColor)==null?void 0:e.hash()}.${this.borderLineColor}.${this.borderLineSize}.${(t=this.color)==null?void 0:t.hash()}.${this.font&&this.font.hash()}.${(r=this.haloColor)==null?void 0:r.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};u([h({type:Y,json:{write:!0}})],H.prototype,"backgroundColor",void 0),u([h({type:Y,json:{write:!0}})],H.prototype,"borderLineColor",void 0),u([h({type:Number,json:{write:!0},cast:Q})],H.prototype,"borderLineSize",void 0),u([h({type:va,json:{write:!0}})],H.prototype,"font",void 0),u([h({...Gy,json:{write:!0}})],H.prototype,"horizontalAlignment",void 0),u([h({type:Boolean,json:{write:!0}})],H.prototype,"kerning",void 0),u([h({type:Y,json:{write:!0}})],H.prototype,"haloColor",void 0),u([h({type:Number,cast:Q,json:{write:!0}})],H.prototype,"haloSize",void 0),u([h({type:Boolean,json:{write:!0}})],H.prototype,"rightToLeft",void 0),u([h({type:Boolean,json:{write:!0}})],H.prototype,"rotated",void 0),u([h({type:String,json:{write:!0}})],H.prototype,"text",void 0),u([k({esriTS:"text"},{readOnly:!0})],H.prototype,"type",void 0),u([h({...qy,json:{write:!0}})],H.prototype,"verticalAlignment",void 0),u([h({type:Number,cast:Q,json:{write:!0}})],H.prototype,"xoffset",void 0),u([h({type:Number,cast:Q,json:{write:!0}})],H.prototype,"yoffset",void 0),u([h({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],H.prototype,"angle",void 0),u([h({type:Number,json:{write:!0}})],H.prototype,"width",void 0),u([h({type:Number})],H.prototype,"lineWidth",void 0),u([ee("lineWidth")],H.prototype,"writeLineWidth",null),u([Qs("lineWidth")],H.prototype,"castLineWidth",null),u([h(zy)],H.prototype,"lineHeight",void 0),u([ee("lineHeight")],H.prototype,"writeLineHeight",null),H=Qu=u([v("esri.symbols.TextSymbol")],H);const $a=H;var Xu;let We=Xu=class extends Pe{constructor(e){super(e),this.color=null,this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}get _fetchCacheKey(){const e=this.portal!=null?this.portal:oa.getDefault(),t=e.user?e.user.username:null;return`${this.styleName}:${this.styleUrl}:${this.name}:${t}:${e.url}`}read(e,t){this.portal=t==null?void 0:t.portal,super.read(e,t)}clone(){return new Xu({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(e){return this._fetchSymbol("webRef",e)}fetchCIMSymbol(e){return this._fetchSymbol("cimRef",e)}async _fetchSymbol(e,t){const r=t!=null?t.cache:null,n=r?this._fetchCacheKey:null;if(r!=null){const l=n&&r.get(n);if(l)return l.clone()}const{resolveWebStyleSymbol:s}=await pt(()=>import("./webStyleSymbolUtils-76e47141.js"),["./webStyleSymbolUtils-76e47141.js","./devEnvironmentUtils-4eab2a99.js","./jsonUtils-6741d81c.js","./layerUtils-a8920453.js","./styleUtils-957365ee.js","./index-e42a63f9.js"],import.meta.url);Ds(t);const o=s(this,{portal:this.portal},e,t);o.catch(l=>{V.getLogger(this).error("#fetchSymbol()","Failed to create symbol from style",l)});const a=await o;return e==="webRef"&&a.type==="point-3d"||e==="cimRef"&&a.type==="cim"?(r!=null&&r.set(n,a.clone()),a):null}};u([h({json:{write:!1}})],We.prototype,"color",void 0),u([h({type:String,json:{write:!0}})],We.prototype,"styleName",void 0),u([h({type:oa,json:{write:!1}})],We.prototype,"portal",void 0),u([h({type:String,json:{read:oh,write:Bs}})],We.prototype,"styleUrl",void 0),u([h({type:ks,json:{read:!1}})],We.prototype,"thumbnail",void 0),u([h({type:String,json:{write:!0}})],We.prototype,"name",void 0),u([k({styleSymbolReference:"web-style"},{readOnly:!0})],We.prototype,"type",void 0),u([h()],We.prototype,"_fetchCacheKey",null),We=Xu=u([v("esri.symbols.WebStyleSymbol")],We);const _a=We;function XO(e){if(!e)return!1;switch(e.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function eM(e){if(!e)return!1;switch(e.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}const wh={base:Pe,key:"type",typeMap:{"simple-fill":u1,"picture-fill":o1,"picture-marker":ph,"simple-line":Ln,"simple-marker":gh,text:$a,"label-3d":hh,"line-3d":dh,"mesh-3d":fh,"point-3d":mh,"polygon-3d":yh,"web-style":_a,cim:wa},errorContext:"symbol"},tM={base:Pe,key:"type",typeMap:{"picture-marker":ph,"simple-marker":gh,text:$a,"web-style":_a,cim:wa},errorContext:"symbol"},rM=c0({types:wh}),nM={base:Pe,key:"type",typeMap:{"simple-fill":u1,"picture-fill":o1,"picture-marker":ph,"simple-line":Ln,"simple-marker":gh,text:$a,"line-3d":dh,"mesh-3d":fh,"point-3d":mh,"polygon-3d":yh,"web-style":_a,cim:wa},errorContext:"symbol"},sM={base:Pe,key:"type",typeMap:{text:$a,"label-3d":hh},errorContext:"symbol"},iM={base:Pe,key:"type",typeMap:{"line-3d":dh,"mesh-3d":fh,"point-3d":mh,"polygon-3d":yh,"web-style":_a,cim:wa},errorContext:"symbol"},oM={base:Pe,key:"type",typeMap:{"label-3d":hh},errorContext:"symbol"},aM=Vr(wh);var ec;function $6(e){if(!e)return null;const t={};for(const r in e){const n=Xp(e[r]);n&&(t[r]=n)}return Object.keys(t).length!==0?t:null}function _6(e){if(e==null)return null;const t={};for(const r in e){const n=e[r];n&&(t[r]=n.toJSON())}return Object.keys(t).length!==0?t:null}let Oe=ec=class extends Xr(N){constructor(...e){super(...e),this.isAggregate=!1,this.layer=null,this.popupTemplate=null,this.sourceLayer=null,Object.defineProperty(this,"uid",{value:Ss(),configurable:!0})}normalizeCtorArgs(e,t,r,n){return e&&!e.declaredClass?e:{geometry:e,symbol:t,attributes:r,popupTemplate:n}}set aggregateGeometries(e){const t=this._get("aggregateGeometries");JSON.stringify(t)!==JSON.stringify(e)&&this._set("aggregateGeometries",e)}set attributes(e){const t=this._get("attributes");t!==e&&(this._set("attributes",e),this._notifyLayer("attributes",t,e))}set geometry(e){const t=this._get("geometry");t!==e&&(this._set("geometry",e),this._notifyLayer("geometry",t,e))}set symbol(e){const t=this._get("symbol");t!==e&&(this._set("symbol",e),this._notifyLayer("symbol",t,e))}set visible(e){const t=this._get("visible");t!==e&&(this._set("visible",e),this._notifyLayer("visible",t,e))}cloneShallow(){return new ec({aggregateGeometries:this.aggregateGeometries,attributes:this.attributes,geometry:this.geometry,isAggregate:this.isAggregate,layer:this.layer,popupTemplate:this.popupTemplate,sourceLayer:this.sourceLayer,symbol:this.symbol,visible:this.visible})}getEffectivePopupTemplate(e=!1){if(this.popupTemplate)return this.popupTemplate;for(const t of[this.sourceLayer,this.layer])if(t){if("popupTemplate"in t&&t.popupTemplate)return t.popupTemplate;if(e&&"defaultPopupTemplate"in t&&t.defaultPopupTemplate!=null)return t.defaultPopupTemplate}return null}getAttribute(e){var t;return(t=this.attributes)==null?void 0:t[e]}setAttribute(e,t){if(this.attributes){const r=this.getAttribute(e);this.attributes[e]=t,this._notifyLayer("attributes",r,t,e)}else this.attributes={[e]:t},this._notifyLayer("attributes",void 0,t,e)}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){var e;return{aggregateGeometries:_6(this.aggregateGeometries),geometry:this.geometry!=null?this.geometry.toJSON():null,symbol:this.symbol!=null?this.symbol.toJSON():null,attributes:yl(this.attributes)?this.attributes.toJSON():{...this.attributes},popupTemplate:((e=this.popupTemplate)==null?void 0:e.toJSON())??null}}notifyGeometryChanged(){this._notifyLayer("geometry",this.geometry,this.geometry)}notifyMeshTransformChanged(e={}){const{geometry:t}=this;if((t==null?void 0:t.type)==="mesh"){const r={origin:t.origin,transform:t.transform};this._notifyLayer("origin-transform",r,r,e.action)}}_notifyLayer(e,t,r,n){if(!this.layer||!("graphicChanged"in this.layer))return;const s={graphic:this,property:e,oldValue:t,newValue:r};e==="origin-transform"&&(s.action=n),e==="attributes"&&(s.attributeName=n),this.layer.graphicChanged(s)}};u([h({value:null,json:{read:$6}})],Oe.prototype,"aggregateGeometries",null),u([h({value:null})],Oe.prototype,"attributes",null),u([h({value:null,types:em,json:{read:Xp}})],Oe.prototype,"geometry",null),u([h({type:Boolean})],Oe.prototype,"isAggregate",void 0),u([h({clonable:"reference"})],Oe.prototype,"layer",void 0),u([h({type:I5})],Oe.prototype,"popupTemplate",void 0),u([h({clonable:"reference"})],Oe.prototype,"sourceLayer",void 0),u([h({value:null,types:wh})],Oe.prototype,"symbol",null),u([h({type:Boolean,value:!0})],Oe.prototype,"visible",null),Oe=ec=u([v("esri.Graphic")],Oe),function(e){e.generateUID=Ss}(Oe||(Oe={}));const lM=Oe;function uM(e,t){return t?{...t,query:{...e??{},...t.query}}:{query:e}}function cM(e){return typeof e=="string"?dr(e):T(e)}function S6(e,t,r){const n={};for(const s in e){if(s==="declaredClass")continue;const o=e[s];if(o!=null&&typeof o!="function")if(Array.isArray(o)){n[s]=[];for(let a=0;a<o.length;a++)n[s][a]=S6(o[a])}else if(typeof o=="object")if(o.toJSON){const a=o.toJSON(r==null?void 0:r[s]);n[s]=t?a:JSON.stringify(a)}else n[s]=t?o:JSON.stringify(o);else n[s]=o}return n}function hM(e){return{geometryType:e$(e[0]),geometries:e.map(t=>t.toJSON())}}function dM(e,t,r){const n=r$(t);return e.map(s=>{const o=n.fromJSON(s);return o.spatialReference=r,o})}const x6="randomUUID"in crypto;function T6(){if(x6)return crypto.randomUUID();const e=crypto.getRandomValues(new Uint16Array(8));e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768;const t=r=>e[r].toString(16).padStart(4,"0");return t(0)+t(1)+"-"+t(2)+"-"+t(3)+"-"+t(4)+"-"+t(5)+t(6)+t(7)}function fM(){return`{${T6()}}`}export{ur as $,Qe as A,kc as B,Xs as C,Ae as D,D4 as E,Jf as F,o$ as G,Dc as H,aa as I,b1 as J,x3 as K,A as L,Gc as M,fe as N,Qp as O,F4 as P,It as Q,N as R,yt as S,he as T,ee as U,te as V,Ds as W,Hf as X,Zx as Y,oa as Z,yT as _,u as a,Dt as a$,ip as a0,U2 as a1,dr as a2,Xr as a3,$ as a4,yy as a5,Ls as a6,Xp as a7,em as a8,xy as a9,cM as aA,Yp as aB,Kp as aC,Jp as aD,Kd as aE,VO as aF,p4 as aG,P1 as aH,Js as aI,Y as aJ,we as aK,ow as aL,NT as aM,Xe as aN,ia as aO,PT as aP,Fa as aQ,zs as aR,O2 as aS,ti as aT,ji as aU,xn as aV,Zp as aW,O4 as aX,Cb as aY,dn as aZ,Ts as a_,lO as aa,SO as ab,g5 as ac,Vo as ad,qo as ae,rO as af,uO as ag,wx as ah,Pn as ai,wi as aj,Jr as ak,s4 as al,ib as am,cr as an,fO as ao,i5 as ap,gO as aq,wO as ar,hO as as,qs as at,sy as au,yO as av,yl as aw,Q4 as ax,aS as ay,oc as az,Ys as b,wT as b$,Ui as b0,$n as b1,YT as b2,Cn as b3,ue as b4,zc as b5,Fc as b6,pO as b7,mO as b8,U4 as b9,Qa as bA,cf as bB,ZT as bC,K3 as bD,B0 as bE,W0 as bF,MT as bG,q0 as bH,V0 as bI,ei as bJ,k as bK,Bv as bL,Wv as bM,Hv as bN,Xv as bO,sb as bP,Op as bQ,Mp as bR,nb as bS,cb as bT,hb as bU,bp as bV,_v as bW,qv as bX,Ll as bY,Z3 as bZ,dO as b_,z4 as ba,Yr as bb,V4 as bc,q4 as bd,G4 as be,aO as bf,C as bg,Sl as bh,Z as bi,_l as bj,Tl as bk,Po as bl,Ea as bm,nh as bn,Qd as bo,E4 as bp,FO as bq,BO as br,Z4 as bs,$c as bt,sT as bu,eT as bv,x4 as bw,Nt as bx,V6 as by,Vf as bz,v as c,T4 as c$,e$ as c0,No as c1,a5 as c2,$O as c3,o5 as c4,bO as c5,t4 as c6,X0 as c7,Yw as c8,Fl as c9,vx as cA,T6 as cB,yx as cC,ea as cD,x0 as cE,rm as cF,Pe as cG,Ln as cH,ph as cI,gh as cJ,u1 as cK,l0 as cL,Qo as cM,oh as cN,ba as cO,Ws as cP,Rf as cQ,Ye as cR,l6 as cS,_c as cT,u6 as cU,Yx as cV,ZO as cW,ST as cX,j4 as cY,$a as cZ,w4 as c_,pp as ca,vp as cb,wv as cc,cv as cd,Dv as ce,J6 as cf,W2 as cg,_n as ch,xc as ci,Y6 as cj,P4 as ck,ai as cl,Xx as cm,eM as cn,ks as co,qu as cp,P6 as cq,I0 as cr,Zo as cs,fM as ct,vO as cu,uM as cv,S6 as cw,Rg as cx,jO as cy,WO as cz,Ct as d,Bs as d$,y4 as d0,dd as d1,Us as d2,Ks as d3,Qs as d4,q6 as d5,J4 as d6,xS as d7,NS as d8,Uo as d9,fh as dA,yh as dB,hh as dC,ui as dD,rM as dE,jx as dF,dM as dG,K6 as dH,L0 as dI,ag as dJ,hx as dK,m4 as dL,fp as dM,Ev as dN,H3 as dO,g1 as dP,j6 as dQ,F6 as dR,Av as dS,dx as dT,fv as dU,mv as dV,Lv as dW,Rc as dX,vv as dY,pv as dZ,mp as d_,Qr as da,Zf as db,Hx as dc,aT as dd,Af as de,r3 as df,wc as dg,ac as dh,S3 as di,qx as dj,Gx as dk,_3 as dl,gx as dm,fx as dn,c0 as dp,nM as dq,gT as dr,Of as ds,py as dt,K4 as du,wa as dv,Et as dw,_a as dx,mh as dy,dh as dz,de as e,vf as e$,X4 as e0,eO as e1,L4 as e2,B6 as e3,N4 as e4,gn as e5,K2 as e6,fr as e7,Bf as e8,JT as e9,sM as eA,oM as eB,Kr as eC,tt as eD,X6 as eE,XO as eF,pT as eG,ev as eH,je as eI,IT as eJ,qO as eK,Ss as eL,kT as eM,iT as eN,lg as eO,dc as eP,Sv as eQ,wp as eR,b4 as eS,S4 as eT,tM as eU,ap as eV,HT as eW,Zw as eX,WT as eY,Jw as eZ,wf as e_,i4 as ea,tp as eb,Ng as ec,Pw as ed,BT as ee,zT as ef,bf as eg,G0 as eh,E0 as ei,v1 as ej,hM as ek,ka as el,rx as em,f2 as en,w2 as eo,rl as ep,$2 as eq,zr as er,L6 as es,I6 as et,bn as eu,Ox as ev,Gr as ew,Ee as ex,Tb as ey,Q as ez,n$ as f,gf as f$,N6 as f0,d1 as f1,Q6 as f2,Y4 as f3,nc as f4,sc as f5,tO as f6,n4 as f7,XT as f8,Nn as f9,Nl as fA,A4 as fB,Y0 as fC,Mw as fD,kw as fE,ep as fF,UT as fG,C6 as fH,e4 as fI,Fv as fJ,Gf as fK,Qw as fL,Mv as fM,Do as fN,r4 as fO,Vs as fP,Vr as fQ,A6 as fR,w1 as fS,tv as fT,rv as fU,nv as fV,Kw as fW,jT as fX,TT as fY,Xw as fZ,_5 as f_,er as fa,C3 as fb,wh as fc,xb as fd,kt as fe,ri as ff,E as fg,ve as fh,gp as fi,md as fj,hc as fk,sh as fl,LO as fm,RO as fn,f as fo,ET as fp,bx as fq,$x as fr,Sa as fs,QT as ft,fa as fu,a4 as fv,M4 as fw,Bb as fx,h4 as fy,Nb as fz,lM as g,$l as g$,tT as g0,Wx as g1,J3 as g2,qh as g3,By as g4,W4 as g5,Jx as g6,T2 as g7,ra as g8,oT as g9,Z6 as gA,sa as gB,na as gC,bb as gD,X3 as gE,OT as gF,Sn as gG,AT as gH,q3 as gI,_T as gJ,z3 as gK,mS as gL,D6 as gM,aw as gN,CT as gO,nT as gP,Iy as gQ,xT as gR,z6 as gS,G6 as gT,U6 as gU,q2 as gV,mx as gW,yf as gX,iM as gY,x1 as gZ,aM as g_,_4 as ga,gg as gb,Ax as gc,Ex as gd,Px as ge,Mx as gf,R6 as gg,y1 as gh,v4 as gi,KT as gj,av as gk,I4 as gl,Kx as gm,Wf as gn,Wp as go,kb as gp,c4 as gq,qf as gr,A1 as gs,Ch as gt,Y5 as gu,kg as gv,Qx as gw,n3 as gx,z2 as gy,ma as gz,f1 as h,p1 as h$,cO as h0,nO as h1,iO as h2,sO as h3,oO as h4,_O as h5,px as h6,M6 as h7,$4 as h8,f4 as h9,Kc as hA,cd as hB,Al as hC,B4 as hD,E6 as hE,w5 as hF,y5 as hG,Bo as hH,Ho as hI,W6 as hJ,eh as hK,T5 as hL,O5 as hM,tg as hN,Dx as hO,Rx as hP,co as hQ,Fx as hR,ig as hS,l4 as hT,Sw as hU,xh as hV,zv as hW,i3 as hX,UO as hY,zO as hZ,yv as h_,Gb as ha,qb as hb,u4 as hc,lv as hd,vb as he,yp as hf,Ip as hg,GT as hh,cx as hi,cc as hj,hr as hk,E1 as hl,uc as hm,RT as hn,DT as ho,FT as hp,Vg as hq,Tx as hr,rT as hs,Ny as ht,o4 as hu,Ab as hv,d4 as hw,HO as hx,va as hy,g4 as hz,Cx as i,GO as i0,K as j,I5 as k,Ke as l,F3 as m,A3 as n,G as o,mT as p,T as q,e2 as r,V as s,P3 as t,Ci as u,s$ as v,R4 as w,Ko as x,h as y,re as z};
