import{q as H,e as g,h as O,i as P}from"./jsxFactory-CrT0-KGb.js";(function(e){if(typeof e.requestSubmit=="function")return;e.requestSubmit=function(n){n?(t(n,this),n.click()):(n=document.createElement("input"),n.type="submit",n.hidden=!0,this.appendChild(n),n.click(),this.removeChild(n))};function t(n,s){n instanceof HTMLElement||l(TypeError,"parameter 1 is not of type 'HTMLElement'"),n.type=="submit"||l(TypeError,"The specified element is not a submit button"),n.form==s||l(DOMException,"The specified element is not owned by this form element","NotFoundError")}function l(n,s,r){throw new n("Failed to execute 'requestSubmit' on 'HTMLFormElement': "+s+".",r)}})(HTMLFormElement.prototype);const v="hidden-form-input";function k(e){return"checked"in e}const C=new WeakMap,F=new WeakSet;function W(e,t){if(g(t.parentElement,"[form]"))return!0;const n="calciteInternalFormComponentRegister";let s=!1;return e.addEventListener(n,r=>{s=r.composedPath().some(a=>F.has(a)),r.stopPropagation()},{once:!0}),t.dispatchEvent(new CustomEvent(n,{bubbles:!0,composed:!0})),s}function J(e){const{formEl:t}=e;return t?(t.requestSubmit(),!0):!1}function K(e){e.formEl?.reset()}function Q(e){const{el:t,value:l}=e,n=A(e);if(!n||W(n,t))return;e.formEl=n,e.defaultValue=l,k(e)&&(e.defaultChecked=e.checked);const s=(e.onFormReset||p).bind(e);n.addEventListener("reset",s),C.set(e.el,s),F.add(t)}function A(e){const{el:t,form:l}=e;return l?H(t,{id:l}):g(t,"form")}function p(){if(k(this)){this.checked=this.defaultChecked;return}this.value=this.defaultValue}function U(e){const{el:t,formEl:l}=e;if(!l)return;const n=C.get(t);l.removeEventListener("reset",n),C.delete(t),e.formEl=null,F.delete(t)}const R=e=>{e.target.dispatchEvent(new CustomEvent("calciteInternalHiddenInputChange",{bubbles:!0}))},w=e=>e.removeEventListener("change",R);function N(e){const{el:t,formEl:l,name:n,value:s}=e,{ownerDocument:r}=t,a=t.querySelectorAll(`input[slot="${v}"]`);if(!l||!n){a.forEach(i=>{w(i),i.remove()});return}const d=Array.isArray(s)?s:[s],E=[],I=new Set;a.forEach(i=>{const o=d.find(D=>D==i.value);o!=null?(I.add(o),M(e,i,o)):E.push(i)});let u;d.forEach(i=>{if(I.has(i))return;let o=E.pop();o||(o=r.createElement("input"),o.slot=v),u||(u=r.createDocumentFragment()),u.append(o),o.addEventListener("change",R),M(e,o,i)}),u&&t.append(u),E.forEach(i=>{w(i),i.remove()})}function M(e,t,l){const{defaultValue:n,disabled:s,form:r,name:a,required:d}=e;t.defaultValue=n,t.disabled=s,t.name=a,t.required=d,t.tabIndex=-1,r?t.setAttribute("form",r):t.removeAttribute("form"),k(e)?(t.checked=e.checked,t.defaultChecked=e.defaultChecked,t.value=e.checked?l||"on":""):t.value=l||"",e.syncHiddenFormInput?.(t)}const X=({component:e})=>(N(e),O("slot",{name:v}));const q="calciteInternalLabelClick",y="calciteInternalLabelConnected",L="calciteInternalLabelDisconnected",S="calcite-label",b=new WeakMap,f=new WeakMap,h=new WeakMap,m=new WeakMap,c=new WeakSet,V=e=>{const{id:t}=e,l=t&&H(e,{selector:`${S}[for="${t}"]`});if(l)return l;const n=g(e,S);return!n||B(n,e)?null:n};function B(e,t){let l;const n="custom-element-ancestor-check",s=a=>{a.stopImmediatePropagation();const d=a.composedPath();l=d.slice(d.indexOf(t),d.indexOf(e))};return e.addEventListener(n,s,{once:!0}),t.dispatchEvent(new CustomEvent(n,{composed:!0,bubbles:!0})),e.removeEventListener(n,s),l.filter(a=>a!==t&&a!==e).filter(a=>a.tagName?.includes("-")).length>0}function $(e){const t=V(e.el);if(f.has(t)&&t===e.labelEl||!t&&c.has(e))return;const l=z.bind(e);if(t){e.labelEl=t;const n=b.get(t)||[];n.push(e),b.set(t,n.sort(x)),f.has(e.labelEl)||(f.set(e.labelEl,T),e.labelEl.addEventListener(q,T)),c.delete(e),document.removeEventListener(y,h.get(e)),m.set(e,l),document.addEventListener(L,l)}else c.has(e)||(l(),document.removeEventListener(L,m.get(e)))}function Y(e){if(c.delete(e),document.removeEventListener(y,h.get(e)),document.removeEventListener(L,m.get(e)),h.delete(e),m.delete(e),!e.labelEl)return;const t=b.get(e.labelEl);t.length===1&&(e.labelEl.removeEventListener(q,f.get(e.labelEl)),f.delete(e.labelEl)),b.set(e.labelEl,t.filter(l=>l!==e).sort(x)),e.labelEl=null}function x(e,t){return P(e.el,t.el)?-1:1}function Z(e){return e.label||e.labelEl?.textContent?.trim()||""}function T(e){const t=e.detail.sourceEvent.target,l=b.get(this),n=l.find(a=>a.el===t);if(l.includes(n))return;const r=l[0];r.disabled||r.onLabelClick(e)}function j(){c.has(this)&&$(this)}function z(){c.add(this);const e=h.get(this)||j.bind(this);h.set(this,e),document.addEventListener(y,e)}export{X as H,Q as a,U as b,$ as c,Y as d,A as f,Z as g,K as r,J as s};
