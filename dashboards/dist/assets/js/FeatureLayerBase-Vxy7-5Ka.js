import{a as e,y as t,c as p,Q as g,T as l,U as u,s as Ie,gz as ye,ht as Ne,q as V,fQ as ke,d4 as Ee,a3 as k,cY as q,ho as Be,hn as Le,R as Fe,V as ce,N as me,S as Ue}from"./uuid-De2V3pkO.js";import{i as Te,n as Ae}from"./Field-CpwGNSHU.js";import{f as Ce,a as Ge,S as Qe,T as We,d as Pe}from"./commonProperties-7y88ic0r.js";import{g as Ze,S as He,e as qe}from"./arcgisLayerUrl-DMpJLG2u.js";import{f as ze,U as Je,R as Ke,M as _e,C as Ye}from"./featureLayerUtils-JQb3hLRE.js";import{p as Xe}from"./LayerFloorInfo-DRZBdyCP.js";import{a as et}from"./serviceCapabilitiesUtils-BVYFxrwG.js";var z;let I=z=class extends g{constructor(i){super(i),this.expression=null,this.name=null,this.returnType="boolean",this.title=null}clone(){return new z({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};e([t({type:String,json:{write:!0}})],I.prototype,"expression",void 0),e([t({type:String,json:{write:!0}})],I.prototype,"name",void 0),e([t({type:["boolean","date","number","string"],json:{write:!0}})],I.prototype,"returnType",void 0),e([t({type:String,json:{write:!0}})],I.prototype,"title",void 0),I=z=e([p("esri.form.ExpressionInfo")],I);const tt=I;let E=class extends g{constructor(r){super(r),this.description=null,this.label=null,this.type=null,this.visibilityExpression=null}};e([t({type:String,json:{write:!0}})],E.prototype,"description",void 0),e([t({type:String,json:{write:!0}})],E.prototype,"label",void 0),e([t()],E.prototype,"type",void 0),e([t({type:String,json:{write:!0}})],E.prototype,"visibilityExpression",void 0),E=e([p("esri.form.elements.Element")],E);const D=E;var J;let B=J=class extends g{constructor(i){super(i),this.type=null}clone(){return new J({type:this.type})}};e([t({type:["attachment","audio","document","image","signature","video"],json:{write:!0}})],B.prototype,"type",void 0),B=J=e([p("esri.form.elements.inputs.AttachmentInput")],B);const it=B;var K;let F=K=class extends D{constructor(i){super(i),this.attachmentKeyword=null,this.editableExpression=null,this.input=null,this.type="attachment"}clone(){return new K({attachmentKeyword:this.attachmentKeyword,description:this.description,editableExpression:this.editableExpression,input:this.input,label:this.label,visibilityExpression:this.visibilityExpression})}};e([t({type:String,json:{write:!0}})],F.prototype,"attachmentKeyword",void 0),e([t({type:String,json:{write:!0}})],F.prototype,"editableExpression",void 0),e([t({type:it,json:{read:{source:"inputType"},write:{target:"inputType"}}})],F.prototype,"input",void 0),e([t({type:["attachment"],json:{read:!1,write:!0}})],F.prototype,"type",void 0),F=K=e([p("esri.form.elements.AttachmentElement")],F);const he=F;let L=class extends g{constructor(r){super(r),this.type=null}};e([t()],L.prototype,"type",void 0),L=e([p("esri.form.elements.inputs.Input")],L);const $=L;let N=class extends ${constructor(i){super(i),this.maxLength=null,this.minLength=0}};e([t({type:Number,json:{write:!0}})],N.prototype,"maxLength",void 0),e([t({type:Number,json:{write:!0}})],N.prototype,"minLength",void 0),N=e([p("esri.form.elements.inputs.TextInput")],N);const de=N;var _;let U=_=class extends de{constructor(i){super(i),this.type="barcode-scanner"}clone(){return new _({maxLength:this.maxLength,minLength:this.minLength})}};e([t({type:["barcode-scanner"],json:{read:!1,write:!0}})],U.prototype,"type",void 0),U=_=e([p("esri.form.elements.inputs.BarcodeScannerInput")],U);const rt=U;var Y;let T=Y=class extends ${constructor(i){super(i),this.noValueOptionLabel=null,this.showNoValueOption=!0,this.type="combo-box"}clone(){return new Y({showNoValueOption:this.showNoValueOption,noValueOptionLabel:this.noValueOptionLabel})}};e([t({type:String,json:{write:!0}})],T.prototype,"noValueOptionLabel",void 0),e([t({type:Boolean,json:{write:!0}})],T.prototype,"showNoValueOption",void 0),e([t({type:["combo-box"],json:{read:!1,write:!0}})],T.prototype,"type",void 0),T=Y=e([p("esri.form.elements.inputs.ComboBoxInput")],T);const ot=T;var X;function ve(i){return i??null}function fe(i){return i??null}let f=X=class extends ${constructor(i){super(i),this.max=null,this.min=null,this.type="date-picker"}readMax(i,r){return ve(r.max)}writeMax(i,r){r.max=fe(i)}readMin(i,r){return ve(r.min)}writeMin(i,r){r.min=fe(i)}clone(){return new X({max:this.max,min:this.min})}};e([t({type:String,json:{type:String,write:!0}})],f.prototype,"max",void 0),e([l("max")],f.prototype,"readMax",null),e([u("max")],f.prototype,"writeMax",null),e([t({type:String,json:{type:String,write:!0}})],f.prototype,"min",void 0),e([l("min")],f.prototype,"readMin",null),e([u("min")],f.prototype,"writeMin",null),e([t({type:["date-picker"],json:{read:!1,write:!0}})],f.prototype,"type",void 0),f=X=e([p("esri.form.elements.inputs.DatePickerInput")],f);const st=f;var ee;function G(i){return i??null}function Q(i){return i??null}let a=ee=class extends ${constructor(i){super(i),this.includeTimeOffset=!0,this.max=null,this.min=null,this.timeResolution="minutes",this.type="datetimeoffset-picker"}readMax(i,r){return G(r.max)}writeMax(i,r){r.max=Q(i)}readMin(i,r){return G(r.min)}writeMin(i,r){r.min=Q(i)}readTimeResolution(i,r){return G(r.timeResolution)}writeTimeResolution(i,r){r.timeResolution=Q(i)}clone(){return new ee({includeTimeOffset:this.includeTimeOffset,max:this.max,min:this.min,timeResolution:this.timeResolution})}};e([t({type:Boolean,json:{write:!0}})],a.prototype,"includeTimeOffset",void 0),e([t({type:String,json:{type:String,write:!0}})],a.prototype,"max",void 0),e([l("max")],a.prototype,"readMax",null),e([u("max")],a.prototype,"writeMax",null),e([t({type:String,json:{type:String,write:!0}})],a.prototype,"min",void 0),e([l("min")],a.prototype,"readMin",null),e([u("min")],a.prototype,"writeMin",null),e([t({type:String,json:{type:String,write:!0}})],a.prototype,"timeResolution",void 0),e([l("timeResolution")],a.prototype,"readTimeResolution",null),e([u("timeResolution")],a.prototype,"writeTimeResolution",null),e([t({type:["datetimeoffset-picker"],json:{read:!1,write:!0}})],a.prototype,"type",void 0),a=ee=e([p("esri.form.elements.inputs.DateTimeOffsetPickerInput")],a);const nt=a;var te;function we(i){return i!=null?new Date(i):null}function xe(i){return i?i.getTime():null}let h=te=class extends ${constructor(i){super(i),this.includeTime=!1,this.max=null,this.min=null,this.type="datetime-picker"}readMax(i,r){return we(r.max)}writeMax(i,r){r.max=xe(i)}readMin(i,r){return we(r.min)}writeMin(i,r){r.min=xe(i)}clone(){return new te({includeTime:this.includeTime,max:this.max,min:this.min})}};e([t({type:Boolean,json:{write:!0}})],h.prototype,"includeTime",void 0),e([t({type:Date,json:{type:Number,write:!0}})],h.prototype,"max",void 0),e([l("max")],h.prototype,"readMax",null),e([u("max")],h.prototype,"writeMax",null),e([t({type:Date,json:{type:Number,write:!0}})],h.prototype,"min",void 0),e([l("min")],h.prototype,"readMin",null),e([u("min")],h.prototype,"writeMin",null),e([t({type:["datetime-picker"],json:{read:!1,write:!0}})],h.prototype,"type",void 0),h=te=e([p("esri.form.elements.inputs.DateTimePickerInput")],h);const pt=h;var ie;let O=ie=class extends ${constructor(i){super(i),this.noValueOptionLabel=null,this.showNoValueOption=!0,this.type="radio-buttons"}clone(){return new ie({noValueOptionLabel:this.noValueOptionLabel,showNoValueOption:this.showNoValueOption})}};e([t({type:String,json:{write:!0}})],O.prototype,"noValueOptionLabel",void 0),e([t({type:Boolean,json:{write:!0}})],O.prototype,"showNoValueOption",void 0),e([t({type:["radio-buttons"],json:{read:!1,write:!0}})],O.prototype,"type",void 0),O=ie=e([p("esri.form.elements.inputs.RadioButtonsInput")],O);const lt=O;var re;let M=re=class extends ${constructor(i){super(i),this.offValue=null,this.onValue=null,this.type="switch"}clone(){return new re({offValue:this.offValue,onValue:this.onValue})}};e([t({type:[String,Number],json:{write:!0}})],M.prototype,"offValue",void 0),e([t({type:[String,Number],json:{write:!0}})],M.prototype,"onValue",void 0),e([t({type:["switch"],json:{read:!1,write:!0}})],M.prototype,"type",void 0),M=re=e([p("esri.form.elements.inputs.SwitchInput")],M);const at=M;var oe;let A=oe=class extends de{constructor(i){super(i),this.type="text-area"}clone(){return new oe({maxLength:this.maxLength,minLength:this.minLength})}};e([t({type:["text-area"],json:{read:!1,write:!0}})],A.prototype,"type",void 0),A=oe=e([p("esri.form.elements.inputs.TextAreaInput")],A);const ut=A;var se;let C=se=class extends de{constructor(i){super(i),this.type="text-box"}clone(){return new se({maxLength:this.maxLength,minLength:this.minLength})}};e([t({type:["text-box"],json:{read:!1,write:!0}})],C.prototype,"type",void 0),C=se=e([p("esri.form.elements.inputs.TextBoxInput")],C);const dt=C;var ne;function W(i){return i??null}function P(i){return i??null}let d=ne=class extends ${constructor(i){super(i),this.max=null,this.min=null,this.timeResolution="minutes",this.type="time-picker"}readMax(i,r){return W(r.max)}writeMax(i,r){r.max=P(i)}readMin(i,r){return W(r.min)}writeMin(i,r){r.min=P(i)}readTimeResolution(i,r){return W(r.timeResolution)}writeTimeResolution(i,r){r.timeResolution=P(i)}clone(){return new ne({max:this.max,min:this.min,timeResolution:this.timeResolution})}};e([t({type:String,json:{type:String,write:!0}})],d.prototype,"max",void 0),e([l("max")],d.prototype,"readMax",null),e([u("max")],d.prototype,"writeMax",null),e([t({type:String,json:{type:String,write:!0}})],d.prototype,"min",void 0),e([l("min")],d.prototype,"readMin",null),e([u("min")],d.prototype,"writeMin",null),e([t({type:String,json:{type:String,write:!0}})],d.prototype,"timeResolution",void 0),e([l("timeResolution")],d.prototype,"readTimeResolution",null),e([u("timeResolution")],d.prototype,"writeTimeResolution",null),e([t({type:["time-picker"],json:{read:!1,write:!0}})],d.prototype,"type",void 0),d=ne=e([p("esri.form.elements.inputs.TimePickerInput")],d);const yt=d,ct={base:$,key:"type",typeMap:{"barcode-scanner":rt,"combo-box":ot,"date-picker":st,"datetime-picker":pt,"datetimeoffset-picker":nt,"radio-buttons":lt,switch:at,"text-area":ut,"text-box":dt,"time-picker":yt}};var pe;const Oe="esri.form.elements.FieldElement",ge=Ie.getLogger(Oe);let y=pe=class extends D{constructor(i){super(i),this.domain=null,this.editableExpression=null,this.fieldName=null,this.hint=null,this.input=null,this.requiredExpression=null,this.type="field",this.valueExpression=null}get editable(){return ye(ge,"editable",{replacement:"editableExpression",version:"4.26",warnOnce:!0}),this._get("editable")??!0}set editable(i){ye(ge,"editable",{replacement:"editableExpression",version:"4.26",warnOnce:!0}),this._set("editable",i)}clone(){return new pe({description:this.description,domain:this.domain,editable:this.editable,editableExpression:this.editableExpression,fieldName:this.fieldName,hint:this.hint,input:this.input,label:this.label,requiredExpression:this.requiredExpression,valueExpression:this.valueExpression,visibilityExpression:this.visibilityExpression})}};e([t({types:Ae,json:{read:{reader:Te},write:!0}})],y.prototype,"domain",void 0),e([t({type:Boolean,json:{write:!0}})],y.prototype,"editable",null),e([t({type:String,json:{write:!0}})],y.prototype,"editableExpression",void 0),e([t({type:String,json:{write:!0}})],y.prototype,"fieldName",void 0),e([t({type:String,json:{write:!0}})],y.prototype,"hint",void 0),e([t({types:ct,json:{read:{source:"inputType"},write:{target:"inputType"}}})],y.prototype,"input",void 0),e([t({type:String,json:{write:!0}})],y.prototype,"requiredExpression",void 0),e([t({type:String,json:{read:!1,write:!0}})],y.prototype,"type",void 0),e([t({type:String,json:{write:!0}})],y.prototype,"valueExpression",void 0),y=pe=e([p(Oe)],y);const be=y;var le;let b=le=class extends D{constructor(i){super(i),this.displayCount=null,this.displayType="list",this.editableExpression=null,this.orderByFields=null,this.relationshipId=null,this.type="relationship"}clone(){return new le({description:this.description,displayCount:this.displayCount,displayType:this.displayType,editableExpression:this.editableExpression,label:this.label,orderByFields:V(this.orderByFields),relationshipId:this.relationshipId,visibilityExpression:this.visibilityExpression})}};e([t({type:Number,json:{write:!0}})],b.prototype,"displayCount",void 0),e([t({type:["list"],json:{write:!0}})],b.prototype,"displayType",void 0),e([t({type:String,json:{write:!0}})],b.prototype,"editableExpression",void 0),e([t({type:[Ne],json:{write:!0}})],b.prototype,"orderByFields",void 0),e([t({type:Number,json:{write:!0}})],b.prototype,"relationshipId",void 0),e([t({type:["relationship"],json:{read:!1,write:!0}})],b.prototype,"type",void 0),b=le=e([p("esri.form.elements.RelationshipElement")],b);const je=b;function Me(i){return{typesWithGroup:{base:D,key:"type",typeMap:{attachment:he,field:be,group:i,relationship:je}},typesWithoutGroup:{base:D,key:"type",typeMap:{attachment:he,field:be,relationship:je}}}}function Re(i,r,s=!0){if(!i)return null;const o=s?r.typesWithGroup.typeMap:r.typesWithoutGroup.typeMap;return i.filter((n=>o[n.type])).map((n=>o[n.type].fromJSON(n)))}function Ve(i,r,s=!0){if(!i)return null;const o=s?r.typesWithGroup.typeMap:r.typesWithoutGroup.typeMap;return i.filter((n=>o[n.type])).map((n=>n.toJSON()))}function De(i,r,s=!0){return i?i.map((o=>ke(s?r.typesWithGroup:r.typesWithoutGroup,o))):null}var ae;let w=ae=class extends D{constructor(i){super(i),this.elements=null,this.initialState="expanded",this.type="group"}castElements(i){return De(i,Z,!1)}readElements(i,r){return Re(r.formElements,Z,!1)}writeElements(i,r){r.formElements=Ve(i,Z,!1)}clone(){return new ae({description:this.description,elements:V(this.elements),initialState:this.initialState,label:this.label,visibilityExpression:this.visibilityExpression})}};e([t({json:{write:!0}})],w.prototype,"elements",void 0),e([Ee("elements")],w.prototype,"castElements",null),e([l("elements",["formElements"])],w.prototype,"readElements",null),e([u("elements")],w.prototype,"writeElements",null),e([t({type:["collapsed","expanded"],json:{write:!0}})],w.prototype,"initialState",void 0),e([t({type:String,json:{read:!1,write:!0}})],w.prototype,"type",void 0),w=ae=e([p("esri.form.elements.GroupElement")],w);const Z=Me(w),mt=w;var ue;const H=Me(mt);let v=ue=class extends g{constructor(i){super(i),this.description=null,this.elements=null,this.expressionInfos=null,this.preserveFieldValuesWhenHidden=!1,this.title=null}castElements(i){return De(i,H)}readElements(i,r){return Re(r.formElements,H)}writeElements(i,r){r.formElements=Ve(i,H)}clone(){return new ue({description:this.description,expressionInfos:V(this.expressionInfos),elements:V(this.elements),title:this.title,preserveFieldValuesWhenHidden:this.preserveFieldValuesWhenHidden})}};e([t({type:String,json:{write:!0}})],v.prototype,"description",void 0),e([t({json:{write:!0}})],v.prototype,"elements",void 0),e([Ee("elements")],v.prototype,"castElements",null),e([l("elements",["formElements"])],v.prototype,"readElements",null),e([u("elements")],v.prototype,"writeElements",null),e([t({type:[tt],json:{write:!0}})],v.prototype,"expressionInfos",void 0),e([t({type:Boolean,json:{default:!1,write:!0}})],v.prototype,"preserveFieldValuesWhenHidden",void 0),e([t({type:String,json:{write:!0}})],v.prototype,"title",void 0),v=ue=e([p("esri.form.FormTemplate")],v);const Tt=v;let j=class extends k(g){constructor(r){super(r),this.creatorField=null,this.creationDateField=null,this.editorField=null,this.editDateField=null,this.realm=null,this.timeZone=null}};e([t()],j.prototype,"creatorField",void 0),e([t()],j.prototype,"creationDateField",void 0),e([t()],j.prototype,"editorField",void 0),e([t()],j.prototype,"editDateField",void 0),e([t()],j.prototype,"realm",void 0),e([t(q("dateFieldsTimeReference",!0))],j.prototype,"timeZone",void 0),j=e([p("esri.layers.support.EditFieldsInfo")],j);const ht=j;let x=class extends k(g){constructor(r){super(r)}};e([t({constructOnly:!0,json:{write:!0}})],x.prototype,"name",void 0),e([t({constructOnly:!0,json:{write:!0}})],x.prototype,"fields",void 0),e([t({constructOnly:!0,json:{write:!0}})],x.prototype,"isAscending",void 0),e([t({constructOnly:!0,json:{write:!0}})],x.prototype,"indexType",void 0),e([t({constructOnly:!0,json:{write:!0}})],x.prototype,"isUnique",void 0),e([t({constructOnly:!0,json:{write:!0}})],x.prototype,"description",void 0),x=e([p("esri.layers.support.FeatureIndex")],x);let R=class extends k(g){constructor(r){super(r),this.shapeAreaField=null,this.shapeLengthField=null,this.units=null}};e([t({type:String,json:{read:{source:"shapeAreaFieldName"}}})],R.prototype,"shapeAreaField",void 0),e([t({type:String,json:{read:{source:"shapeLengthFieldName"}}})],R.prototype,"shapeLengthField",void 0),e([t({type:String,json:{read:i=>Be.read(i)||Le.read(i)}})],R.prototype,"units",void 0),R=e([p("esri.layers.support.GeometryFieldsInfo")],R);const vt=R,Se=new Fe({esriRelCardinalityOneToOne:"one-to-one",esriRelCardinalityOneToMany:"one-to-many",esriRelCardinalityManyToMany:"many-to-many"}),$e=new Fe({esriRelRoleOrigin:"origin",esriRelRoleDestination:"destination"});let c=class extends k(g){constructor(i){super(i),this.cardinality=null,this.composite=null,this.id=null,this.keyField=null,this.keyFieldInRelationshipTable=null,this.name=null,this.relatedTableId=null,this.relationshipTableId=null,this.role=null}};e([t({json:{read:Se.read,write:Se.write}})],c.prototype,"cardinality",void 0),e([t({json:{read:!0,write:!0}})],c.prototype,"composite",void 0),e([t({json:{read:!0,write:!0}})],c.prototype,"id",void 0),e([t({json:{read:!0,write:!0}})],c.prototype,"keyField",void 0),e([t({json:{read:!0,write:!0}})],c.prototype,"keyFieldInRelationshipTable",void 0),e([t({json:{read:!0,write:!0}})],c.prototype,"name",void 0),e([t({json:{read:!0,write:!0}})],c.prototype,"relatedTableId",void 0),e([t({json:{read:!0,write:!0}})],c.prototype,"relationshipTableId",void 0),e([t({json:{read:$e.read,write:$e.write}})],c.prototype,"role",void 0),c=e([p("esri.layers.support.Relationship")],c);const ft=c;let S=class extends k(g){constructor(i){super(i),this.code=null,this.defaultValues={},this.domains=null,this.name=null}readDomains(i){if(!i)return null;const r={};for(const s of Object.keys(i))r[s]=Te(i[s]);return r}writeDomains(i,r){if(!i)return;const s={};for(const o of Object.keys(i))i[o]&&(s[o]=i[o]?.toJSON());r.domains=s}};e([t({type:Number,json:{write:!0}})],S.prototype,"code",void 0),e([t({type:Object,json:{write:!0}})],S.prototype,"defaultValues",void 0),e([t({json:{write:!0}})],S.prototype,"domains",void 0),e([l("domains")],S.prototype,"readDomains",null),e([u("domains")],S.prototype,"writeDomains",null),e([t({type:String,json:{write:!0}})],S.prototype,"name",void 0),S=e([p("esri.layers.support.Subtype")],S);const wt=S,Vt=i=>{let r=class extends i{constructor(){super(...arguments),this.copyright=null,this.capabilities=null,this.dateFieldsTimeZone=null,this.datesInUnknownTimezone=!1,this.definitionExpression=null,this.displayField=null,this.editFieldsInfo=null,this.editingInfo=null,this.elevationInfo=null,this.floorInfo=null,this.fullExtent=null,this.gdbVersion=null,this.geometryFieldsInfo=null,this.geometryType=null,this.globalIdField=null,this.hasM=void 0,this.hasZ=void 0,this.heightModelInfo=null,this.historicMoment=null,this.indexes=new(ce.ofType(x)),this.isTable=!1,this.layerId=void 0,this.maxScale=0,this.minScale=0,this.objectIdField=null,this.preferredTimeZone=null,this.relationships=null,this.returnM=void 0,this.returnZ=void 0,this.serviceDefinitionExpression=null,this.serviceItemId=null,this.sourceJSON=null,this.spatialReference=me.WGS84,this.subtypeField=null,this.subtypes=null,this.trackIdField=null,this.version=void 0}get authenticationTriggerEvent(){if(!this.url)return null;const{capabilities:s}=this;if(s){const{query:o,operations:n,editing:m}=s;if(!o.supportsQueryByOthers||!o.supportsQueryByAnonymous||n.supportsEditing&&!(m.supportsUpdateByOthers&&m.supportsUpdateByAnonymous&&m.supportsDeleteByOthers&&m.supportsDeleteByAnonymous))return"load"}return this.userHasUpdateItemPrivileges?Je(this)?"load":this.hasUpdateItemRestrictions?s.operations.supportsQuery?"editing":"load":null:this.userHasFullEditingPrivileges&&this.hasFullEditingRestrictions?"editing":null}readCapabilitiesFromService(s,o){return et(o,this.url)}readEditingInfo(s,o){const{editingInfo:n}=o;return n?{lastEditDate:n.lastEditDate!=null?new Date(n.lastEditDate):null}:null}get effectiveCapabilities(){const s=this.capabilities;if(!s)return null;const o=V(s),{operations:n,editing:m}=o;return this.sourceJSON?.isMultiServicesView?(this.userHasUpdateItemPrivileges&&(n.supportsQuery=!0),o):this.userHasUpdateItemPrivileges?(n.supportsAdd=n.supportsDelete=n.supportsEditing=n.supportsQuery=n.supportsUpdate=m.supportsDeleteByOthers=m.supportsGeometryUpdate=m.supportsUpdateByOthers=!0,o):(this.userHasFullEditingPrivileges&&n.supportsEditing&&(n.supportsAdd=n.supportsDelete=n.supportsUpdate=m.supportsGeometryUpdate=!0),o)}readGlobalIdFieldFromService(s,o){return Ke(o)}get hasFullEditingRestrictions(){const s=this.capabilities;if(!s||this.sourceJSON?.isMultiServicesView)return!1;const{operations:o,editing:n}=s;return o.supportsEditing&&!(o.supportsAdd&&o.supportsDelete&&o.supportsUpdate&&n.supportsGeometryUpdate)}get hasUpdateItemRestrictions(){const s=this.capabilities;if(!s)return!1;const{operations:o,editing:n}=s;return this.sourceJSON?.isMultiServicesView?!o.supportsQuery:!(o.supportsAdd&&o.supportsDelete&&o.supportsEditing&&o.supportsQuery&&o.supportsUpdate&&n.supportsDeleteByOthers&&n.supportsGeometryUpdate&&n.supportsUpdateByOthers)}readIsTableFromService(s,o){return o.type==="Table"}readMaxScale(s,o){return o.effectiveMaxScale||s||0}readMinScale(s,o){return o.effectiveMinScale||s||0}readObjectIdFieldFromService(s,o){return _e(o)}readServiceDefinitionExpression(s,o){return o.definitionQuery||o.definitionExpression}set url(s){const o=Ze({layer:this,url:s,nonStandardUrlAllowed:!0,logger:Ie.getLogger(this)});this._set("url",o.url),o.layerId!=null&&this._set("layerId",o.layerId)}writeUrl(s,o,n,m){He(this,s,null,o,m)}readVersion(s,o){return Ye(o)}};return e([t({readOnly:!0})],r.prototype,"authenticationTriggerEvent",null),e([t({type:String,json:{origins:{service:{read:{source:"copyrightText"}}}}})],r.prototype,"copyright",void 0),e([t({readOnly:!0,json:{read:!1,origins:{service:{read:{source:["advancedQueryCapabilities","allowGeometryUpdates","allowUpdateWithoutMValues","archivingInfo","capabilities","datesInUnknownTimezone","hasAttachments","hasM","hasZ","maxRecordCount","maxRecordCountFactor","ownershipBasedAccessControlForFeatures","standardMaxRecordCount","supportedQueryFormats","supportsAdvancedQueries","supportsApplyEditsWithGlobalIds","supportsAttachmentsByUploadId","supportsAttachmentsResizing","supportsCalculate","supportsCoordinatesQuantization","supportsExceedsLimitStatistics","supportsFieldDescriptionProperty","supportsQuantizationEditMode","supportsRollbackOnFailureParameter","supportsStatistics","supportsTruncate","supportsValidateSql","tileMaxRecordCount","useStandardizedQueries"]}}}}})],r.prototype,"capabilities",void 0),e([l("service","capabilities")],r.prototype,"readCapabilitiesFromService",null),e([t(q("dateFieldsTimeReference"))],r.prototype,"dateFieldsTimeZone",void 0),e([t({type:Boolean})],r.prototype,"datesInUnknownTimezone",void 0),e([t({type:String,json:{origins:{service:{read:!1,write:!1}},name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],r.prototype,"definitionExpression",void 0),e([t({type:String,json:{origins:{service:{read:{source:"displayField"}}}}})],r.prototype,"displayField",void 0),e([t({readOnly:!0,type:ht})],r.prototype,"editFieldsInfo",void 0),e([t({readOnly:!0})],r.prototype,"editingInfo",void 0),e([l("editingInfo")],r.prototype,"readEditingInfo",null),e([t({readOnly:!0})],r.prototype,"effectiveCapabilities",null),e([t((()=>{const s=V(Ce),o=s.json.origins;return o["web-map"]={read:!1,write:!1},o["portal-item"]={read:!1,write:!1},s})())],r.prototype,"elevationInfo",void 0),e([t({type:Xe,json:{name:"layerDefinition.floorInfo",write:!0,origins:{"web-scene":{name:"layerDefinition.floorInfo",write:{enabled:!0,layerContainerTypes:Ge}}}}})],r.prototype,"floorInfo",void 0),e([t({type:Ue,json:{origins:{service:{read:{source:"extent"}}}}})],r.prototype,"fullExtent",void 0),e([t()],r.prototype,"gdbVersion",void 0),e([t({readOnly:!0,type:vt,json:{read:{source:"geometryProperties"}}})],r.prototype,"geometryFieldsInfo",void 0),e([t({type:["point","polygon","polyline","multipoint","multipatch","mesh"],json:{origins:{service:{read:ze.read}}}})],r.prototype,"geometryType",void 0),e([t({type:String})],r.prototype,"globalIdField",void 0),e([l("service","globalIdField",["globalIdField","fields"])],r.prototype,"readGlobalIdFieldFromService",null),e([t({readOnly:!0})],r.prototype,"hasFullEditingRestrictions",null),e([t({type:Boolean,json:{origins:{service:{read:!0}}}})],r.prototype,"hasM",void 0),e([t({readOnly:!0})],r.prototype,"hasUpdateItemRestrictions",null),e([t({type:Boolean,json:{origins:{service:{read:!0}}}})],r.prototype,"hasZ",void 0),e([t({readOnly:!0,type:qe})],r.prototype,"heightModelInfo",void 0),e([t({type:Date})],r.prototype,"historicMoment",void 0),e([t({type:ce.ofType(x),readOnly:!0})],r.prototype,"indexes",void 0),e([t({readOnly:!0})],r.prototype,"isTable",void 0),e([l("service","isTable",["type"])],r.prototype,"readIsTableFromService",null),e([t({type:Number,json:{origins:{service:{read:{source:"id"}},"portal-item":{read:!1,write:{target:"id"}}},read:!1}})],r.prototype,"layerId",void 0),e([t(Qe)],r.prototype,"maxScale",void 0),e([l("service","maxScale",["maxScale","effectiveMaxScale"])],r.prototype,"readMaxScale",null),e([t(We)],r.prototype,"minScale",void 0),e([l("service","minScale",["minScale","effectiveMinScale"])],r.prototype,"readMinScale",null),e([t({type:String})],r.prototype,"objectIdField",void 0),e([l("service","objectIdField",["objectIdField","fields"])],r.prototype,"readObjectIdFieldFromService",null),e([t(q("preferredTimeReference"))],r.prototype,"preferredTimeZone",void 0),e([t({type:[ft],readOnly:!0})],r.prototype,"relationships",void 0),e([t({type:Boolean})],r.prototype,"returnM",void 0),e([t({type:Boolean})],r.prototype,"returnZ",void 0),e([t({readOnly:!0,json:{write:!1}})],r.prototype,"serverGens",void 0),e([t({readOnly:!0})],r.prototype,"serviceDefinitionExpression",void 0),e([l("service","serviceDefinitionExpression",["definitionQuery","definitionExpression"])],r.prototype,"readServiceDefinitionExpression",null),e([t({type:String,readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],r.prototype,"serviceItemId",void 0),e([t()],r.prototype,"sourceJSON",void 0),e([t({type:me,json:{origins:{service:{read:{source:"extent.spatialReference"}}}}})],r.prototype,"spatialReference",void 0),e([t({type:String,readOnly:!0,json:{origins:{service:{read:!0}}}})],r.prototype,"subtypeField",void 0),e([t({type:[wt],readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],r.prototype,"subtypes",void 0),e([t({type:String,json:{read:{source:"timeInfo.trackIdField"}}})],r.prototype,"trackIdField",void 0),e([t(Pe)],r.prototype,"url",null),e([u("url")],r.prototype,"writeUrl",null),e([t({json:{origins:{service:{read:!0}},read:!1}})],r.prototype,"version",void 0),e([l("service","version",["currentVersion","capabilities","drawingInfo","hasAttachments","htmlPopupType","relationships","timeInfo","typeIdField","types"])],r.prototype,"readVersion",null),r=e([p("esri.layers.mixins.FeatureLayerBase")],r),r};export{Vt as D,Tt as y};
