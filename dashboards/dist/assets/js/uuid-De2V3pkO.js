const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./request-C80u8doJ.js","./index-OAJD89tD.js","./IdentityManager-BHOBG9hJ.js","./jsxFactory-CrT0-KGb.js","./widget-sw7vyePM.js","./pe-wasm-bypJfer-.js","./commonjsHelpers-DCkdB7M8.js","./PortalItem-C8IOgJp9.js","./Basemap-DVlQKLRn.js","./loadAll-Cim39wYP.js","./writeUtils-993Cp9iz.js","./layerUtils-D8dZn4eh.js","./ElevationLayer-CtF3_GgC.js","./MultiOriginJSONSupport-Df7Mn0iX.js","./arcgisLayerUrl-DMpJLG2u.js","./ArcGISCachedService-CHDe8X9F.js","./TileInfo-ybWiFFHA.js","./TileInfoTilemapCache-wvFoUecP.js","./TilemapCache-o0RXLCzh.js","./ByteSizeUnit-BsxeN7wM.js","./LRUCache-DMLtX-OB.js","./ArcGISService-B9AkhE_C.js","./OperationalLayer-Bx6pTHh7.js","./commonProperties-7y88ic0r.js","./ElevationInfo-C7w4yfnq.js","./lengthUtils-C4EPlNSZ.js","./PortalLayer-DU1TFOEn.js","./portalItemUtils-2ng-Kvae.js","./workers-Dp_XhR59.js","./WhereClause-BcQt-S-F.js","./TimeOnly-LdAwpTO1.js","./arcadeUtils-n9cXjWJA.js","./Field-CpwGNSHU.js","./fieldType-CQ9t6Wui.js","./number-CZPYs-P5.js","./featureConversionUtils-BBvLZPS5.js","./OptimizedFeature-CuDeWVOV.js","./OptimizedFeatureSet-Blu9Ckm7.js","./FieldsIndex-dTLkFgHd.js","./webStyleSymbolUtils-CdLvx_A5.js","./devEnvironmentUtils-J1Ooxd8p.js","./jsonUtils-CqYY9-3B.js","./styleUtils-IlLdeGfy.js"])))=>i.map(i=>d[i]);
import{_ as pt}from"./index-OAJD89tD.js";let or;function $(e){return typeof or[e]=="function"?or[e]=or[e](globalThis):or[e]}or=globalThis.dojoConfig?.has||globalThis.esriConfig?.has?{...globalThis.dojoConfig?.has,...globalThis.esriConfig?.has}:{},$.add=(e,t,r,s)=>((s||or[e]===void 0)&&(or[e]=t),r&&$(e)),$.cache=or,$.add("big-integer-warning-enabled",!0),$.add("esri-deprecation-warnings",!0),$.add("esri-tests-disable-screenshots",!1),$.add("esri-tests-use-full-window",!1),$.add("esri-tests-post-to-influx",!0),(()=>{$.add("host-webworker",globalThis.WorkerGlobalScope!==void 0&&self instanceof globalThis.WorkerGlobalScope);const e=typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;if($.add("host-browser",e),$.add("host-node",typeof globalThis.process=="object"&&globalThis.process.versions?.node&&globalThis.process.versions.v8),$.add("dom",e),$("host-browser")){const t=navigator,r=t.userAgent,s=t.appVersion,n=parseFloat(s);if($.add("wp",parseFloat(r.split("Windows Phone")[1])||void 0),$.add("msapp",parseFloat(r.split("MSAppHost/")[1])||void 0),$.add("khtml",s.includes("Konqueror")?n:void 0),$.add("edge",parseFloat(r.split("Edge/")[1])||void 0),$.add("opr",parseFloat(r.split("OPR/")[1])||void 0),$.add("webkit",!$("wp")&&!$("edge")&&parseFloat(r.split("WebKit/")[1])||void 0),$.add("chrome",!$("edge")&&!$("opr")&&parseFloat(r.split("Chrome/")[1])||void 0),$.add("android",!$("wp")&&parseFloat(r.split("Android ")[1])||void 0),$.add("safari",!s.includes("Safari")||$("wp")||$("chrome")||$("android")||$("edge")||$("opr")?void 0:parseFloat(s.split("Version/")[1])),$.add("mac",s.includes("Macintosh")),!$("wp")&&/(iPhone|iPod|iPad)/.test(r)){const o=RegExp.$1.replace(/P/,"p"),a=/OS ([\d_]+)/.test(r)?RegExp.$1:"1",l=parseFloat(a.replace(/_/,".").replaceAll("_",""));$.add(o,l),$.add("ios",l)}$("webkit")||(!r.includes("Gecko")||$("wp")||$("khtml")||$("edge")||$.add("mozilla",n),$("mozilla")&&$.add("ff",parseFloat(r.split("Firefox/")[1]||r.split("Minefield/")[1])||void 0))}})(),(()=>{if(globalThis.navigator){const e=navigator.userAgent,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(e),r=/iPhone/i.test(e);t&&$.add("esri-mobile",t),r&&$.add("esri-iPhone",r),$.add("esri-geolocation",!!navigator.geolocation)}$.add("esri-wasm","WebAssembly"in globalThis),$.add("esri-performance-mode-frames-between-render",20),$.add("esri-force-performance-mode",!1),$.add("esri-shared-array-buffer",(()=>{const e="SharedArrayBuffer"in globalThis,t=globalThis.crossOriginIsolated===!1;return e&&!t})),$.add("wasm-simd",(()=>{const e=[0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11];return WebAssembly.validate(new Uint8Array(e))})),$.add("esri-atomics","Atomics"in globalThis),$.add("esri-workers","Worker"in globalThis),$.add("web-feat:cache","caches"in globalThis),$.add("esri-workers-arraybuffer-transfer",!$("safari")||Number($("safari"))>=12),$.add("workers-pool-size",8),$.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),$.add("featurelayer-simplify-payload-size-factors",[1,1,4]),$.add("featurelayer-animation-enabled",!0),$.add("featurelayer-snapshot-enabled",!0),$.add("featurelayer-snapshot-point-min-threshold",8e4),$.add("featurelayer-snapshot-point-max-threshold",4e5),$.add("featurelayer-snapshot-point-coverage",.1),$.add("featurelayer-advanced-symbols",!1),$.add("featurelayer-pbf",!0),$.add("featurelayer-pbf-statistics",!1),$.add("feature-layers-workers",!0),$.add("feature-polyline-generalization-factor",1),$.add("mapview-transitions-duration",200),$.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),$.add("mapserver-pbf-version-support",10.81),$.add("mapservice-popup-identify-max-tolerance",20),$.add("heatmap-allow-raster-fallback",!1),$.add("heatmap-force-raster",!1),$("host-webworker")||$("host-browser")&&($.add("esri-csp-restrictions",(()=>{try{new Function}catch{return!0}return!1})),$.add("esri-image-decode",(()=>{if("decode"in new Image){const e=new Image;return e.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void e.decode().then((()=>{$.add("esri-image-decode",!0,!0,!0)})).catch((()=>{$.add("esri-image-decode",!1,!0,!0)}))}return!1})),$.add("esri-url-encodes-apostrophe",(()=>{const e=window.document.createElement("a");return e.href="?'",e.href.includes("?%27")})))})();let _a=class wr{constructor(t=1){this._seed=t}set seed(t){this._seed=t??Math.random()*wr._m}getInt(){return this._seed=(wr._a*this._seed+wr._c)%wr._m,this._seed}getFloat(){return this.getInt()/(wr._m-1)}getIntRange(t,r){return Math.round(this.getFloatRange(t,r))}getFloatRange(t,r){const s=r-t;return t+this.getInt()/wr._m*s}};_a._m=2147483647,_a._a=48271,_a._c=0;const w6=1.5;function v6(e,t){return t?e.filter(((r,s,n)=>n.findIndex(t.bind(null,r))===s)):Array.from(new Set(e))}function Ho(e,t,r){if(e==null&&t==null)return!0;if(e==null||t==null||e.length!==t.length)return!1;if(r){for(let s=0;s<e.length;s++)if(!r(e[s],t[s]))return!1}else for(let s=0;s<e.length;s++)if(e[s]!==t[s])return!1;return!0}function b6(e,t){let r=e.length!==t.length;r&&(e.length=t.length);for(let s=0;s<t.length;++s)e[s]!==t[s]&&(e[s]=t[s],r=!0);return r}function $6(e,t,r){let s,n;return r?(s=t.filter((o=>!e.some((a=>r(a,o))))),n=e.filter((o=>!t.some((a=>r(a,o)))))):(s=t.filter((o=>!e.includes(o))),n=e.filter((o=>!t.includes(o)))),{added:s,removed:n}}function _6(e){return e&&typeof e.length=="number"}const r1=!!Array.prototype.fill;function S6(e,t){if(r1)return new Array(e).fill(t);const r=new Array(e);for(let s=0;s<e;s++)r[s]=t;return r}function x6(e,t){t===void 0&&(t=e,e=0);const r=new Array(t-e);for(let s=e;s<t;s++)r[s-e]=s;return r}let tf=class{constructor(){this.last=0}};const rf=new tf;function Ka(e,t,r,s){s=s||rf;const n=Math.max(0,s.last-10);for(let a=n;a<r;++a)if(e[a]===t)return s.last=a,a;const o=Math.min(n,r);for(let a=0;a<o;++a)if(e[a]===t)return s.last=a,a;return-1}function O6(e,t,r,s){const n=e.length,o=Ka(e,t,n,s);if(o!==-1)return e[o]=e[n-1],e.pop(),t}const Ue=new Set;function s1(e,t,r=e.length,s=t.length,n,o){if(s===0||r===0)return r;Ue.clear();for(let l=0;l<s;++l)Ue.add(t[l]);n=n||rf;const a=Math.max(0,n.last-10);for(let l=a;l<r;++l)if(Ue.has(e[l])&&(o?.push(e[l]),Ue.delete(e[l]),e[l]=e[r-1],--r,--l,Ue.size===0||r===0))return Ue.clear(),r;for(let l=0;l<a;++l)if(Ue.has(e[l])&&(o?.push(e[l]),Ue.delete(e[l]),e[l]=e[r-1],--r,--l,Ue.size===0||r===0))return Ue.clear(),r;return Ue.clear(),r}function n1(e,t){const r=e.indexOf(t);return r!==-1?(e.splice(r,1),t):null}function i1(e,t){return e!=null}function sf(e){return 32+e.length}function ec(){return 16}function M6(e){if(!e)return 0;let t=of;for(const r in e)if(e.hasOwnProperty(r)){const s=e[r];switch(typeof s){case"string":t+=sf(s);break;case"number":t+=ec();break;case"boolean":t+=4}}return t}function o1(e){if(!e)return 0;if(Array.isArray(e))return a1(e);let t=of;for(const r in e)e.hasOwnProperty(r)&&(t+=nf(e[r]));return t}function a1(e){const t=e.length;if(t===0||typeof e[0]=="number")return 32+8*t;let r=af;for(let s=0;s<t;s++)r+=nf(e[s]);return r}function nf(e){switch(typeof e){case"object":return o1(e);case"string":return sf(e);case"number":return ec();case"boolean":return 4;default:return 8}}function l1(e,t){return af+e.length*t}const of=32,af=32;function E6(e){return e instanceof ArrayBuffer}function tc(e){return e?.constructor?.name==="Int8Array"}function lf(e){return e?.constructor?.name==="Uint8Array"}function uf(e){return e?.constructor?.name==="Uint8ClampedArray"}function rc(e){return e?.constructor?.name==="Int16Array"}function cf(e){return e?.constructor?.name==="Uint16Array"}function sc(e){return e?.constructor?.name==="Int32Array"}function hf(e){return e?.constructor?.name==="Uint32Array"}function Zo(e){return e?.constructor?.name==="Float32Array"}function Jo(e){return e?.constructor?.name==="Float64Array"}function u1(e){return!("buffer"in e)}function A6(...e){return e.reduce(((t,r)=>t+(r?u1(r)?l1(r,ec()):r.byteLength+c1:0)),0)}const c1=145,P6=1024;function N6(e){return Jo(e)||Zo(e)||sc(e)||rc(e)||tc(e)}function I6(e){return Jo(e)||Zo(e)}function C6(e){return Jo(e)?179769e303:Zo(e)?3402823e32:hf(e)?4294967295:cf(e)?65535:lf(e)||uf(e)?255:sc(e)?2147483647:rc(e)?32767:tc(e)?127:256}function k6(e,t){let r;for(r in e)e.hasOwnProperty(r)&&e[r]===void 0&&delete e[r];return e}function T(e){if(!e||typeof e!="object"||typeof e=="function")return e;const t=mf(e);if(t!=null)return t;if(df(e))return e.clone();if(ff(e))return e.map(T);if(pf(e))return e.clone();const r={};for(const s of Object.getOwnPropertyNames(e))r[s]=T(e[s]);return r}function Qa(e){if(!e||typeof e!="object"||typeof e=="function"||"HTMLElement"in globalThis&&e instanceof HTMLElement)return e;const t=mf(e);if(t!=null)return t;if(ff(e)){let r=!0;const s=e.map((n=>{const o=Qa(n);return n!=null&&o==null&&(r=!1),o}));return r?s:null}if(df(e))return e.clone();if(e instanceof File||e instanceof Blob)return e;if(!pf(e)){const r=new(Object.getPrototypeOf(e)).constructor;for(const s of Object.getOwnPropertyNames(e)){const n=e[s],o=Qa(n);if(n!=null&&o==null)return null;r[s]=o}return r}return null}function df(e){return typeof e.clone=="function"}function ff(e){return typeof e.map=="function"&&typeof e.forEach=="function"}function pf(e){return typeof e.notifyChange=="function"&&typeof e.watch=="function"}function bh(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function mf(e){if(tc(e)||lf(e)||uf(e)||rc(e)||cf(e)||sc(e)||hf(e)||Zo(e)||Jo(e))return e.slice();if(e instanceof Date)return new Date(e.getTime());if(e instanceof ArrayBuffer)return e.slice(0,e.byteLength);if(e instanceof Map){const t=new Map;for(const[r,s]of e)t.set(r,T(s));return t}if(e instanceof Set){const t=new Set;for(const r of e)t.add(T(r));return t}return null}function nc(e,t){return e===t||typeof e=="number"&&isNaN(e)&&typeof t=="number"&&isNaN(t)||typeof e?.getTime=="function"&&typeof t?.getTime=="function"&&e.getTime()===t.getTime()||!1}function h1(e,t){return e===t||(e==null||typeof e=="string"?e===t:typeof e=="number"?e===t||typeof t=="number"&&isNaN(e)&&isNaN(t):e instanceof Date?t instanceof Date&&e.getTime()===t.getTime():Array.isArray(e)?Array.isArray(t)&&Ho(e,t):e instanceof Set?t instanceof Set&&f1(e,t):e instanceof Map?t instanceof Map&&p1(e,t):!!bh(e)&&bh(t)&&d1(e,t))}function d1(e,t){if(e===null||t===null)return!1;const r=Object.keys(e);if(t===null||Object.keys(t).length!==r.length)return!1;for(const s of r)if(e[s]!==t[s]||!Object.prototype.hasOwnProperty.call(t,s))return!1;return!0}function f1(e,t){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}function p1(e,t){if(e.size!==t.size)return!1;for(const[r,s]of e){const n=t.get(r);if(n!==s||n===void 0&&!t.has(r))return!1}return!0}function m1(e,t,r=!1){return gf(e,t,r)}function Yo(e,t){if(t!=null)return t[e]||yf(e.split("."),!1,t)}function As(e,t,r){const s=e.split("."),n=s.pop(),o=yf(s,!0,r);o&&n&&(o[n]=t)}function yf(e,t,r){let s=r;for(const n of e){if(s==null)return;if(!(n in s)){if(!t)return;s[n]={}}s=s[n]}return s}function gf(e,t,r){return t?Object.keys(t).reduce(((s,n)=>{let o=s[n],a=t[n];return o===a?s:o===void 0?(s[n]=T(a),s):(Array.isArray(a)||Array.isArray(s)?(o=o?Array.isArray(o)?s[n]=o.concat():s[n]=[o]:s[n]=[],a&&(Array.isArray(a)||(a=[a]),r?a.forEach((l=>{o.includes(l)||o.push(l)})):s[n]=a.concat())):a&&typeof a=="object"?s[n]=gf(o,a,r):s.hasOwnProperty(n)&&!t.hasOwnProperty(n)||(s[n]=a),s)}),e||{}):e}const K={apiKey:void 0,applicationName:"",applicationUrl:globalThis.location?.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!0,portalUrl:"https://www.arcgis.com",routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],maxUrlLength:2e3,priority:"high",proxyRules:[],proxyUrl:null,timeout:6e4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(globalThis.esriConfig&&(m1(K,globalThis.esriConfig,!0),delete K.has),!K.assetsPath){{const e="4.28";K.assetsPath=`https://js.arcgis.com/${e}/@arcgis/core/assets`}K.defaultAssetsPath=K.assetsPath}function u(e,t,r,s){var n,o=arguments.length,a=o<3?t:s===null?s=Object.getOwnPropertyDescriptor(t,r):s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,r,s);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(a=(o<3?n(a):o>3?n(t,r,a):n(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a}function D6(e,t,r,s){function n(o){return o instanceof r?o:new r((function(a){a(o)}))}return new(r||(r=Promise))((function(o,a){function l(p){try{d(s.next(p))}catch(m){a(m)}}function c(p){try{d(s.throw(p))}catch(m){a(m)}}function d(p){p.done?o(p.value):n(p.value).then(l,c)}d((s=s.apply(e,[])).next())}))}const y1=/\{([^\}]+)\}/g;function $h(e){return e??""}function ic(e,t){return t?e.replaceAll(y1,typeof t=="object"?(r,s)=>$h(Yo(s,t)):(r,s)=>$h(t(s))):e}function R6(e,t){return e.replaceAll(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,(r=>t&&t.includes(r)?r:`\\${r}`))}function wf(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return t}function F6(e){return new DOMParser().parseFromString(e||"","text/html").body.innerText||""}function L6(e,t){return new RegExp(`{${t}}`,"ig").test(e)}const _h={info:0,warn:1,error:2,none:3};let V=class pe{constructor(t){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},t.level!=null&&(this.level=t.level),t.writer!=null&&(this.writer=t.writer),this._module=t.module,pe._loggers.set(this.module,this);const r=this.module.lastIndexOf(".");r!==-1&&(this._parent=pe.getLogger(this.module.slice(0,r)))}get module(){return this._module}get parent(){return this._parent}error(...t){this._log("error","always",...t)}warn(...t){this._log("warn","always",...t)}info(...t){this._log("info","always",...t)}errorOnce(...t){this._log("error","once",...t)}warnOnce(...t){this._log("warn","once",...t)}infoOnce(...t){this._log("info","once",...t)}errorOncePerTick(...t){this._log("error","oncePerTick",...t)}warnOncePerTick(...t){this._log("warn","oncePerTick",...t)}infoOncePerTick(...t){this._log("info","oncePerTick",...t)}get test(){const t=this;return{loggedMessages:t._loggedMessages,clearLoggedWarnings:()=>t._loggedMessages.warn.clear()}}static get test(){return{resetLoggers(t=new Map){const r=pe._loggers;return pe._loggers=t,r},set throttlingDisabled(t){pe._throttlingDisabled=t}}}static getLogger(t){return t=typeof t!="string"?t.declaredClass:t,pe._loggers.get(t)||new pe({module:t})}_log(t,r,...s){if(this._matchLevel(t)){if(r!=="always"&&!pe._throttlingDisabled){const n=this._argsToKey(s),o=this._loggedMessages[t].get(n);if(r==="once"&&o!=null||r==="oncePerTick"&&o&&o>=pe._tickCounter)return;this._loggedMessages[t].set(n,pe._tickCounter),pe._scheduleTickCounterIncrement()}for(const n of K.log.interceptors)if(n(t,this.module,...s))return;this._inheritedWriter()(t,this.module,...s)}}_parentWithMember(t,r){let s=this;for(;s!=null;){const n=s[t];if(n!=null)return n;s=s.parent}return r}_inheritedWriter(){return this._parentWithMember("writer",this._consoleWriter)}_consoleWriter(t,r,...s){console[t](`[${r}]`,...s)}_matchLevel(t){const r=K.log.level||"warn";return _h[this._parentWithMember("level",r)]<=_h[t]}_argsToKey(...t){return wf(JSON.stringify(t,(s,n)=>typeof n!="object"||Array.isArray(n)?n:"[Object]"))}static _scheduleTickCounterIncrement(){pe._tickCounterScheduled||(pe._tickCounterScheduled=!0,Promise.resolve().then((()=>{pe._tickCounter++,pe._tickCounterScheduled=!1})))}};V._loggers=new Map,V._tickCounter=0,V._tickCounterScheduled=!1,V._throttlingDisabled=!1;function g1(e,t){return e.replaceAll(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,((r,s)=>s===""?"$":(Yo(s,t)??"").toString()))}let vf=class{constructor(t,r,s){this.name=t,this.details=s,this.message=(r&&g1(r,s))??""}toString(){return"["+this.name+"]: "+this.message}},G=class bf extends vf{constructor(t,r,s){super(t,r,s)}toJSON(){if(this.details!=null)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,((t,r)=>{if(r&&typeof r=="object"&&typeof r.toJSON=="function")return r;try{return T(r)}catch{return"[object]"}})))}}catch(t){throw V.getLogger("esri.core.Error").error(t),t}return{name:this.name,message:this.message,details:this.details}}static fromJSON(t){return new bf(t.name,t.message,t.details)}};G.prototype.type="error";const Sh=new Set;function w1(e,t,r=!1){r&&Sh.has(t)||(r&&Sh.add(t),e.warn(`ðŸ›‘ DEPRECATED - ${t}`))}function v1(e,t,r={}){if($("esri-deprecation-warnings")){const{moduleName:s}=r;uo(e,`Function: ${(s?s+"::":"")+t+"()"}`,r)}}function U6(e,t,r={}){if($("esri-deprecation-warnings")){const{moduleName:s}=r;uo(e,`Property: ${(s?s+"::":"")+t}`,r)}}function uo(e,t,r={}){if($("esri-deprecation-warnings")){const{replacement:s,version:n,see:o,warnOnce:a}=r;let l=t;s&&(l+=`
	ðŸ› ï¸ Replacement: ${s}`),n&&(l+=`
	âš™ï¸ Version: ${n}`),o&&(l+=`
	ðŸ”— See ${o} for more details.`),w1(e,l,a)}}function z6(e){const t=[];return function*(){yield*t;for(const r of e)t.push(r),yield r}}function G6(e,t){for(const r of e)if(r!=null&&t(r))return r}function xh(e){return e!=null&&typeof e[Symbol.iterator]=="function"}let b1=class Xa{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let t=0;return this._groups.forEach((r=>{t+=r.length})),t}add(t,r){if(xh(t)){const s=this._getOrCreateGroup(r);for(const n of t)this._isHandle(n)&&s.push(n)}else this._isHandle(t)&&this._getOrCreateGroup(r).push(t);return this}forEach(t,r){if(typeof t=="function")this._groups.forEach((s=>s.forEach(t)));else{const s=this._getGroup(t);s&&r&&s.forEach(r)}}has(t){return this._groups.has(this._ensureGroupKey(t))}remove(t){if(typeof t!="string"&&xh(t)){for(const r of t)this.remove(r);return this}return this.has(t)?(this._removeAllFromGroup(this._getGroup(t)),this._groups.delete(this._ensureGroupKey(t)),this):this}removeAll(){return this._groups.forEach((t=>this._removeAllFromGroup(t))),this._groups.clear(),this}_isHandle(t){return t&&(!!t.remove||t instanceof Xa)}_getOrCreateGroup(t){if(this.has(t))return this._getGroup(t);const r=[];return this._groups.set(this._ensureGroupKey(t),r),r}_getGroup(t){return this._groups.get(this._ensureGroupKey(t))}_ensureGroupKey(t){return t||"_default_"}_removeAllFromGroup(t){for(const r of t)r instanceof Xa?r.removeAll():r.remove()}};function $1(e,t){if(e==null)throw new Error(t??"value is None")}function Ii(e){return e?.destroy(),null}function q6(e){return e?.dispose(),null}function Ps(e){return e?.remove(),null}function $f(e){return e?.abort(),null}function V6(e){return e?.release(),null}function B6(e,t,r){return e!=null&&t!=null?r!=null?r(e,t):e.equals(t):e===t}const _f=Symbol("Accessor-beforeDestroy"),_1={remove:()=>{}};function de(e){return e?{remove(){e&&(e(),e=void 0)}}:_1}function S1(e){e.forEach((t=>t?.remove()))}function oc(e){return de((()=>S1(e)))}function cr(e){return e.__accessor__??null}function x1(e,t){return e?.metadatas?.[t]!=null}function Ci(e,t,r){return r?co(e,t,{policy:r,path:""}):co(e,t,null)}function co(e,t,r){return t?Object.keys(t).reduce(((s,n)=>{const o=n;let a=null,l="merge";if(r&&(a=r.path?`${r.path}.${n}`:n,l=r.policy(a)),l==="replace"||l==="replace-arrays"&&Array.isArray(s[o]))return s[o]=t[o],s;if(s[o]===void 0)return s[o]=T(t[o]),s;let c=s[o],d=t[o];if(c===d)return s;if(Array.isArray(d)||Array.isArray(s))c=c?Array.isArray(c)?s[o]=c.concat():s[o]=[c]:s[o]=[],d&&(Array.isArray(d)||(d=[d]),d.forEach((p=>{c.includes(p)||c.push(p)})));else if(d&&typeof d=="object")if(r){const p=r.path;r.path=a,s[o]=co(c,d,r),r.path=p}else s[o]=co(c,d,null);else s.hasOwnProperty(n)&&!t.hasOwnProperty(n)||(s[o]=d);return s}),e||{}):e}function Sf(e){return Array.isArray(e)?e:e.split(".")}function Th(e){return e.includes(",")?e.split(",").map((t=>t.trim())):[e.trim()]}function T1(e){if(Array.isArray(e)){const t=[];for(const r of e)t.push(...Th(r));return t}return Th(e)}function xf(e,t,r,s){const n=T1(t);if(n.length!==1){const o=n.map((a=>s(e,a,r)));return oc(o)}return s(e,n[0],r)}function Tf(e,t){const r=e[e.length-1]==="?"?e.slice(0,-1):e;if(t.getItemAt!=null||Array.isArray(t)){const n=parseInt(r,10);if(!isNaN(n))return Array.isArray(t)?t[n]:t.at(n)}const s=cr(t);return x1(s,r)?s.get(r):t[r]}function Of(e,t,r){if(e==null)return e;const s=Tf(t[r],e);return!s&&r<t.length-1?void 0:r===t.length-1?s:Of(s,t,r+1)}function Wn(e,t,r=0){return typeof t!="string"||t.includes(".")?Of(e,Sf(t),r):Tf(t,e)}function zr(e,t){return Wn(e,t)}function Oh(e,t){return Wn(t,e)!==void 0}function Hn(e){let t=e.constructor.__accessorMetadata__;const r=Object.prototype.hasOwnProperty.call(e.constructor,"__accessorMetadata__");if(t){if(!r){t=Object.create(t);for(const s in t)t[s]=T(t[s]);Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0})}}else t={},Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0});return e.constructor.__accessorMetadata__}function Ko(e,t){const r=Hn(e);let s=r[t];return s||(s=r[t]={}),s}function O1(e,t){return Ci(e,t,E1)}const M1=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function E1(e){return M1.test(e)?"replace":"merge"}function A1(e){return e?.release&&typeof e.release=="function"}function P1(e){return e?.acquire&&typeof e.acquire=="function"}let Zn=class el{constructor(t,r,s,n=1,o=0){if(this._ctor=t,this._acquireFunction=r,this._releaseFunction=s,this.allocationSize=n,this._pool=new Array(o),this._initialSize=o,this._ctor)for(let a=0;a<o;a++)this._pool[a]=new this._ctor;this.allocationSize=Math.max(n,1)}destroy(){this.prune(0)}acquire(...t){let r;if(el.test.disabled)r=new this._ctor;else{if(this._pool.length===0){const s=this.allocationSize;for(let n=0;n<s;n++)this._pool[n]=new this._ctor}r=this._pool.pop()}return this._acquireFunction?this._acquireFunction(r,...t):P1(r)&&r.acquire(...t),r}release(t){t&&!el.test.disabled&&(this._releaseFunction?this._releaseFunction(t):A1(t)&&t.release(),this._pool.push(t))}prune(t=this._initialSize){if(!(t>=this._pool.length)){for(let r=t;r<this._pool.length;++r){const s=this._pool[r];this._dispose(s)}this._pool.length=t}}_dispose(t){t.dispose&&typeof t.dispose=="function"&&t.dispose()}};Zn.test={disabled:!1};var Mt;(function(e){e[e.INITIALIZING=0]="INITIALIZING",e[e.CONSTRUCTING=1]="CONSTRUCTING",e[e.CONSTRUCTED=2]="CONSTRUCTED"})(Mt||(Mt={}));let N1=class{constructor(t,r){this._observers=t,this._observer=r}remove(){n1(this._observers,this._observer)}},Mf=class{constructor(){this._observers=null,this.destroyed=!1}observe(t){if(this.destroyed||t.destroyed)return I1;this._observers==null&&(this._observers=[]);const r=this._observers;let s=!1,n=!1;const o=r.length;for(let a=0;a<o;++a){const l=r[a];if(l.destroyed)n=!0;else if(l===t){s=!0;break}}return s||(r.push(t),n&&this._removeDestroyedObservers()),new N1(r,t)}_removeDestroyedObservers(){const t=this._observers;if(!t||t.length===0)return;const r=t.length;let s=0;for(let n=0;n<r;++n){for(;n+s<r&&t[n+s].destroyed;)++s;if(s>0){if(!(n+s<r))break;t[n]=t[n+s]}}t.length=r-s}destroy(){if(this.destroyed)return;this.destroyed=!0;const t=this._observers;if(t!=null){for(const r of t)r.onCommitted();this._observers=null}}};const I1=de();var C;(function(e){e[e.DEFAULTS=0]="DEFAULTS",e[e.COMPUTED=1]="COMPUTED",e[e.SERVICE=2]="SERVICE",e[e.PORTAL_ITEM=3]="PORTAL_ITEM",e[e.WEB_SCENE=4]="WEB_SCENE",e[e.WEB_MAP=5]="WEB_MAP",e[e.LINK_CHART=6]="LINK_CHART",e[e.USER=7]="USER"})(C||(C={}));const Z6=C.USER+1;function Ef(e){switch(e){case"defaults":return C.DEFAULTS;case"service":return C.SERVICE;case"portal-item":return C.PORTAL_ITEM;case"web-scene":return C.WEB_SCENE;case"web-map":return C.WEB_MAP;case"link-chart":return C.LINK_CHART;case"user":return C.USER;default:return null}}function tl(e){switch(e){case C.DEFAULTS:return"defaults";case C.SERVICE:return"service";case C.PORTAL_ITEM:return"portal-item";case C.WEB_SCENE:return"web-scene";case C.WEB_MAP:return"web-map";case C.LINK_CHART:return"link-chart";case C.USER:return"user"}}function C1(e){return tl(e)}var U;(function(e){e[e.Dirty=1]="Dirty",e[e.Overriden=2]="Overriden",e[e.Computing=4]="Computing",e[e.NonNullable=8]="NonNullable",e[e.HasDefaultValue=16]="HasDefaultValue",e[e.DepTrackingInitialized=32]="DepTrackingInitialized",e[e.AutoTracked=64]="AutoTracked",e[e.ExplicitlyTracking=128]="ExplicitlyTracking"})(U||(U={}));const ho={onObservableAccessed:()=>{},onTrackingEnd:()=>{}},Ys=[];let $n=ho;function A(e){$n.onObservableAccessed(e)}let ki=!1,Di=!1;function hr(e,t,r){if(ki)return ac(e,t,r);Af(e);const s=t.call(r);return Pf(),s}function k1(e,t){return hr(ho,e,t)}function ac(e,t,r){const s=ki;ki=!0,Af(e);let n=null;try{n=t.call(r)}catch(o){Di&&V.getLogger("esri.core.accessorSupport.tracking").error(o)}return Pf(),ki=s,n}function Af(e){$n=e,Ys.push(e)}function Pf(){const e=Ys.length;if(e>1){const t=Ys.pop();$n=Ys[e-2],t.onTrackingEnd()}else if(e===1){const t=Ys.pop();$n=ho,t.onTrackingEnd()}else $n=ho}function Nf(e,t){if(t.flags&U.DepTrackingInitialized)return;const r=Di;Di=!1,t.flags&U.AutoTracked?ac(t,t.metadata.get,e):If(e,t),Di=r}const D1=[];function If(e,t){t.flags&U.ExplicitlyTracking||(t.flags|=U.ExplicitlyTracking,ac(t,(()=>{const r=t.metadata.dependsOn||D1;for(const s of r)if(typeof s!="string"||s.includes(".")){const n=Sf(s);for(let o=0,a=e;o<n.length&&a!=null&&typeof a=="object";++o)a=Mh(a,n[o],o!==n.length-1)}else Mh(e,s,!1)})),t.flags&=~U.ExplicitlyTracking)}function Mh(e,t,r){const s=t[t.length-1]==="?"?t.slice(0,-1):t;if(e.getItemAt!=null||Array.isArray(e)){const o=parseInt(s,10);if(!isNaN(o))return Array.isArray(e)?e[o]:e.at(o)}const n=cr(e);if(n){const o=n.propertiesByName.get(s);o&&(A(o),Nf(e,o))}return r?e[s]:void 0}let Eh=class extends Mf{constructor(t,r){super(),this.propertyName=t,this.metadata=r,this._accessed=null,this._handles=null,this.flags=0,this.flags=U.Dirty|(r.nonNullable?U.NonNullable:0)|(r.hasOwnProperty("value")?U.HasDefaultValue:0)|(r.get===void 0?U.DepTrackingInitialized:0)|(r.dependsOn===void 0?U.AutoTracked:0)}destroy(){this.flags&U.Dirty&&this.onCommitted(),super.destroy(),this._accessed=null,this._clearObservationHandles()}getComputed(t){A(this);const r=t.store,s=this.propertyName,n=this.flags,o=r.get(s);if(n&U.Computing||~n&U.Dirty&&r.has(s))return o;this.flags|=U.Computing;const a=t.host;let l;n&U.AutoTracked?l=hr(this,this.metadata.get,a):(If(a,this),l=this.metadata.get.call(a)),r.set(s,l,C.COMPUTED);const c=r.get(s);return c===o?this.flags&=~U.Dirty:k1(this.commit,this),this.flags&=~U.Computing,c}onObservableAccessed(t){if(t===this)return;let r=this._accessed;if(r==null)r=[],this._accessed=r;else if(r.includes(t))return;r.push(t)}onTrackingEnd(){this._clearObservationHandles(),this.flags|=U.DepTrackingInitialized;const t=this._accessed;if(t==null||t.length===0)return;let r=this._handles;r==null&&(r=[],this._handles=r);for(let s=0;s<t.length;++s)r.push(t[s].observe(this));t.length=0}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}commit(){this.flags&=~U.Dirty,this.onCommitted()}_clearObservationHandles(){const t=this._handles;if(t!==null){for(let r=0;r<t.length;++r)t[r].remove();t.length=0}}onInvalidated(){~this.flags&U.Overriden&&(this.flags|=U.Dirty);const t=this._observers;if(t&&t.length>0)for(const r of t)r.onInvalidated()}onCommitted(){const t=this._observers;if(t&&t.length>0){const r=t.slice();for(const s of r)s.onCommitted()}}},R1=class Cf{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const r=new Cf;return this._values.forEach(((s,n)=>{t&&t.has(n)||r.set(n,T(s))})),r}get(t){return this._values.get(t)}originOf(){return C.USER}keys(){return[...this._values.keys()]}set(t,r){this._values.set(t,r)}delete(t){this._values.delete(t)}has(t){return this._values.has(t)}forEach(t){this._values.forEach(t)}};function ci(e,t,r){return e!==void 0}function Ah(e,t,r,s){return e!==void 0&&(!(r==null&&e.flags&U.NonNullable)||(s.lifecycle,Mt.INITIALIZING,!1))}function F1(e){return e&&typeof e.destroy=="function"}V.getLogger("esri.core.accessorSupport.Properties");let L1=class{constructor(t){this.host=t,this.propertiesByName=new Map,this.ctorArgs=null,this.destroyed=!1,this.lifecycle=Mt.INITIALIZING,this.store=new R1,this._origin=C.USER;const r=this.host.constructor.__accessorMetadata__;for(const s in r){const n=new Eh(s,r[s]);this.propertiesByName.set(s,n)}this.metadatas=r}initialize(){this.lifecycle=Mt.CONSTRUCTING}constructed(){this.lifecycle=Mt.CONSTRUCTED}destroy(){this.destroyed=!0;for(const[t,r]of this.propertiesByName){if(r.metadata.autoDestroy){const s=this.internalGet(t);s&&F1(s)&&(s.destroy(),~r.flags&U.NonNullable&&this._internalSet(r,null))}r.destroy()}}get initialized(){return this.lifecycle!==Mt.INITIALIZING}get(t){const r=this.propertiesByName.get(t);if(r.metadata.get)return r.getComputed(this);A(r);const s=this.store;return s.has(t)?s.get(t):r.metadata.value}originOf(t){const r=this.store.originOf(t);if(r===void 0){const s=this.propertiesByName.get(t);if(s!==void 0&&s.flags&U.HasDefaultValue)return"defaults"}return tl(r)}has(t){return!!this.propertiesByName.has(t)&&this.store.has(t)}keys(){return[...this.propertiesByName.keys()]}internalGet(t){const r=this.propertiesByName.get(t);if(ci(r))return this.store.has(t)?this.store.get(t):r.metadata.value}internalSet(t,r){const s=this.propertiesByName.get(t);ci(s)&&this._internalSet(s,r)}getDependsInfo(t,r,s){const n=this.propertiesByName.get(r);if(!ci(n))return"";const o=new Set,a=hr({onObservableAccessed:c=>o.add(c),onTrackingEnd:()=>{}},(()=>n.metadata.get?.call(t)));let l=`${s}${t.declaredClass.split(".").pop()}.${r}: ${a}
`;if(o.size===0)return l;s+="  ";for(const c of o)c instanceof Eh&&(l+=`${s}${c.propertyName}: undefined
`);return l}setAtOrigin(t,r,s){const n=this.propertiesByName.get(t);if(ci(n))return this._setAtOrigin(n,r,s)}isOverridden(t){const r=this.propertiesByName.get(t);return r!==void 0&&!!(r.flags&U.Overriden)}clearOverride(t){const r=this.propertiesByName.get(t);r&&r.flags&U.Overriden&&(r.flags&=~U.Overriden,r.notifyChange())}override(t,r){const s=this.propertiesByName.get(t);if(!Ah(s,t,r,this))return;const n=s.metadata.cast;if(n){const o=this._cast(n,r),{valid:a,value:l}=o;if(Sa.release(o),!a)return;r=l}s.flags|=U.Overriden,this._internalSet(s,r)}set(t,r){const s=this.propertiesByName.get(t);if(!Ah(s,t,r,this))return;const n=s.metadata.cast;if(n){const a=this._cast(n,r),{valid:l,value:c}=a;if(Sa.release(a),!l)return;r=c}const o=s.metadata.set;o?o.call(this.host,r):this._internalSet(s,r)}setDefaultOrigin(t){this._origin=Ef(t)}getDefaultOrigin(){return tl(this._origin)}notifyChange(t){const r=this.propertiesByName.get(t);r!==void 0&&r.notifyChange()}invalidate(t){const r=this.propertiesByName.get(t);r!==void 0&&r.invalidate()}commit(t){const r=this.propertiesByName.get(t);r!==void 0&&r.commit()}_internalSet(t,r){const s=this.lifecycle!==Mt.INITIALIZING?this._origin:C.DEFAULTS;this._setAtOrigin(t,r,s)}_setAtOrigin(t,r,s){const n=this.store,o=t.propertyName;n.has(o,s)&&nc(r,n.get(o))&&~t.flags&U.Overriden&&s===n.originOf(o)||(t.invalidate(),n.set(o,r,s),t.commit(),Nf(this.host,t))}_cast(t,r){const s=Sa.acquire();return s.valid=!0,s.value=r,t&&(s.value=t.call(this.host,r,s)),s}},j1=class{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}};const Sa=new Zn(j1);function fo(e,t,r){if(e&&t)if(typeof t=="object")for(const s of Object.getOwnPropertyNames(t))fo(e,s,t[s]);else{if(t.includes(".")){const n=t.split("."),o=n.splice(-1,1)[0];return void fo(zr(e,n),o,r)}const s=e.__accessor__;s!=null&&U1(t,s),e[t]=r}}function U1(e,t){if($("esri-unknown-property-errors")&&!z1(e,t))throw new G("set:unknown-property",G1(e,t))}function z1(e,t){return t.metadatas[e]!=null}function G1(e,t){return"setting unknown property '"+e+"' on instance of "+t.host.declaredClass}let q1;function V1(){return q1}var Ph;(function(e){e[e.Ignore=0]="Ignore",e[e.Destroy=1]="Destroy",e[e.ThrowError=2]="ThrowError"})(Ph||(Ph={}));function B1(e){e.length=0}let er=class{constructor(t=50,r=50){this._pool=new Zn(Array,void 0,B1,r,t)}acquire(){return this._pool.acquire()}release(t){this._pool.release(t)}prune(){this._pool.prune(0)}static acquire(){return xa.acquire()}static release(t){return xa.release(t)}static prune(){xa.prune()}};const xa=new er(100);let W1=class extends Zn{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=null}acquire(...t){const r=super.acquire(...t);return this._set.delete(r),r}release(t){t&&!this._set.has(t)&&(super.release(t),this._set.add(t))}_dispose(t){this._set.delete(t),super._dispose(t)}};const hi=[];function kf(e){hi.push(e),hi.length===1&&queueMicrotask((()=>{const t=hi.slice();hi.length=0;for(const r of t)r()}))}let Df=class{constructor(t,r=30){this.name=t,this._counter=0,this._samples=new Array(r)}record(t){t!=null&&(this._samples[++this._counter%this._samples.length]=t)}get median(){return this._samples.slice().sort(((t,r)=>t-r))[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce(((t,r)=>t+r),0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}};var rl;(function(e){const t=(o,a,l,c)=>{let d=a,p=a;const m=l>>>1,y=o[d-1];for(;p<=m;){p=d<<1,p<l&&c(o[p-1],o[p])<0&&++p;const g=o[p-1];if(c(g,y)<=0)break;o[d-1]=g,d=p}o[d-1]=y},r=(o,a)=>o<a?-1:o>a?1:0;function s(o,a,l,c){a===void 0&&(a=0),l===void 0&&(l=o.length),c===void 0&&(c=r);for(let p=l>>>1;p>a;p--)t(o,p,l,c);const d=a+1;for(let p=l-1;p>a;p--){const m=o[a];o[a]=o[p],o[p]=m,t(o,d,p,c)}}function*n(o,a,l,c){a===void 0&&(a=0),l===void 0&&(l=o.length),c===void 0&&(c=r);for(let p=l>>>1;p>a;p--)t(o,p,l,c),yield;const d=a+1;for(let p=l-1;p>a;p--){const m=o[a];o[a]=o[p],o[p]=m,t(o,d,p,c),yield}}e.sort=s,e.iterableSort=n})(rl||(rl={}));const Nh=rl,H1=1.5,Z1=1.1;let Rf=class{constructor(t){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new tf,t&&(t.initialSize&&(this.data=new Array(t.initialSize)),t.allocator&&(this._allocator=t.allocator),t.deallocator!==void 0&&(this._deallocator=t.deallocator),t.shrink&&(this._shrink=()=>Ih(this)))}toArray(){return this.data.slice(0,this.length)}filter(t){const r=new Array;for(let s=0;s<this._length;s++){const n=this.data[s];t(n)&&r.push(n)}return r}at(t){if((t=Math.trunc(t)||0)<0&&(t+=this._length),!(t<0||t>=this._length))return this.data[t]}includes(t,r){const s=this.data.indexOf(t,r);return s!==-1&&s<this.length}get length(){return this._length}set length(t){if(t>this._length){if(this._allocator){for(;this._length<t;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=t}else{if(this._deallocator)for(let r=t;r<this._length;++r)this.data[r]=this._deallocator(this.data[r]);this._length=t,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(t){this.data[this._length++]=t}pushArray(t,r=t.length){for(let s=0;s<r;s++)this.data[this._length++]=t[s]}fill(t,r){for(let s=0;s<r;s++)this.data[this._length++]=t}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const t=this.data[this._length];return++this._length,t}unshift(t){this.data.unshift(t),this._length++,Ih(this)}pop(){if(this.length===0)return;const t=this.data[this.length-1];return this.length=this.length-1,this._shrink(),t}remove(t){const r=Ka(this.data,t,this.length,this._hint);if(r!==-1)return this.data.splice(r,1),this.length=this.length-1,t}removeUnordered(t){return this.removeUnorderedIndex(Ka(this.data,t,this.length,this._hint))}removeUnorderedIndex(t){if(!(t>=this.length||t<0))return this.swapElements(t,this.length-1),this.pop()}removeUnorderedMany(t,r=t.length,s){this.length=s1(this.data,t,this.length,r,this._hint,s),this._shrink()}front(){if(this.length!==0)return this.data[0]}back(){if(this.length!==0)return this.data[this.length-1]}swapElements(t,r){if(t>=this.length||r>=this.length||t===r)return;const s=this.data[t];this.data[t]=this.data[r],this.data[r]=s}sort(t){Nh.sort(this.data,0,this.length,t)}iterableSort(t){return Nh.iterableSort(this.data,0,this.length,t)}some(t,r){for(let s=0;s<this.length;++s)if(t.call(r,this.data[s],s,this.data))return!0;return!1}find(t,r){for(let s=0;s<this.length;++s){const n=this.data[s];if(t.call(r,n,s))return n}}filterInPlace(t,r){let s=0;for(let n=0;n<this._length;++n){const o=this.data[n];t.call(r,o,n,this.data)&&(this.data[n]=this.data[s],this.data[s]=o,s++)}if(this._deallocator)for(let n=s;n<this._length;n++)this.data[n]=this._deallocator(this.data[n]);return this._length=s,this._shrink(),this}forAll(t,r){const s=this.length,n=this.data;for(let o=0;o<s;++o)t.call(r,n[o],o,n)}forEach(t,r){for(let s=0;s<this.length;++s)t.call(r,this.data[s],s,this.data)}map(t,r){const s=new Array(this.length);for(let n=0;n<this.length;++n)s[n]=t.call(r,this.data[n],n,this.data);return s}reduce(t,r){let s=r;for(let n=0;n<this.length;++n)s=t(s,this.data[n],n,this.data);return s}has(t){const r=this.length,s=this.data;for(let n=0;n<r;++n)if(s[n]===t)return!0;return!1}};function Ih(e){e.data.length>H1*e.length&&(e.data.length=Math.floor(e.length*Z1))}function J1(e){return{setTimeout:(t,r)=>{const s=e.setTimeout(t,r);return de((()=>e.clearTimeout(s)))}}}const Y1=J1(globalThis);function lc(e){return e&&(typeof e.on=="function"||typeof e.addEventListener=="function")}function Ff(e,t,r){if(!lc(e))throw new TypeError("target is not a Evented or EventTarget object");if("on"in e)return e.on(t,r);if(Array.isArray(t)){const s=t.slice();for(const n of s)e.addEventListener(n,r);return de((()=>{for(const n of s)e.removeEventListener(n,r)}))}return e.addEventListener(t,r),de((()=>e.removeEventListener(t,r)))}function Lf(e,t,r){if(!lc(e))throw new TypeError("target is not a Evented or EventTarget object");if("once"in e)return e.once(t,r);const s=Ff(e,t,(n=>{s.remove(),r.call(e,n)}));return s}const K1={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};function rx({key:e}){return K1[e]||e}function Ee(e="Aborted"){return new G("AbortError",e)}function kn(e,t="Aborted"){if(Gr(e))throw Ee(t)}function Qo(e){return e!=null?"aborted"in e?e:e.signal:e}function Gr(e){const t=Qo(e);return t!=null&&t.aborted}function jf(e){if(Jn(e))throw e}function sx(e){if(!Jn(e))throw e}function vs(e,t){const r=Qo(e);if(r!=null){if(!r.aborted)return Lf(r,"abort",(()=>t()));t()}}function Q1(e,t){const r=Qo(e);if(r!=null)return kn(r),Lf(r,"abort",(()=>t(Ee())))}function nx(e,t){return Qo(t)==null?e:new Promise(((r,s)=>{let n=vs(t,(()=>s(Ee())));const o=()=>{n=Ps(n)};e.then(o,o),e.then(r,s)}))}function Jn(e){return e?.name==="AbortError"}async function ix(e){try{return await e}catch(t){if(!Jn(t))throw t;return}}async function Xo(e){if(!e)return;if(typeof e.forEach!="function"){const r=Object.keys(e),s=r.map((a=>e[a])),n=await Xo(s),o={};return r.map(((a,l)=>o[a]=n[l])),o}const t=e;return Promise.allSettled(t).then((r=>Array.from(t,((s,n)=>{const o=r[n];return o.status==="fulfilled"?{promise:s,value:o.value}:{promise:s,error:o.reason}}))))}async function ox(e){return(await Xo(e)).filter((t=>!!t.value)).map((t=>t.value))}async function ax(e){return(await Promise.allSettled(e)).filter((t=>t.status==="fulfilled")).map((t=>t.value))}async function lx(e){return(await Promise.allSettled(e)).filter((t=>t.status==="rejected")).map((t=>t.reason))}function X1(e,t=void 0,r){const s=new AbortController;return vs(r,(()=>s.abort())),new Promise(((n,o)=>{let a=setTimeout((()=>{a=0,n(t)}),e);vs(s,(()=>{a&&(clearTimeout(a),o(Ee()))}))}))}function Uf(e){return e&&typeof e.then=="function"}function Ch(e){return Uf(e)?e:Promise.resolve(e)}function ux(e,t=-1){let r,s,n,o,a=null;const l=(...c)=>{if(r){s=c,o&&o.reject(Ee()),o=bs();const y=o.promise;if(a){const g=a;a=null,g.abort()}return y}if(n=o||bs(),o=null,t>0){const y=new AbortController;r=Ch(e(...c,y.signal));const g=r;X1(t).then((()=>{r===g&&(o?y.abort():a=y)}))}else r=1,r=Ch(e(...c));const d=()=>{const y=s;s=n=r=a=null,y!=null&&l(...y)},p=r,m=n;return p.then(d,d),p.then(m.resolve,m.reject),m.promise};return l}function bs(){let e,t;const r=new Promise(((n,o)=>{e=n,t=o})),s=n=>{e(n)};return s.resolve=n=>e(n),s.reject=n=>t(n),s.timeout=(n,o)=>Y1.setTimeout((()=>s.reject(o)),n),s.promise=r,s}async function cx(e){await Promise.resolve(),kn(e)}function hx(e){return e}function dx(e){return 1e3*e}function fx(e){return e}let eg=class{constructor(t){this.phases=t,this.paused=!1,this.ticks=-1,this.removed=!1}},tg=class{constructor(t){this.callback=t,this.isActive=!0}remove(){this.isActive=!1}},sl=0;const js={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},nl=["prepare","preRender","render","postRender","update","finish"],il=[],qr=new Rf;let rg=class{constructor(t){this._task=t}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1}};const po={frameTasks:qr,willDispatch:!1,clearFrameTasks:sg,dispatch:Vf,executeFrameTasks:ng};function zf(e){const t=new tg(e);return il.push(t),po.willDispatch||(po.willDispatch=!0,kf(Vf)),t}function gx(e){const t=new eg(e);return qr.push(t),mo==null&&(sl=performance.now(),mo=requestAnimationFrame(Gf)),new rg(t)}let mo=null;function sg(e=!1){qr.forAll((t=>{t.removed=!0})),e&&qf()}function Gf(){const e=performance.now();mo=null,mo=qr.length>0?requestAnimationFrame(Gf):null,po.executeFrameTasks(e)}function ng(e){const t=e-sl;sl=e;const r=1e3/60,s=Math.max(0,t-r);js.time=e,js.frameDuration=r-s;for(let n=0;n<nl.length;n++){const o=performance.now(),a=nl[n];qr.forAll((l=>{l.paused||l.removed||(n===0&&l.ticks++,l.phases[a]&&(js.elapsedFrameTime=performance.now()-e,js.deltaTime=l.ticks===0?0:t,l.phases[a]?.call(l,js)))})),ig[n].record(performance.now()-o)}qf(),og.record(performance.now()-e)}const di=new Rf;function qf(){qr.forAll((e=>{e.removed&&di.push(e)})),qr.removeUnorderedMany(di.data,di.length),di.clear()}function Vf(){for(;il.length;){const e=il.shift();e.isActive&&e.callback()}po.willDispatch=!1}function wx(e=1,t){const r=bs(),s=()=>{Gr(t)?r.reject(Ee()):e===0?r():(--e,kf((()=>s())))};return s(),r.promise}const ig=nl.map((e=>new Df(e))),og=new Df("total");function ag(e,t){for(const r of e.entries())if(t(r[0]))return!0;return!1}function kh(e,t){if(!t)return e;for(const r of t)e.add(r);return e}function lg(e,t){const r=new Set;return kh(r,e),kh(r,t),r}function vx(e,t){const r=new Set;for(const s of t)e.has(s)&&r.add(s);return r}function bx(e,t){if(!e||!t)return!1;if(e===t)return!0;for(const r of e)if(!t.has(r))return!1;return!0}function $x(e,t){if(e==null&&t==null)return!0;if(e==null||t==null||e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}function _x(e,t){const r=new Set(e);for(const s of t)r.delete(s);return r}let ug=0;function _n(){return++ug}let uc=class{constructor(t){this._accessed=[],this._handles=[],this._observerObject=new cg(t),Dh.register(this,new WeakRef(this._observerObject),this)}destroy(){Dh.unregister(this._observerObject),this._accessed.length=0,this._observerObject?.destroy(),this.clear()}onObservableAccessed(t){const r=this._accessed;r.includes(t)||r.push(t)}onTrackingEnd(){const t=this._handles,r=this._accessed,s=this._observerObject;for(let n=0;n<r.length;++n)t.push(r[n].observe(s));r.length=0}clear(){const t=this._handles;for(let r=0;r<t.length;++r)t[r].remove();t.length=0}},cg=class{constructor(t){this._notify=t,this._invalidCount=0,this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(this.destroyed)return;const t=this._invalidCount;if(t===1)return this._invalidCount=0,void this._notify();this._invalidCount=t>0?t-1:0}destroy(){this.destroyed=!0,this._notify=hg}};const Dh=new FinalizationRegistry((e=>{e.deref()?.destroy()}));function hg(){}let ps=!1;const yo=[];function Bf(e,t){let r=new uc(o),s=null,n=!1;function o(){if(!r||n)return;if(ps)return void Hf(o);const l=s;r.clear(),ps=!0,n=!0,s=hr(r,e),n=!1,ps=!1,t(s,l),Zf()}function a(){r&&(r.destroy(),r=null,s=null)}return n=!0,s=hr(r,e),n=!1,de(a)}function Wf(e,t){let r=new uc(n),s=null;function n(){t(s,a)}function o(){r&&(r.destroy(),r=null),s=null}function a(){return r?(r.clear(),s=hr(r,e),s):null}return a(),de(o)}function Tx(e){let t=new uc(s),r=!1;function s(){t&&!r&&(ps?Hf(s):(t.clear(),ps=!0,r=!0,hr(t,e),r=!1,ps=!1,Zf()))}function n(){t&&(t.destroy(),t=null)}return r=!0,hr(t,e),r=!1,de(n)}function Hf(e){yo.includes(e)||yo.unshift(e)}function Zf(){for(;yo.length;)yo.pop()()}var Sn;(function(e){e[e.Untracked=0]="Untracked",e[e.Tracked=1]="Tracked"})(Sn||(Sn={}));let Dn=class{constructor(){this.uid=_n(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(t,r,s,n,o){return this.pool.acquire(Sn.Untracked,t,r,s,n,o,nc)}static acquireTracked(t,r,s,n){return this.pool.acquire(Sn.Tracked,t,r,s,null,null,n)}notify(t,r){this.type===Sn.Untracked?this.callback.call(this.target,t,r,this.path,this.target):this.callback.call(null,t,r,void 0,void 0)}acquire(t,r,s,n,o,a,l){this.uid=_n(),this.removed=!1,this.type=t,this.oldValue=r,this.callback=s,this.getValue=n,this.target=o,this.path=a,this.equals=l}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=_n(),this.removed=!0}};Dn.pool=new W1(Dn);const Ri=new er,Pt=new Set;let go;function wo(e){Pt.delete(e),Pt.add(e),go||(go=zf(pg))}function dg(e){if(e.removed)return;const t=e.oldValue,r=e.getValue();e.equals(t,r)||(e.oldValue=r,e.notify(r,t))}function fg(e){for(const t of Pt.values())t.target===e&&(t.removed=!0)}function pg(){let e=10;for(;go&&e--;){go=null;const t=mg(),r=Ri.acquire();for(const s of t){const n=s.uid;dg(s),n===s.uid&&s.removed&&r.push(s)}for(const s of Pt)s.removed&&(r.push(s),Pt.delete(s));for(const s of r)Dn.pool.release(s);Ri.release(r),Ri.release(t),ol.forEach((s=>s()))}}function mg(){const e=Ri.acquire();e.length=Pt.size;let t=0;for(const r of Pt)e[t]=r,++t;return Pt.clear(),e}const ol=new Set;function Mx(e){return ol.add(e),de((()=>ol.delete(e)))}function yg(e,t,r){let s=xf(e,t,r,((n,o,a)=>{let l,c,d=Wf((()=>Wn(n,o)),((p,m)=>{n.__accessor__.destroyed||l&&l.uid!==c?s.remove():(l||(l=Dn.acquireUntracked(p,a,m,n,o),c=l.uid),wo(l))}));return de((()=>{d.remove(),l&&(l.uid!==c||l.removed||(l.removed=!0,wo(l)),l=null),s=d=null}))}));return s}function gg(e,t,r){const s=xf(e,t,r,((n,o,a)=>{let l=!1;return Bf((()=>Wn(n,o)),((c,d)=>{n.__accessor__.destroyed?s.remove():l||(l=!0,nc(d,c)||a.call(n,c,d,o,n),l=!1)}))}));return s}function wg(e,t,r,s=!1){return!e.__accessor__||e.__accessor__.destroyed?de():s?gg(e,t,r):yg(e,t,r)}function vg(e,t,r){let s,n,o=Wf(e,((a,l)=>{s&&s.uid!==n?o.remove():(s||(s=Dn.acquireTracked(a,t,l,r),n=s.uid),wo(s))}));return de((()=>{o.remove(),s&&(s.uid!==n||s.removed||(s.removed=!0,wo(s)),s=null),o=null}))}function bg(e,t,r){let s=!1;return Bf(e,((n,o)=>{s||(s=!0,r(o,n)||t(n,o),s=!1)}))}function $g(e,t,r=!1,s=h1){return r?bg(e,t,s):vg(e,t,s)}function Ex(e){return ag(Pt,(t=>t.oldValue===e))}function Ax(e,t){for(const[r,s]of e)if(t(s,r))return!0;return!1}function _g(e,t,r){const s=e.get(t);if(s!==void 0)return s;const n=r();return e.set(t,n),n}const ms=V.getLogger("esri.core.accessorSupport.ensureTypes");function Sg(e){return e==null?e:new Date(e)}function xg(e){return e==null?e:!!e}function Tg(e){return e==null?e:e.toString()}function cc(e){return e==null?e:(e=parseFloat(e),isNaN(e)?0:e)}function hc(e){return e==null?e:Math.round(parseFloat(e))}function Jf(e){return e?.constructor&&e.constructor.__accessorMetadata__!==void 0}function vo(e,t){return t!=null&&e&&!(t instanceof e)}function Yf(e){return e&&"isCollection"in e}function Rh(e){return e?.Type?typeof e.Type=="function"?e.Type:e.Type.base:null}function Og(e,t){if(!t?.constructor||!Yf(t.constructor))return al(e,t)?t:new e(t);const r=Rh(e.prototype.itemType),s=Rh(t.constructor.prototype.itemType);return r?s?r===s?t:r.prototype.isPrototypeOf(s.prototype)?new e(t):(al(e,t),t):new e(t):t}function al(e,t){return!!Jf(t)&&(ms.error("Accessor#set","Assigning an instance of '"+(t.declaredClass||"unknown")+"' which is not a subclass of '"+ea(e)+"'"),!0)}function Mg(e,t){return t==null?t:Yf(e)?Og(e,t):vo(e,t)?al(e,t)?t:new e(t):t}function ea(e){return e?.prototype?.declaredClass||"unknown"}const Eg=new WeakMap;function Ag(e){switch(e){case Number:return cc;case we:return hc;case Boolean:return xg;case String:return Tg;case Date:return Sg;default:return _g(Eg,e,(()=>Mg.bind(null,e)))}}function Ke(e,t){const r=Ag(e);return arguments.length===1?r:r(t)}function Rn(e,t,r){return arguments.length===1?Rn.bind(null,e):t&&(Array.isArray(t)?t.map((s=>e(s,r))):[e(t,r)])}function Pg(e,t){return arguments.length===1?Rn((r=>Ke(e,r))):Rn((r=>Ke(e,r)),t)}function Kf(e,t,r){return t!==0&&Array.isArray(r)?r.map((s=>Kf(e,t-1,s))):e(r)}function bo(e,t,r){if(arguments.length===2)return o=>bo(e,t,o);if(!r)return r;r=Kf(e,t,r);let s=t,n=r;for(;s>0&&Array.isArray(n);)s--,n=n[0];if(n!==void 0)for(let o=0;o<s;o++)r=[r];return r}function Ng(e,t,r){return arguments.length===2?bo((s=>Ke(e,s)),t):bo((s=>Ke(e,s)),t,r)}function Qf(e){return!!Array.isArray(e)&&!e.some((t=>{const r=typeof t;return!(r==="string"||r==="number"||r==="function"&&e.length>1)}))}function ll(e,t){if(arguments.length===2)return ll(e).call(null,t);const r=new Set,s=e.filter((l=>typeof l!="function")),n=e.filter((l=>typeof l=="function"));for(const l of e)typeof l!="string"&&typeof l!="number"||r.add(l);let o=null,a=null;return(l,c)=>{if(l==null)return l;const d=typeof l,p=d==="string"||d==="number";return p&&(r.has(l)||n.some((m=>d==="string"&&m===String||d==="number"&&m===Number)))||d==="object"&&n.some((m=>!vo(l,m)))?l:(p&&s.length?(o||(o=s.map((m=>typeof m=="string"?`'${m}'`:`${m}`)).join(", ")),ms.error("Accessor#set",`'${l}' is not a valid value for this property, only the following values are valid: ${o}`)):typeof l=="object"&&n.length?(a||(a=n.map((m=>ea(m))).join(", ")),ms.error("Accessor#set",`'${l}' is not a valid value for this property, value must be one of ${a}`)):ms.error("Accessor#set",`'${l}' is not a valid value for this property`),c&&(c.valid=!1),null)}}function Vr(e,t){if(arguments.length===2)return Vr(e).call(null,t);const r={},s=[],n=[];for(const c in e.typeMap){const d=e.typeMap[c];r[c]=Ke(d),s.push(ea(d)),n.push(c)}const o=()=>`'${s.join("', '")}'`,a=()=>`'${n.join("', '")}'`,l=typeof e.key=="string"?c=>c[e.key]:e.key;return c=>{if(e.base&&!vo(e.base,c)||c==null)return c;const d=l(c)||e.defaultKeyValue,p=r[d];if(!p)return ms.error("Accessor#set",`Invalid property value, value needs to be one of ${o()}, or a plain object that can autocast (having .type = ${a()})`),null;if(!vo(e.typeMap[d],c))return c;if(typeof e.key=="string"&&!Jf(c)){const m={};for(const y in c)y!==e.key&&(m[y]=c[y]);return p(m)}return p(c)}}let we=class{};const Nx={native:e=>({type:"native",value:e}),array:e=>({type:"array",value:e}),oneOf:e=>({type:"one-of",values:e})};function Ig(e){if(!e||!("type"in e))return!1;switch(e.type){case"native":case"array":case"one-of":return!0}return!1}function Xf(e){switch(e.type){case"native":return Ke(e.value);case"array":return Rn(Xf(e.value));case"one-of":return Cg(e);default:return null}}function Cg(e){let t=null;return(r,s)=>cl(r,e)?r:(t==null&&(t=ul(e)),ms.error("Accessor#set",`Invalid property value, value needs to be of type ${t}`),s&&(s.valid=!1),null)}function ul(e){switch(e.type){case"native":switch(e.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case we:return"integer";case Date:return"date";default:return ea(e.value)}case"array":return`array of ${ul(e.value)}`;case"one-of":{const t=e.values.map((r=>ul(r)));return`one of ${t.slice(0,-1)} or ${t[t.length-1]}`}}return"unknown"}function cl(e,t){if(e==null)return!0;switch(t.type){case"native":switch(t.value){case Number:case we:return typeof e=="number";case Boolean:return typeof e=="boolean";case String:return typeof e=="string"}return e instanceof t.value;case"array":return!!Array.isArray(e)&&!e.some((r=>!cl(r,t.value)));case"one-of":return t.values.some((r=>cl(e,r)))}}function h(e={}){return(t,r)=>{if(t===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${t.name}.${r}. Accessor does not support static properties.`);const s=Object.getOwnPropertyDescriptor(t,r),n=Ko(t,r);s&&(s.get||s.set?(n.get=s.get||n.get,n.set=s.set||n.set):"value"in s&&("value"in e&&V.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${r}" on "${t.constructor.name}" already defined in the metadata`,e),n.value=e.value=s.value)),e.readOnly!=null&&(n.readOnly=e.readOnly);const o=e.aliasOf;if(o){const c=typeof o=="string"?o:o.source,d=typeof o=="string"?null:o.overridable===!0;let p;n.dependsOn=[c],n.get=function(){let m=zr(this,c);if(typeof m=="function"){p||(p=c.split(".").slice(0,-1).join("."));const y=zr(this,p);y&&(m=m.bind(y))}return m},n.readOnly||(n.set=d?function(m){this._override(r,m)}:function(m){fo(this,c,m)})}const a=e.type,l=e.types;n.cast||(a?n.cast=kg(a):l&&(Array.isArray(l)?n.cast=Rn(Vr(l[0])):n.cast=Vr(l))),O1(n,e),e.range&&(n.cast=Dg(n.cast,e.range))}}function ep(e,t,r){const s=Ko(e,r);s.json||(s.json={});let n=s.json;return t!==void 0&&(n.origins||(n.origins={}),n.origins[t]||(n.origins[t]={}),n=n.origins[t]),n}function kg(e){let t=0,r=e;if(Ig(e))return Xf(e);for(;Array.isArray(r)&&r.length===1&&typeof r[0]!="string"&&typeof r[0]!="number";)r=r[0],t++;const s=r;if(Qf(s))return t===0?ll(s):bo(ll(s),t);if(t===1)return Pg(s);if(t>1)return Ng(s,t);const n=e;return n.from?n.from:Ke(n)}function Dg(e,t){return r=>{let s=+e(r);return t.step!=null&&(s=Math.round(s/t.step)*t.step),t.min!=null&&(s=Math.max(t.min,s)),t.max!=null&&(s=Math.min(t.max,s)),s}}function Rg(e){if(e.json&&e.json.origins){const t=e.json.origins,r={"web-document":["web-scene","web-map"]};for(const s in r)if(t[s]){const n=t[s];r[s].forEach((o=>{t[o]=n})),delete t[s]}}}let Fn=class extends vf{constructor(t,r,s){super(t,r,s)}};Fn.prototype.type="warning";function tp(e){return!!e&&e.prototype?.declaredClass&&e.prototype.declaredClass.indexOf("esri.core.Collection")===0}const hl=V.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function Fh(e,t,r){e&&(!r&&!t.read||t.read?.reader||t.read?.enabled===!1||jg(e)&&As("read.reader",rp(e),t))}function rp(e){const t=e.ndimArray??0;if(t>1)return Lg(e);if(t===1)return Lh(e);if("type"in e&&np(e.type)){const r=e.type.prototype?.itemType?.Type,s=Lh(typeof r=="function"?{type:r}:{types:r});return(n,o,a)=>{const l=s(n,o,a);return l&&new e.type(l)}}return dc(e)}function dc(e){return"type"in e?Fg(e.type):Ug(e.types)}function Fg(e){return e.prototype.read?(t,r,s)=>{if(t==null)return t;const n=typeof t;if(n!=="object")return void hl.error(`Expected JSON value of type 'object' to deserialize type '${e.prototype.declaredClass}', but got '${n}'`);const o=new e;return o.read(t,s),o}:e.fromJSON}function sp(e,t,r,s){return s!==0&&Array.isArray(t)?t.map((n=>sp(e,n,r,s-1))):e(t,void 0,r)}function Lg(e){const t=dc(e),r=sp.bind(null,t),s=e.ndimArray??0;return(n,o,a)=>{if(n==null)return n;n=r(n,a,s);let l=s,c=n;for(;l>0&&Array.isArray(c);)l--,c=c[0];if(c!==void 0)for(let d=0;d<l;d++)n=[n];return n}}function Lh(e){const t=dc(e);return(r,s,n)=>{if(r==null)return r;if(Array.isArray(r)){const a=[];for(const l of r){const c=t(l,void 0,n);c!==void 0&&a.push(c)}return a}const o=t(r,void 0,n);return o!==void 0?[o]:void 0}}function np(e){if(!tp(e))return!1;const t=e.prototype.itemType;return!(!t||!t.Type)&&(typeof t.Type=="function"?fc(t.Type):ip(t.Type))}function jg(e){return"types"in e?ip(e.types):fc(e.type)}function fc(e){return!Array.isArray(e)&&!!e&&e.prototype&&("read"in e.prototype||"fromJSON"in e||np(e))}function ip(e){for(const t in e.typeMap)if(!fc(e.typeMap[t]))return!1;return!0}function Ug(e){let t=null;const r=e.errorContext??"type",s=e.validate;return(n,o,a)=>{if(n==null)return n;const l=typeof n;if(l!=="object")return void hl.error(`Expected JSON value of type 'object' to deserialize, but got '${l}'`);t||(t=zg(e));const c=e.key;if(typeof c!="string")return;const d=n[c],p=d?t[d]:e.defaultKeyValue?e.typeMap[e.defaultKeyValue]:void 0;if(!p){const y=`Type '${d||"unknown"}' is not supported`;return a?.messages&&n&&a.messages.push(new Fn(`${r}:unsupported`,y,{definition:n,context:a})),void hl.error(y)}const m=new p;return m.read(n,a),s?s(m):m}}function zg(e){const t={};for(const r in e.typeMap){const s=e.typeMap[r],n=Hn(s.prototype);if(typeof e.key=="function")continue;const o=n[e.key];if(!o)continue;o.json?.type&&Array.isArray(o.json.type)&&o.json.type.length===1&&typeof o.json.type[0]=="string"&&(t[o.json.type[0]]=s);const a=o.json?.write;if(!a?.writer){t[r]=s;continue}const l=a.target,c=typeof l=="string"?l:e.key,d={};a.writer(r,d,c),d[c]&&(t[d[c]]=s)}return t}function Gg(e){if(e.json||(e.json={}),Uh(e.json),zh(e.json),jh(e.json),e.json.origins)for(const t in e.json.origins)Uh(e.json.origins[t]),zh(e.json.origins[t]),jh(e.json.origins[t]);return!0}function jh(e){e.name&&(e.read&&typeof e.read=="object"?e.read.source===void 0&&(e.read.source=e.name):e.read={source:e.name},e.write&&typeof e.write=="object"?e.write.target===void 0&&(e.write.target=e.name):e.write={target:e.name})}function Uh(e){typeof e.read=="boolean"?e.read={enabled:e.read}:typeof e.read=="function"?e.read={enabled:!0,reader:e.read}:e.read&&typeof e.read=="object"&&e.read.enabled===void 0&&(e.read.enabled=!0)}function zh(e){typeof e.write=="boolean"?e.write={enabled:e.write}:typeof e.write=="function"?e.write={enabled:!0,writer:e.write}:e.write&&typeof e.write=="object"&&e.write.enabled===void 0&&(e.write.enabled=!0)}function Gh(e,t){if(!t.write||t.write.writer||t.write.enabled===!1&&!t.write.overridePolicy)return;const r=e?.ndimArray??0;e&&(r===1||"type"in e&&tp(e.type))?t.write.writer=Wg:r>1?t.write.writer=Hg(r):t.types?Array.isArray(t.types)?t.write.writer=Vg(t.types[0]):t.write.writer=qg(t.types):t.write.writer=Ln}function qg(e){return(t,r,s,n)=>t?op(t,e,n)?Ln(t,r,s,n):void 0:Ln(t,r,s,n)}function op(e,t,r){for(const s in t.typeMap)if(e instanceof t.typeMap[s])return!0;if(r?.messages){const s=t.errorContext??"type",n=`Values of type '${(typeof t.key!="function"?e[t.key]:e.declaredClass)??"Unknown"}' cannot be written`;r&&r.messages&&e&&r.messages.push(new G(`${s}:unsupported`,n,{definition:e,context:r})),V.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(n)}return!1}function Vg(e){return(t,r,s,n)=>!t||!Array.isArray(t)?Ln(t,r,s,n):Ln(t.filter((o=>op(o,e,n))),r,s,n)}function Ln(e,t,r,s){As(r,$o(e,s),t)}function $o(e,t){return e&&typeof e.write=="function"?e.write({},t):e&&typeof e.toJSON=="function"?e.toJSON():typeof e=="number"?Bg(e):e}function Bg(e){return e===-1/0?-Number.MAX_VALUE:e===1/0?Number.MAX_VALUE:isNaN(e)?null:e}function Wg(e,t,r,s){let n;e===null?n=null:e&&typeof e.map=="function"?(n=e.map((o=>$o(o,s))),typeof n.toArray=="function"&&(n=n.toArray())):n=[$o(e,s)],As(r,n,t)}function ap(e,t,r){return r!==0&&Array.isArray(e)?e.map((s=>ap(s,t,r-1))):$o(e,t)}function Hg(e){return(t,r,s,n)=>{let o;if(t===null)o=null;else{o=ap(t,n,e);let a=e,l=o;for(;a>0&&Array.isArray(l);)a--,l=l[0];if(l!==void 0)for(let c=0;c<a;c++)o=[o]}As(s,o,r)}}function Zg(e,t){return pc(e,"any",t?.origin)}function dl(e,t){return pc(e,"read",t?.origin)}function lp(e,t){return pc(e,"write",t?.origin)}function pc(e,t,r){let s=e?.json;if(s?.origins&&r){let n;n=r==="link-chart"?s.origins[r]&&(t==="any"||t in s.origins[r])?s.origins[r]:s.origins["web-map"]:s.origins[r],n&&(t==="any"||t in n)&&(s=n)}return s}function Jg(e){const t=Yg(e);if(e.json.origins)for(const r in e.json.origins){const s=e.json.origins[r],n=s.types?Kg(s):t;Fh(n,s,!1),s.types&&!s.write&&e.json.write&&e.json.write.enabled&&(s.write={...e.json.write}),Gh(n,s)}Fh(t,e.json,!0),Gh(t,e.json)}function Yg(e){return e.json.types?fl(e.json):e.type?up(e):fl(e)}function Kg(e){return e.type?up(e):fl(e)}function up(e){if(!e.type)return;let t=0,r=e.type;for(;Array.isArray(r)&&!Qf(r);)r=r[0],t++;return{type:r,ndimArray:t}}function fl(e){if(!e.types)return;let t=0,r=e.types;for(;Array.isArray(r);)r=r[0],t++;return{types:r,ndimArray:t}}function Qg(e){Gg(e)&&(Rg(e),Jg(e))}const Ta=new Set,Oa=new Set;function v(e){return t=>{e??="esri.core.Accessor",t.prototype.declaredClass=e,e2(t);const r=[],s=[];let n=t.prototype;for(;n;)n.hasOwnProperty("initialize")&&!Ta.has(n.initialize)&&(Ta.add(n.initialize),r.push(n.initialize)),n.hasOwnProperty("destroy")&&!Oa.has(n.destroy)&&(Oa.add(n.destroy),s.push(n.destroy)),n=Object.getPrototypeOf(n);Ta.clear(),Oa.clear();const o=class extends t{constructor(...l){if(super(...l),this.constructor===o&&typeof this.postscript=="function"){if(r.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let c=r.length-1;c>=0;c--)r[c].call(this)}}),s.length){let c=!1;const d=this[_f];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!c){c=!0,d.call(this);for(let p=0;p<s.length;p++)s[p].call(this)}}})}this.postscript(...l)}}};o.__accessorMetadata__=Hn(t.prototype),o.prototype.declaredClass=e;const a=(e||"AccessorSubclass").split(".").slice(-1)[0];return Object.defineProperty(o,"name",{value:a,configurable:!0}),o}}function Xg(e,t){return t.get==null?function(){const r=this.__accessor__,s=r.propertiesByName.get(e);if(s===void 0)return;A(s);const n=r.store;return n.has(e)?n.get(e):s.metadata.value}:function(){const r=this.__accessor__,s=r.propertiesByName.get(e);if(s!==void 0)return s.getComputed(r)}}function e2(e){const t=e.prototype,r=Hn(t),s={};for(const n of Object.getOwnPropertyNames(r)){const o=r[n];Qg(o),s[n]={enumerable:!0,configurable:!0,get:Xg(n,o),set(a){const l=this.__accessor__;if(l!==void 0){if(!Object.isFrozen(this)){if(l.initialized&&o.readOnly)throw new TypeError(`[accessor] cannot assign to read-only property '${n}' of ${this.declaredClass}`);if(l.lifecycle===Mt.CONSTRUCTED&&o.constructOnly)throw new TypeError(`[accessor] cannot assign to construct-only property '${n}' of ${this.declaredClass}`);l.set(n,a)}}else Object.defineProperty(this,n,{enumerable:!0,configurable:!0,writable:!0,value:a})}}}Object.defineProperties(e.prototype,s)}var cp,hp;function t2(e){if(e==null)return{value:e};if(Array.isArray(e))return{type:[e[0]],value:null};switch(typeof e){case"object":return e.constructor?.__accessorMetadata__||e instanceof Date?{type:e.constructor,value:e}:e;case"boolean":return{type:Boolean,value:e};case"string":return{type:String,value:e};case"number":return{type:Number,value:e};case"function":return{type:e,value:null};default:return}}const qt=Symbol("Accessor-Handles"),pl=Symbol("Accessor-Initialized");let Ae=class dp{static createSubclass(t={}){if(Array.isArray(t))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:r,declaredClass:s,constructor:n}=t;delete t.declaredClass,delete t.properties,delete t.constructor;const o=this;class a extends o{constructor(...c){super(...c),this.inherited=null,n&&n.apply(this,c)}}Hn(a.prototype);for(const l in t){const c=t[l];a.prototype[l]=typeof c=="function"?function(...d){const p=this.inherited;let m;this.inherited=function(...y){if(o.prototype[l])return o.prototype[l].apply(this,y)};try{m=c.apply(this,d)}catch(y){throw this.inherited=p,y}return this.inherited=p,m}:t[l]}for(const l in r){const c=t2(r[l]);h(c)(a.prototype,l)}return v(s)(a)}constructor(...t){if(this[cp]=null,this[hp]=!1,this.constructor===dp)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");const r=new L1(this);Object.defineProperty(this,"__accessor__",{enumerable:!1,value:r}),t.length>0&&this.normalizeCtorArgs&&(r.ctorArgs=this.normalizeCtorArgs.apply(this,t))}postscript(t){const r=this.__accessor__,s=r.ctorArgs||t;r.initialize(),s&&(this.set(s),r.ctorArgs=null),r.constructed(),this.initialize(),this[pl]=!0}initialize(){}[_f](){this[qt]=Ii(this[qt])}destroy(){this.destroyed||(fg(this),this.__accessor__.destroy(),V1()?.onInstanceDestroy(this))}[Symbol.dispose](){this.destroy()}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[pl]}get destroyed(){return this.__accessor__&&this.__accessor__.destroyed||!1}commitProperty(t){zr(this,t)}get(t){return v1(V.getLogger(this),"`Accessor.get` is deprecated in favor of using optional chaining",{version:"4.28",see:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Optional_chaining"}),zr(this,t)}hasOwnProperty(t){return this.__accessor__?this.__accessor__.has(t):Object.prototype.hasOwnProperty.call(this,t)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(t,r){return fo(this,t,r),this}watch(t,r,s){return wg(this,t,r,s)}addHandles(t,r){if(this.destroyed){const n=Array.isArray(t)?t:[t];for(const o of n)o.remove();return}let s=this[qt];s==null&&(s=this[qt]=new b1),s.add(t,r)}removeHandles(t){const r=this[qt];r?.remove(t)}removeAllHandles(){const t=this[qt];t?.removeAll()}hasHandles(t){const r=this[qt];return r!=null&&r.has(t)}_override(t,r){r===void 0?this.__accessor__.clearOverride(t):this.__accessor__.override(t,r)}_clearOverride(t){return this.__accessor__.clearOverride(t)}_overrideIfSome(t,r){r==null?this.__accessor__.clearOverride(t):this.__accessor__.override(t,r)}_isOverridden(t){return this.__accessor__.isOverridden(t)}notifyChange(t){this.__accessor__.notifyChange(t)}_get(t){return this.__accessor__.internalGet(t)}_set(t,r){return this.__accessor__.internalSet(t,r),this}};cp=qt,hp=pl;let r2=class fp{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const r=new fp;return this._values.forEach(((s,n)=>{t&&t.has(n)||r.set(n,T(s.value),s.origin)})),r}get(t,r){r=this._normalizeOrigin(r);const s=this._values.get(t);return r==null||s?.origin===r?s?.value:void 0}originOf(t){return this._values.get(t)?.origin??C.USER}keys(t){t=this._normalizeOrigin(t);const r=[...this._values.keys()];return t==null?r:r.filter((s=>this._values.get(s)?.origin===t))}set(t,r,s){if((s=this._normalizeOrigin(s))===C.DEFAULTS){const n=this._values.get(t);if(n?.origin!=null&&n.origin>s)return}this._values.set(t,new s2(r,s))}delete(t,r){(r=this._normalizeOrigin(r))!=null&&this._values.get(t)?.origin!==r||this._values.delete(t)}has(t,r){return(r=this._normalizeOrigin(r))!=null?this._values.get(t)?.origin===r:this._values.has(t)}forEach(t){this._values.forEach((({value:r},s)=>t(r,s)))}_normalizeOrigin(t){if(t!=null)return t===C.DEFAULTS?t:C.USER}},s2=class{constructor(t,r){this.value=t,this.origin=r}};function n2(e,t,r){t.keys().forEach((n=>{r.set(n,t.get(n),C.DEFAULTS)}));const s=e.metadatas;Object.keys(s).forEach((n=>{e.internalGet(n)&&r.set(n,e.internalGet(n),C.DEFAULTS)}))}function i2(e,t,r){if(!e?.read||e.read.enabled===!1||!e.read.source)return!1;const s=e.read.source;if(typeof s=="string"){if(s===t||s.includes(".")&&s.indexOf(t)===0&&Oh(s,r))return!0}else for(const n of s)if(n===t||n.includes(".")&&n.indexOf(t)===0&&Oh(n,r))return!0;return!1}function o2(e){return e&&(!e.read||e.read.enabled!==!1&&!e.read.source)}function a2(e,t,r,s,n){let o=dl(t[r],n);o2(o)&&(e[r]=!0);for(const a of Object.getOwnPropertyNames(t))o=dl(t[a],n),i2(o,r,s)&&(e[a]=!0)}function l2(e,t,r,s){const n=r.metadatas,o=Zg(n[t],s),a=o?.default;if(a===void 0)return;const l=typeof a=="function"?a.call(e,t,s):a;l!==void 0&&r.set(t,l)}const pp={origin:"service"};function u2(e,t,r=pp){if(!t||typeof t!="object")return;const s=cr(e),n=s.metadatas,o={};for(const a of Object.getOwnPropertyNames(t))a2(o,n,a,t,r);s.setDefaultOrigin(r.origin);for(const a of Object.getOwnPropertyNames(o)){const l=dl(n[a],r).read,c=l?.source;let d;d=c&&typeof c=="string"?Wn(t,c):t[a],l?.reader&&(d=l.reader.call(e,d,t,r)),d!==void 0&&s.set(a,d)}if(!r||!r.ignoreDefaults){s.setDefaultOrigin("defaults");for(const a of Object.getOwnPropertyNames(n))o[a]||l2(e,a,s,r)}s.setDefaultOrigin("user")}function kx(e,t,r,s=pp){const n={...s,messages:[]};r(n),n.messages?.forEach((o=>{o.type!=="warning"||e.loaded?s?.messages&&s.messages.push(o):e.loadWarnings.push(o)}))}function c2(e,t,r,s,n){const o={};return t.write?.writer?.call(e,s,o,r,n),o}function mp(e,t,r,s,n,o){if(!s?.write)return!1;const a=zr(e,r);if(!n&&s.write.overridePolicy){const l=s.write.overridePolicy.call(e,a,r,o??void 0);l!==void 0&&(n=l)}if(n||(n=s.write),!n||n.enabled===!1||n.layerContainerTypes&&o?.layerContainerType&&!n.layerContainerTypes.includes(o.layerContainerType))return!1;if((a===null&&!n.allowNull&&!n.writerEnsuresNonNull||a===void 0)&&n.isRequired){const l=new G("web-document-write:property-required",`Missing value for required property '${r}' on '${e.declaredClass}'`,{propertyName:r,target:e});return l&&o?.messages?o.messages.push(l):l&&!o&&V.getLogger("esri.core.accessorSupport.write").error(l.name,l.message),!1}return!(a===void 0||a===null&&!n.allowNull&&!n.writerEnsuresNonNull||!n.alwaysWriteDefaults&&(!t.store.multipleOriginsSupported||t.store.originOf(r)===C.DEFAULTS)&&h2(e,r,o,s,a)||!n.ignoreOrigin&&o?.origin&&t.store.multipleOriginsSupported&&t.store.originOf(r)<Ef(o.origin))}function h2(e,t,r,s,n){const o=s.default;if(o===void 0)return!1;if(s.defaultEquals!=null)return s.defaultEquals(n);if(typeof o=="function"){if(Array.isArray(n)){const a=o.call(e,t,r??void 0);return Ho(a,n)}return!1}return o===n}function Dx(e,t,r,s){const n=cr(e),o=n.metadatas,a=lp(o[t],s);return!!a&&mp(e,n,t,a,r,s)}function d2(e,t,r){if(e&&typeof e.toJSON=="function"&&(!e.toJSON.isDefaultToJSON||!e.write))return Ci(t,e.toJSON(r));const s=cr(e),n=s.metadatas;for(const o in n){const a=lp(n[o],r);if(!mp(e,s,o,a,void 0,r))continue;const l=zr(e,o),c=c2(e,a,a.write&&typeof a.write.target=="string"?a.write.target:o,l,r);Object.keys(c).length>0&&(t=Ci(t,c),r?.resources?.pendingOperations?.length&&r.resources.pendingOperations.push(Promise.all(r.resources.pendingOperations).then((()=>Ci(t,c,(()=>"replace-arrays"))))),r?.writtenProperties&&r.writtenProperties.push({target:e,propName:o,oldOrigin:C1(s.store.originOf(o)),newOrigin:r.origin}))}return t}const yp=e=>{let t=class extends e{constructor(...r){super(...r);const s=cr(this),n=s.store,o=new r2;s.store=o,n2(s,n,o)}read(r,s){u2(this,r,s)}write(r,s){return d2(this,r??{},s)}toJSON(r){return this.write({},r)}static fromJSON(r,s){return f2.call(this,r,s)}};return t=u([v("esri.core.JSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function f2(e,t){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const r=new this;return r.read(e,t),r}function ml(e){return e&&typeof e=="object"&&"toJSON"in e&&typeof e.toJSON=="function"}let N=class extends yp(Ae){};N=u([v("esri.core.JSONSupport")],N);const p2=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,m2={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};function qh(e){const t=e?.match(p2);if(!t)return null;const[,r,s,n]=t;if(!r)return null;let o=null,a=null,l=null;const{devext:c,qaext:d,www:p}=m2;if(s)if(o=r,n)switch(n.toLowerCase()){case"devext":({customBaseUrl:a,portalHostname:l}=c);break;case"qa":({customBaseUrl:a,portalHostname:l}=d);break;default:return null}else({customBaseUrl:a,portalHostname:l}=p);else switch(r.toLowerCase()){case"devext":({customBaseUrl:a,portalHostname:l}=c);break;case"qaext":({customBaseUrl:a,portalHostname:l}=d);break;case"www":({customBaseUrl:a,portalHostname:l}=p);break;default:return null}return{customBaseUrl:a,isPortal:!1,portalHostname:l,urlKey:o}}function y2(e){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(e)}function g2(e){const t=atob(e),r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r.buffer}function w2(e){const t=new Uint8Array(e);let r="";for(let s=0;s<t.length;s++)r+=String.fromCharCode(t[s]);return btoa(r)}const v2=V.getLogger("esri.core.urlUtils"),Ns=K.request,Vh="esri/config: esriConfig.request.proxyUrl is not set.",gp=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,wp=/^\s*http:/i,b2=/^\s*https:/i,$2=/^\s*file:/i,_2=/:\d+$/,S2=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,x2=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),T2=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$");let ys=class{constructor(t=""){this.uri=t,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let r=this.uri.match(x2);this.scheme=r[2]||(r[1]?"":null),this.authority=r[4]||(r[3]?"":null),this.path=r[5],this.query=r[7]||(r[6]?"":null),this.fragment=r[9]||(r[8]?"":null),this.authority!=null&&(r=this.authority.match(T2),this.user=r[3]||null,this.password=r[4]||null,this.host=r[6]||r[7],this.port=r[9]||null)}toString(){return this.uri}};const fi={},O2=new ys(K.applicationUrl);let ye=O2;const M2=E2();let mc=M2;const yc=()=>ye,Lx=()=>mc;function E2(){const e=ye.path,t=e.substring(0,e.lastIndexOf(e.split("/")[e.split("/").length-1]));return`${`${ye.scheme}://${ye.host}${ye.port!=null?`:${ye.port}`:""}`}${t}`}function dr(e){if(!e)return null;const t={path:null,query:null},r=new ys(e),s=e.indexOf("?");return r.query===null?t.path=e:(t.path=e.substring(0,s),t.query=gc(r.query)),r.fragment&&(t.hash=r.fragment,r.query===null&&(t.path=t.path.substring(0,t.path.length-(r.fragment.length+1)))),t}function gc(e){const t=e.split("&"),r={};for(const s of t){if(!s)continue;const n=s.indexOf("=");let o,a;n<0?(o=decodeURIComponent(s),a=""):(o=decodeURIComponent(s.slice(0,n)),a=decodeURIComponent(s.slice(n+1)));let l=r[o];typeof l=="string"&&(l=r[o]=[l]),Array.isArray(l)?l.push(a):r[o]=a}return r}function jn(e,t){return e?t&&typeof t=="function"?Object.keys(e).map((r=>encodeURIComponent(r)+"="+encodeURIComponent(t(r,e[r])))).join("&"):Object.keys(e).map((r=>{const s=e[r];if(s==null)return"";const n=encodeURIComponent(r)+"=";return Array.isArray(s)?s.map((o=>ml(o)?n+encodeURIComponent(JSON.stringify(o)):n+encodeURIComponent(o))).join("&"):ml(s)?n+encodeURIComponent(JSON.stringify(s)):n+encodeURIComponent(s)})).filter((r=>r)).join("&"):""}function A2(e=!1){let t,r=Ns.proxyUrl;if(typeof e=="string"){t=F2(e);const s=ta(e);s&&(r=s.proxyUrl)}else t=!!e;if(!r)throw v2.warn(Vh),new G("urlutils:proxy-not-set",Vh);return t&&yl()&&(r=Sc(r)),dr(r)}function jx(e){const t=ta(e);let r,s;if(t){const n=wc(t.proxyUrl);r=n.path,s=n.query?gc(n.query):null}if(r){const n=dr(e);e=r+"?"+n.path;const o=jn({...s,...n.query});o&&(e=`${e}?${o}`)}return e}const Us={path:"",query:""};function wc(e){const t=e.indexOf("?");return t!==-1?(Us.path=e.slice(0,t),Us.query=e.slice(t+1)):(Us.path=e,Us.query=null),Us}function vp(e){return e=(e=So(e=G2(e=wc(e).path),!0)).toLowerCase()}function P2(e){const t={proxyUrl:e.proxyUrl,urlPrefix:vp(e.urlPrefix)},r=Ns.proxyRules,s=t.urlPrefix;let n=r.length;for(let o=0;o<r.length;o++){const a=r[o].urlPrefix;if(s.indexOf(a)===0){if(s.length===a.length)return-1;n=o;break}a.indexOf(s)===0&&(n=o+1)}return r.splice(n,0,t),n}function ta(e){const t=Ns.proxyRules,r=vp(e);for(let s=0;s<t.length;s++)if(r.indexOf(t[s].urlPrefix)===0)return t[s]}function Ux(e,t){if(!e||!t)return!1;e=_o(e),t=_o(t);const r=qh(e),s=qh(t);return r!=null&&s!=null?r.portalHostname===s.portalHostname:r==null&&s==null&&$s(e,t,!0)}function N2(e,t){return e=_o(e),t=_o(t),So(e)===So(t)}function _o(e){const t=(e=ur(e)).indexOf("/sharing");return t>0?e.substring(0,t):e.replace(/\/+$/,"")}function I2(e){const t=s=>s==null||s instanceof RegExp&&s.test(e)||typeof s=="string"&&e.startsWith(s),r=Ns.interceptors;if(r){for(const s of r)if(Array.isArray(s.urls)){if(s.urls.some(t))return s}else if(t(s.urls))return s}return null}function $s(e,t,r=!1){if(!e||!t)return!1;const s=wl(e),n=wl(t);return!(!r&&s.scheme!==n.scheme)&&s.host!=null&&n.host!=null&&s.host.toLowerCase()===n.host.toLowerCase()&&s.port===n.port}function vc(e){if(typeof e=="string"){if(!Ye(e))return!0;e=wl(e)}if($s(e,ye))return!0;const t=Ns.trustedServers||[];for(let r=0;r<t.length;r++){const s=C2(t[r]);for(let n=0;n<s.length;n++)if($s(e,s[n]))return!0}return!1}function C2(e){return fi[e]||(_c(e)||fr(e)?fi[e]=[new ys(Yn(e))]:fi[e]=[new ys(`http://${e}`),new ys(`https://${e}`)]),fi[e]}function Yn(e,t=mc,r){return fr(e)?r&&r.preserveProtocolRelative?e:ye.scheme==="http"&&ye.authority===Je(e).slice(2)?`http:${e}`:`https:${e}`:_c(e)?e:bc(e[0]==="/"?z2(t):t,e)}function bp(e,t=mc,r){if(e==null||!Ye(e))return e;const s=ur(e),n=s.toLowerCase(),o=ur(t).toLowerCase().replace(/\/+$/,""),a=r?ur(r).toLowerCase().replace(/\/+$/,""):null;if(a&&o.indexOf(a)!==0)return e;const l=(m,y,g)=>(g=m.indexOf(y,g))===-1?m.length:g;let c=l(n,"/",n.indexOf("//")+2),d=-1;for(;n.slice(0,c+1)===o.slice(0,c)+"/"&&(d=c+1,c!==n.length);)c=l(n,"/",c+1);if(d===-1||a&&d<a.length)return e;e=s.slice(d);const p=o.slice(d-1).replaceAll(/[^/]+/g,"").length;if(p>0)for(let m=0;m<p;m++)e=`../${e}`;else e=`./${e}`;return e}function ur(e){return e=B2(e=V2(e=q2(e=Yn(e=e.trim()))))}function bc(...e){const t=e.filter(i1);if(!t?.length)return;const r=[];if(Ye(t[0])){const n=t[0],o=n.indexOf("//");o!==-1&&(r.push(n.slice(0,o+1)),j2(t[0])&&(r[0]+="/"),t[0]=n.slice(o+2))}else t[0][0]==="/"&&r.push("");const s=t.reduce(((n,o)=>o?n.concat(o.split("/")):n),[]);for(let n=0;n<s.length;n++){const o=s[n];o===".."&&r.length>0&&r[r.length-1]!==".."?r.pop():(!o&&n===s.length-1||o&&(o!=="."||r.length===0))&&r.push(o)}return r.join("/")}function Je(e,t=!1){if(e==null||$c(e)||Is(e))return null;let r=e.indexOf("://");if(r===-1&&fr(e))r=2;else{if(r===-1)return null;r+=3}const s=e.indexOf("/",r);return s!==-1&&(e=e.slice(0,s)),t&&(e=So(e,!0)),e}function Ye(e){return fr(e)||_c(e)}function $c(e){return e!=null&&e.slice(0,5)==="blob:"}function Is(e){return e!=null&&e.slice(0,5)==="data:"}function k2(e){const t=Un(e);return t&&t.isBase64?g2(t.data):null}function zx(e){return w2(e).replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")}const D2=/^data:(.*?)(;base64)?,(.*)$/;function Un(e){const t=e.match(D2);if(!t)return null;const[,r,s,n]=t;return{mediaType:r,isBase64:!!s,data:n}}function $p(e){return e.isBase64?`data:${e.mediaType};base64,${e.data}`:`data:${e.mediaType},${e.data}`}async function Gx(e){return(await fetch(e)).blob()}function qx(e){const t=k2(e);if(!t)return null;const r=Un(e);return new Blob([t],{type:r.mediaType})}function Vx(e,t){R2(e,t)}function R2(e,t){if(!e)return!1;const r=document.createElement("a");if(!("download"in r))return!1;const s=URL.createObjectURL(e);return r.download=t,r.href=s,r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(s),!0}function fr(e){return e!=null&&e[0]==="/"&&e[1]==="/"}function _c(e){return e!=null&&gp.test(e)}function F2(e){return e!=null&&b2.test(e)||ye.scheme==="https"&&fr(e)}function L2(e){return e!=null&&wp.test(e)||ye.scheme==="http"&&fr(e)}function j2(e){return e!=null&&$2.test(e)}function Sc(e){return fr(e)?`https:${e}`:e.replace(wp,"https:")}function U2(){return ye.scheme==="http"}function yl(){return ye.scheme==="https"}function So(e,t=!1){return fr(e)?e.slice(2):(e=e.replace(gp,""),t&&e.length>1&&e[0]==="/"&&e[1]==="/"&&(e=e.slice(2)),e)}function z2(e){const t=e.indexOf("//"),r=e.indexOf("/",t+2);return r===-1?e:e.slice(0,r)}function Bx(e){let t=0;if(Ye(e)){const s=e.indexOf("//");s!==-1&&(t=s+2)}const r=e.lastIndexOf("/");return r<t?e:e.slice(0,r+1)}function Wx(e,t){if(!e)return"";const r=dr(e).path.replace(/\/+$/,""),s=r.substring(r.lastIndexOf("/")+1);if(!t?.length)return s;const n=new RegExp(`.(${t.join("|")})$`,"ig");return s.replace(n,"")}function G2(e){return e.endsWith("/")?e:`${e}/`}function Hx(e){return e.replace(/\/+$/,"")}function q2(e){if(/^https?:\/\//i.test(e)){const t=wc(e);e=(e=t.path.replaceAll(/\/{2,}/g,"/")).replace("/","//"),t.query&&(e+=`?${t.query}`)}return e}function V2(e){return e.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}function B2(e){const t=Ns.httpsDomains;if(!L2(e))return e;const r=e.indexOf("/",7);let s;if(s=r===-1?e:e.slice(0,r),s=s.toLowerCase().slice(7),_2.test(s)){if(!s.endsWith(":80"))return e;s=s.slice(0,-3),e=e.replace(":80","")}return U2()&&s===ye.authority&&!S2.test(e)||(yl()&&s===ye.authority||t&&t.some((n=>s===n||s.endsWith(`.${n}`)))||yl()&&!ta(e))&&(e=Sc(e)),e}function gl(e,t,r){if(!(t&&r&&e&&Ye(e)))return e;const s=e.indexOf("//"),n=e.indexOf("/",s+2),o=e.indexOf(":",s+2),a=Math.min(n<0?e.length:n,o<0?e.length:o);return e.slice(s+2,a).toLowerCase()!==t.toLowerCase()?e:`${e.slice(0,s+2)}${r}${e.slice(a)}`}function wl(e){return typeof e=="string"?new ys(Yn(e)):(e.scheme||(e.scheme=ye.scheme),e)}function Zx(e){return W2.test(e)}function Jx(e,t){const r=dr(e),s=Object.keys(r.query||{});return s.length>0&&t&&t.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${s.join(", ")}.`),r.path}function _p(e,t,r){const s=dr(e),n=s.query||{};return n[t]=String(r),`${s.path}?${jn(n)}`}function Ma(e,t){if(!t)return e;const r=dr(e),s=r.query||{};for(const[o,a]of Object.entries(t))a!=null&&(s[o]=a);const n=jn(s);return n?`${r.path}?${n}`:r.path}function Yx(e){if(e==null)return null;const t=e.match(Sp);return t?t[2]:null}function Bh(e){if(e==null)return null;const t=e.match(Sp);return t?{path:t[1],extension:t[2]}:{path:e,extension:null}}async function Kx(e){return typeof e=="string"?Un(e)??{data:e}:new Promise(((t,r)=>{const s=new FileReader;s.readAsDataURL(e),s.onload=()=>t(Un(s.result)),s.onerror=n=>r(n)}))}const Sp=/([^.]*)\.([^\/]*)$/,W2=/(^data:image\/svg|\.svg$)/i;Symbol.dispose??=Symbol("Symbol.dispose"),Symbol.asyncDispose??=Symbol("Symbol.asyncDispose");const H2="4.28";let ue,Z2=H2;Z2="4.28.3";function Qx(e){ue=e}function Xx(e){const t=ue?.findCredential(e);return t?.token?_p(e,"token",t.token):e}$("host-webworker");const J2=new Set(["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"]);function xp(e){const t=Je(e,!0);return!!t&&t.endsWith(".arcgis.com")&&!J2.has(t)&&!e.endsWith("/sharing/rest/generateToken")}function Y2(e,t,r=!1,s){return new Promise(((n,o)=>{if(Gr(s))return void o(Wh());let a=()=>{d(),o(new Error(`Unable to load ${t}`))},l=()=>{const p=e;d(),n(p)},c=()=>{if(!e)return;const p=e;d(),p.src="",o(Wh())};const d=()=>{$("esri-image-decode")||(e.removeEventListener("error",a),e.removeEventListener("load",l)),a=null,l=null,e=null,s?.removeEventListener("abort",c),c=null,r&&URL.revokeObjectURL(t)};s?.addEventListener("abort",c),$("esri-image-decode")?e.decode().then(l,a):(e.addEventListener("error",a),e.addEventListener("load",l))}))}function Wh(){try{return new DOMException("Aborted","AbortError")}catch{const e=new Error;return e.name="AbortError",e}}const K2="Timeout exceeded";function Q2(){return new Error(K2)}function X2(e){K.request.crossOriginNoCorsDomains||(K.request.crossOriginNoCorsDomains={});const t=K.request.crossOriginNoCorsDomains;for(let r of e)r=r.toLowerCase(),/^https?:\/\//.test(r)?t[Je(r)??""]=0:(t[Je("http://"+r)??""]=0,t[Je("https://"+r)??""]=0)}function e3(e){const t=K.request.crossOriginNoCorsDomains;if(t){let r=Je(e);if(r)return r=r.toLowerCase(),!$s(r,yc())&&t[r]<Date.now()-36e5}return!1}async function t3(e){const t=K.request.crossOriginNoCorsDomains,r=Je(e);t&&r&&(t[r.toLowerCase()]=Date.now());const s=dr(e);e=s.path,s.query?.f==="json"&&(e+="?f=json");try{await fetch(e,{mode:"no-cors",credentials:"include"})}catch{}}async function Qe(e,t){e instanceof URL&&(e=e.toString()),t?.query instanceof URLSearchParams&&(t.query=gc(t.query.toString().replaceAll("+"," ")));const r=Is(e),s=$c(e);s||r||(e=ur(e));const n={url:e,requestOptions:{...t}};let o=I2(e);if(o){const d=await u3(o,n);if(d!=null)return{data:d,getHeader:xc,httpStatus:200,requestOptions:n.requestOptions,url:n.url};o.after||o.error||(o=null)}if(e=n.url,(t=n.requestOptions).responseType==="image"&&($("host-webworker")||$("host-node")))throw ft("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),n);if(t.method==="head"){if(t.body)throw ft("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),n);if(r||s)throw ft("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),n)}if(await o3(),xo)return xo.execute(e,t);const a=new AbortController;vs(t,(()=>a.abort()));const l={controller:a,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:o,params:n,redoRequest:!1,useIdentity:He.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},c=await h3(l);return o?.after?.(c),c}let xo;const He=K.request,Tp="FormData"in globalThis,r3=new Set([499,498,403,401]),s3=new Set(["COM_0056","COM_0057","SB_0008"]),n3=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],xc=()=>null,To=Symbol();function i3(e){const t=Je(e);t&&!Qe._corsServers.includes(t)&&Qe._corsServers.push(t)}function Hh(e){const t=Je(e);return!t||t.endsWith(".arcgis.com")||Qe._corsServers.includes(t)||vc(t)}function ft(e,t,r,s){let n="Error";const o={url:r.url,requestOptions:r.requestOptions,getHeader:xc,ssl:!1};if(t instanceof G)return t.details?(t.details=T(t.details),t.details.url=r.url,t.details.requestOptions=r.requestOptions):t.details=o,t;if(t){const a=s&&(d=>s.headers.get(d)),l=s?.status,c=t.message;c&&(n=c),a&&(o.getHeader=a),o.httpStatus=(t.httpCode!=null?t.httpCode:t.code)||l||0,o.subCode=t.subcode,o.messageCode=t.messageCode,typeof t.details=="string"?o.messages=[t.details]:o.messages=t.details,o.raw=To in t?t[To]:t}return Jn(t)?Ee():new G(e,n,o)}async function o3(){$("host-webworker")?xo||(xo=await pt(()=>import("./request-C80u8doJ.js"),__vite__mapDeps([0,1]),import.meta.url)):Qe._abortableFetch||(Qe._abortableFetch=globalThis.fetch.bind(globalThis))}async function vl(){ue||await pt(()=>import("./IdentityManager-BHOBG9hJ.js"),__vite__mapDeps([2,3,4,1]),import.meta.url)}async function a3(e){const t=e.params.url,r=e.params.requestOptions,s=e.controller.signal,n=r.body;let o=null,a=null;if(Tp&&"HTMLFormElement"in globalThis&&(n instanceof FormData?o=n:n instanceof HTMLFormElement&&(o=new FormData(n))),typeof n=="string"&&(a=n),e.fetchOptions={cache:r.cacheBust&&!("polyfill"in Qe._abortableFetch)?"no-cache":"default",credentials:"same-origin",headers:r.headers||{},method:r.method==="head"?"HEAD":"GET",mode:"cors",priority:He.priority,redirect:"follow",signal:s},(o||a)&&(e.fetchOptions.body=o||a),r.authMode==="anonymous"&&(e.useIdentity=!1),e.hasToken=!!(/token=/i.test(t)||r.query?.token||o?.get("token")),!e.hasToken&&K.apiKey&&xp(t)&&(r.query||(r.query={}),r.query.token=K.apiKey,e.hasToken=!0),e.useIdentity&&!e.hasToken&&!e.credentialToken&&!Op(t)&&!Gr(s)){let l;r.authMode==="immediate"?(await vl(),l=await ue.getCredential(t,{signal:s}),e.credential=l):r.authMode==="no-prompt"?(await vl(),l=await ue.getCredential(t,{prompt:!1,signal:s}).catch((()=>{})),e.credential=l):ue&&(l=ue.findCredential(t)),l&&(e.credentialToken=l.token,e.useSSL=!!l.ssl)}}function Op(e){return n3.some((t=>t.test(e)))}async function l3(e){let t=e.params.url;const r=e.params.requestOptions,s=e.fetchOptions??{},n=$c(t)||Is(t),o=r.responseType||"json",a=n?0:r.timeout!=null?r.timeout:He.timeout;let l=!1;if(!n){e.useSSL&&(t=Sc(t)),r.cacheBust&&s.cache==="default"&&(t=_p(t,"request.preventCache",Date.now()));let y={...r.query};e.credentialToken&&(y.token=e.credentialToken);let g=jn(y);$("esri-url-encodes-apostrophe")&&(g=g.replaceAll("'","%27"));const b=t.length+1+g.length;let S;l=r.method==="delete"||r.method==="post"||r.method==="put"||!!r.body||b>He.maxUrlLength;const x=r.useProxy||!!ta(t);if(x){const M=A2(t);S=M.path,!l&&S.length+1+b>He.maxUrlLength&&(l=!0),M.query&&(y={...M.query,...y})}if(s.method==="HEAD"&&(l||x)){if(l)throw b>He.maxUrlLength?ft("request:invalid-parameters",new Error("URL exceeds maximum length"),e.params):ft("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),e.params);if(x)throw ft("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),e.params)}l?(s.method=r.method==="delete"?"DELETE":r.method==="put"?"PUT":"POST",r.body?t=Ma(t,y):(s.body=jn(y),s.headers||(s.headers={}),s.headers["Content-Type"]="application/x-www-form-urlencoded")):t=Ma(t,y),x&&(e.useProxy=!0,t=`${S}?${t}`),y.token&&Tp&&s.body instanceof FormData&&!y2(t)&&s.body.set("token",y.token),r.hasOwnProperty("withCredentials")?e.withCredentials=r.withCredentials:$s(t,yc())||(vc(t)||ue&&ue.findServerInfo(t)?.webTierAuth)&&(e.withCredentials=!0),e.withCredentials&&(s.credentials="include",e3(t)&&await t3(l?Ma(t,y):t))}let c,d,p=0,m=!1;a>0&&(p=setTimeout((()=>{m=!0,e.controller.abort()}),a));try{if(r.responseType==="native-request-init")d=s,d.url=t;else if(r.responseType!=="image"||s.cache!=="default"||s.method!=="GET"||l||c3(r.headers)||!n&&!e.useProxy&&He.proxyUrl&&!Hh(t)){if(c=await Qe._abortableFetch(t,s),e.useProxy||i3(t),r.responseType==="native")d=c;else if(s.method!=="HEAD")if(c.ok){switch(o){case"array-buffer":d=await c.arrayBuffer();break;case"blob":case"image":d=await c.blob();break;default:d=await c.text()}if(p&&(clearTimeout(p),p=0),o==="json"||o==="xml"||o==="document")if(d)switch(o){case"json":d=JSON.parse(d);break;case"xml":d=Zh(d,"application/xml");break;case"document":d=Zh(d,"text/html")}else d=null;if(d){if(o==="array-buffer"||o==="blob"){const y=c.headers.get("Content-Type");if(y&&/application\/json|text\/plain/i.test(y)&&d[o==="blob"?"size":"byteLength"]<=750)try{const g=await new Response(d).json();g.error&&(d=g)}catch{}}o==="image"&&d instanceof Blob&&(d=await Jh(URL.createObjectURL(d),e,!0))}}else{d=await c.text();try{d=JSON.parse(d)}catch{}}}else d=await Jh(t,e)}catch(y){if(y.name==="AbortError")throw m?Q2():Ee("Request canceled");if(!(!c&&y instanceof TypeError&&He.proxyUrl)||r.body||r.method==="delete"||r.method==="head"||r.method==="post"||r.method==="put"||e.useProxy||Hh(t))throw y;e.redoRequest=!0,P2({proxyUrl:He.proxyUrl,urlPrefix:Je(t)??""})}finally{p&&clearTimeout(p)}return[c,d]}async function u3(e,t){if(e.responseData!=null)return e.responseData;if(e.headers&&(t.requestOptions.headers={...t.requestOptions.headers,...e.headers}),e.query&&(t.requestOptions.query={...t.requestOptions.query,...e.query}),e.before){let r,s;try{s=await e.before(t)}catch(n){r=ft("request:interceptor",n,t)}if((s instanceof Error||s instanceof G)&&(r=ft("request:interceptor",s,t)),r)throw e.error&&e.error(r),r;return s}}function c3(e){if(e){for(const t of Object.getOwnPropertyNames(e))if(e[t])return!0}return!1}function Zh(e,t){let r;try{r=new DOMParser().parseFromString(e,t)}catch{}if(!r||r.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return r}async function h3(e){let t,r;await a3(e);try{do[t,r]=await l3(e);while(!await d3(e,t,r))}catch(o){const a=ft("request:server",o,e.params,t);throw a.details.ssl=e.useSSL,e.interceptor?.error&&e.interceptor.error(a),a}const s=e.params.url;if(r&&/\/sharing\/rest\/(accounts|portals)\/self/i.test(s)){if(!e.hasToken&&!e.credentialToken&&r.user?.username&&!vc(s)){const o=Je(s,!0);o&&He.trustedServers.push(o)}Array.isArray(r.authorizedCrossOriginNoCorsDomains)&&X2(r.authorizedCrossOriginNoCorsDomains)}const n=e.credential;if(n&&ue){let a=ue.findServerInfo(n.server)?.owningSystemUrl;if(a){a=a.replace(/\/?$/,"/sharing");const l=ue.findCredential(a,n.userId);l&&ue._getIdenticalSvcIdx(a,l)===-1&&l.resources.unshift(a)}}return{data:r,getHeader:t?o=>t?.headers.get(o):xc,httpStatus:t?.status??200,requestOptions:e.params.requestOptions,ssl:e.useSSL,url:e.params.url}}async function d3(e,t,r){if(e.redoRequest)return e.redoRequest=!1,!1;const s=e.params.requestOptions;if(!t||s.responseType==="native"||s.responseType==="native-request-init")return!0;let n,o;if(r&&(r.error?n=r.error:r.status==="error"&&Array.isArray(r.messages)&&(n={...r},n[To]=r,n.details=r.messages)),!n&&!t.ok)throw n=new Error(`Unable to load ${t.url} status: ${t.status}`),n[To]=r,n;let a,l=null;n&&(o=Number(n.code),l=n.hasOwnProperty("subcode")?Number(n.subcode):null,a=n.messageCode,a=a?.toUpperCase());const c=s.authMode;if(o===403&&(l===4||n.message?.toLowerCase().includes("ssl")&&!n.message.toLowerCase().includes("permission"))){if(!e.useSSL)return e.useSSL=!0,!1}else if(!e.hasToken&&e.useIdentity&&(c!=="no-prompt"||o===498)&&o!==void 0&&r3.has(o)&&!Op(e.params.url)&&(o!==403||(!a||!s3.has(a))&&(l==null||l===2&&e.credentialToken))){await vl();try{const d=await ue.getCredential(e.params.url,{error:ft("request:server",n,e.params),prompt:c!=="no-prompt",signal:e.controller.signal,token:e.credentialToken});return e.credential=d,e.credentialToken=d.token,e.useSSL=e.useSSL||d.ssl,!1}catch(d){if(c==="no-prompt")return e.credential=void 0,e.credentialToken=void 0,!1;n=d}}if(n)throw n;return!0}function Jh(e,t,r=!1){const s=t.controller.signal,n=new Image;return t.withCredentials?n.crossOrigin="use-credentials":n.crossOrigin="anonymous",n.alt="",n.fetchPriority=He.priority,n.src=e,Y2(n,e,r,s)}Qe._abortableFetch=null,Qe._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"];let Fi=class Mp{constructor(){this._emitter=new Mp.EventEmitter(this)}emit(t,r){return this._emitter.emit(t,r)}on(t,r){return this._emitter.on(t,r)}once(t,r){return this._emitter.once(t,r)}hasEventListener(t){return this._emitter.hasEventListener(t)}};(function(e){class t{constructor(n=null){this._target=n,this._listenersMap=null}clear(){this._listenersMap?.clear(),this._listenersMap=null}destroy(){this.clear()}emit(n,o){let a=this._listenersMap?.get(n);if(!a)return!1;const l=this._target||this;let c=!1;for(const d of a.slice()){const p="deref"in d?d.deref():d;p?p?.call(l,o):c=!0}return c&&(a=a.filter((d=>!("deref"in d)||d.deref()!=null)),this._listenersMap.set(n,a)),a.length>0}on(n,o){if(Array.isArray(n)){const l=n.map((c=>this.on(c,o)));return oc(l)}if(n.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap??=new Map;const a=this._listenersMap.get(n)||[];return a.push(o),this._listenersMap.set(n,a),de((()=>{const l=this._listenersMap?.get(n),c=l?.indexOf(o)??-1;c>=0&&l.splice(c,1)}))}once(n,o){const a=this.on(n,(l=>{a.remove(),("deref"in o?o.deref():o)?.call(null,l)}));return a}hasEventListener(n){const o=this._listenersMap?.get(n);return o!=null&&o.length>0}}e.EventEmitter=t,e.EventedMixin=s=>{let n=class extends s{constructor(){super(...arguments),this._emitter=new t}destroy(){this._emitter.clear()}emit(o,a){return this._emitter.emit(o,a)}on(o,a){return this._emitter.on(o,a)}once(o,a){return this._emitter.once(o,a)}hasEventListener(o){return this._emitter.hasEventListener(o)}};return n=u([v("esri.core.Evented")],n),n};let r=class extends Ae{constructor(){super(...arguments),this._emitter=new Fi.EventEmitter(this)}destroy(){this._emitter.clear()}emit(s,n){return this._emitter.emit(s,n)}on(s,n){return this._emitter.on(s,n)}once(s,n){return this._emitter.once(s,n)}hasEventListener(s){return this._emitter.hasEventListener(s)}};r=u([v("esri.core.Evented")],r),e.EventedAccessor=r})(Fi||(Fi={}));const f3=Fi;var L;(function(e){e[e.ADD=1]="ADD",e[e.REMOVE=2]="REMOVE",e[e.MOVE=4]="MOVE"})(L||(L={}));function p3(e){return(t,r)=>{t[r]=e}}let m3=class extends Mf{notify(){const t=this._observers;if(t&&t.length>0){const r=t.slice();for(const s of r)s.onInvalidated(),s.onCommitted()}}};var Ot;let y3=class{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(t){this.defaultPrevented=!1,this.item=t}},g3=class{constructor(t,r,s,n,o){this.target=t,this.added=r,this.removed=s,this.start=n,this.deleteCount=o}};const Ne=new Zn(y3,void 0,(e=>{e.item=null,e.target=null,e.defaultPrevented=!1,e.cancellable=!1}));function Ea(e){return e?e instanceof kr?e.toArray():e.length?Array.prototype.slice.apply(e):[]:[]}function Aa(e){if(e?.length)return e[0]}function w3(e,t,r,s){const n=Math.min(e.length-r,t.length-s);let o=0;for(;o<n&&e[r+o]===t[s+o];)o++;return o}function Ep(e,t,r,s){t&&t.forEach(((n,o,a)=>{e.push(n),Ep(e,r.call(s,n,o,a),r,s)}))}const Rt=new Set,Ft=new Set,Lt=new Set,Pa=new Map;let v3=0,kr=Ot=class extends f3.EventedAccessor{static isCollection(e){return e!=null&&e instanceof Ot}constructor(e){super(e),this._chgListeners=[],this._notifications=null,this._timer=null,this._observable=new m3,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:v3++})}normalizeCtorArgs(e){return e?Array.isArray(e)||e instanceof Ot?{items:e}:e:{}}destroy(){this._removeAllRaw()}*[Symbol.iterator](){yield*this.items}get items(){return A(this._observable),this._items}set items(e){this._emitBeforeChanges(L.ADD)||(this._splice(0,this.length,Ea(e)),this._emitAfterChanges(L.ADD))}hasEventListener(e){return e==="change"?this._chgListeners.length>0:this._emitter.hasEventListener(e)}on(e,t){if(e==="change"){const r=this._chgListeners,s={removed:!1,callback:t};return r.push(s),this._notifications&&this._notifications.push({listeners:r.slice(),items:this._items.slice(),changes:[]}),de((()=>{s.removed=!0,r.splice(r.indexOf(s),1)}))}return this._emitter.on(e,t)}once(e,t){const r="deref"in t?()=>t.deref():()=>t,s=this.on(e,(n=>{r()?.call(null,n),s.remove()}));return s}add(e,t){if(A(this._observable),this._emitBeforeChanges(L.ADD))return this;const r=this.getNextIndex(t??null);return this._splice(r,0,[e]),this._emitAfterChanges(L.ADD),this}addMany(e,t=this._items.length){if(A(this._observable),!e?.length)return this;if(this._emitBeforeChanges(L.ADD))return this;const r=this.getNextIndex(t);return this._splice(r,0,Ea(e)),this._emitAfterChanges(L.ADD),this}at(e){if(A(this._observable),(e=Math.trunc(e)||0)<0&&(e+=this.length),!(e<0||e>=this.length))return this._items[e]}removeAll(){if(A(this._observable),!this.length||this._emitBeforeChanges(L.REMOVE))return[];const e=this._removeAllRaw();return this._emitAfterChanges(L.REMOVE),e}_removeAllRaw(){return this.length===0?[]:this._splice(0,this.length)||[]}clone(){return A(this._observable),this._createNewInstance({items:this._items.map(T)})}concat(...e){A(this._observable);const t=e.map(Ea);return this._createNewInstance({items:this._items.concat(...t)})}drain(e,t){if(A(this._observable),!this.length||this._emitBeforeChanges(L.REMOVE))return;const r=this._splice(0,this.length),s=r.length;for(let n=0;n<s;n++)e.call(t,r[n],n,r);this._emitAfterChanges(L.REMOVE)}every(e,t){return A(this._observable),this._items.every(e,t)}filter(e,t){let r;return A(this._observable),r=arguments.length===2?this._items.filter(e,t):this._items.filter(e),this._createNewInstance({items:r})}find(e,t){return A(this._observable),this._items.find(e,t)}findIndex(e,t){return A(this._observable),this._items.findIndex(e,t)}flatten(e,t){A(this._observable);const r=[];return Ep(r,this,e,t),new Ot(r)}forEach(e,t){return A(this._observable),this._items.forEach(e,t)}getItemAt(e){return A(this._observable),this._items[e]}getNextIndex(e){A(this._observable);const t=this.length;return(e=e??t)<0?e=0:e>t&&(e=t),e}includes(e,t=0){return A(this._observable),this._items.includes(e,t)}indexOf(e,t=0){return A(this._observable),this._items.indexOf(e,t)}join(e=","){return A(this._observable),this._items.join(e)}lastIndexOf(e,t=this.length-1){return A(this._observable),this._items.lastIndexOf(e,t)}map(e,t){A(this._observable);const r=this._items.map(e,t);return new Ot({items:r})}reorder(e,t=this.length-1){A(this._observable);const r=this.indexOf(e);if(r!==-1){if(t<0?t=0:t>=this.length&&(t=this.length-1),r!==t){if(this._emitBeforeChanges(L.MOVE))return e;this._splice(r,1),this._splice(t,0,[e]),this._emitAfterChanges(L.MOVE)}return e}}pop(){if(A(this._observable),!this.length||this._emitBeforeChanges(L.REMOVE))return;const e=Aa(this._splice(this.length-1,1));return this._emitAfterChanges(L.REMOVE),e}push(...e){return A(this._observable),this._emitBeforeChanges(L.ADD)||(this._splice(this.length,0,e),this._emitAfterChanges(L.ADD)),this.length}reduce(e,t){A(this._observable);const r=this._items;return arguments.length===2?r.reduce(e,t):r.reduce(e)}reduceRight(e,t){A(this._observable);const r=this._items;return arguments.length===2?r.reduceRight(e,t):r.reduceRight(e)}remove(e){return A(this._observable),this.removeAt(this.indexOf(e))}removeAt(e){if(A(this._observable),e<0||e>=this.length||this._emitBeforeChanges(L.REMOVE))return;const t=Aa(this._splice(e,1));return this._emitAfterChanges(L.REMOVE),t}removeMany(e){if(A(this._observable),!e?.length||this._emitBeforeChanges(L.REMOVE))return[];const t=e instanceof Ot?e.toArray():e,r=this._items,s=[],n=t.length;for(let o=0;o<n;o++){const a=t[o],l=r.indexOf(a);if(l>-1){const c=1+w3(t,r,o+1,l+1),d=this._splice(l,c);d&&d.length>0&&s.push.apply(s,d),o+=c-1}}return this._emitAfterChanges(L.REMOVE),s}reverse(){if(A(this._observable),this._emitBeforeChanges(L.MOVE))return this;const e=this._splice(0,this.length);return e&&(e.reverse(),this._splice(0,0,e)),this._emitAfterChanges(L.MOVE),this}shift(){if(A(this._observable),!this.length||this._emitBeforeChanges(L.REMOVE))return;const e=Aa(this._splice(0,1));return this._emitAfterChanges(L.REMOVE),e}slice(e=0,t=this.length){return A(this._observable),this._createNewInstance({items:this._items.slice(e,t)})}some(e,t){return A(this._observable),this._items.some(e,t)}sort(e){if(A(this._observable),!this.length||this._emitBeforeChanges(L.MOVE))return this;const t=this._splice(0,this.length);return arguments.length?t.sort(e):t.sort(),this._splice(0,0,t),this._emitAfterChanges(L.MOVE),this}splice(e,t,...r){A(this._observable);const s=(t?L.REMOVE:0)|(r.length?L.ADD:0);if(this._emitBeforeChanges(s))return[];const n=this._splice(e,t,r)||[];return this._emitAfterChanges(s),n}toArray(){return A(this._observable),this._items.slice()}toJSON(){return A(this._observable),this.toArray()}toLocaleString(){return A(this._observable),this._items.toLocaleString()}toString(){return A(this._observable),this._items.toString()}unshift(...e){return A(this._observable),!e.length||this._emitBeforeChanges(L.ADD)||(this._splice(0,0,e),this._emitAfterChanges(L.ADD)),this.length}_createNewInstance(e){return new this.constructor(e)}_splice(e,t,r){const s=this._items,n=this.itemType;let o,a;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=zf((()=>this._dispatchChange()))),e<0&&(e+=this.length),t){if(a=s.splice(e,t),this.hasEventListener("before-remove")){const l=Ne.acquire();l.target=this,l.cancellable=!0;for(let c=0,d=a.length;c<d;c++)o=a[c],l.reset(o),this.emit("before-remove",l),l.defaultPrevented&&(a.splice(c,1),s.splice(e,0,o),e+=1,c-=1,d-=1);Ne.release(l)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const l=Ne.acquire();l.target=this,l.cancellable=!1;const c=a.length;for(let d=0;d<c;d++)l.reset(a[d]),this.emit("after-remove",l);Ne.release(l)}}if(r?.length){if(n){const p=[];for(const m of r){const y=n.ensureType(m);y==null&&m!=null||p.push(y)}r=p}const l=this.hasEventListener("before-add"),c=this.hasEventListener("after-add"),d=e===this.length;if(l||c){const p=Ne.acquire();p.target=this,p.cancellable=!0;const m=Ne.acquire();m.target=this,m.cancellable=!1;for(const y of r)l?(p.reset(y),this.emit("before-add",p),p.defaultPrevented||(d?s.push(y):s.splice(e++,0,y),this._set("length",s.length),c&&(m.reset(y),this.emit("after-add",m)))):(d?s.push(y):s.splice(e++,0,y),this._set("length",s.length),m.reset(y),this.emit("after-add",m));Ne.release(m),Ne.release(p)}else{if(d)for(const p of r)s.push(p);else s.splice(e,0,...r);this._set("length",s.length)}}if((r?.length||a?.length)&&this._notifyChangeEvent(r,a),this.hasEventListener("after-splice")){const l=new g3(this,r,a,e,t);this.emit("after-splice",l)}return a}_emitBeforeChanges(e){let t=!1;if(this.hasEventListener("before-changes")){const r=Ne.acquire();r.target=this,r.cancellable=!0,r.type=e,this.emit("before-changes",r),t=r.defaultPrevented,Ne.release(r)}return t}_emitAfterChanges(e){if(this.hasEventListener("after-changes")){const t=Ne.acquire();t.target=this,t.cancellable=!1,t.type=e,this.emit("after-changes",t),Ne.release(t)}this._observable.notify()}_notifyChangeEvent(e,t){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:e,removed:t})}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),!this._notifications)return;const e=this._notifications;this._notifications=null;for(const t of e){const r=t.changes;Rt.clear(),Ft.clear(),Lt.clear();for(const{added:c,removed:d}of r){if(c)if(Lt.size===0&&Ft.size===0)for(const p of c)Rt.add(p);else for(const p of c)Ft.has(p)?(Lt.add(p),Ft.delete(p)):Lt.has(p)||Rt.add(p);if(d)if(Lt.size===0&&Rt.size===0)for(const p of d)Ft.add(p);else for(const p of d)Rt.has(p)?Rt.delete(p):(Lt.delete(p),Ft.add(p))}const s=er.acquire();Rt.forEach((c=>{s.push(c)}));const n=er.acquire();Ft.forEach((c=>{n.push(c)}));const o=this._items,a=t.items,l=er.acquire();if(Lt.forEach((c=>{a.indexOf(c)!==o.indexOf(c)&&l.push(c)})),t.listeners&&(s.length||n.length||l.length)){const c={target:this,added:s,removed:n,moved:l},d=t.listeners.length;for(let p=0;p<d;p++){const m=t.listeners[p];m.removed||m.callback.call(this,c)}}er.release(s),er.release(n),er.release(l)}Rt.clear(),Ft.clear(),Lt.clear()}};kr.ofType=e=>{if(!e)return Ot;if(Pa.has(e))return Pa.get(e);let t=null;if(typeof e=="function")t=e.prototype.declaredClass;else if(e.base)t=e.base.prototype.declaredClass;else for(const s in e.typeMap){const n=e.typeMap[s].prototype.declaredClass;t?t+=` | ${n}`:t=n}let r=class extends Ot{};return u([p3({Type:e,ensureType:typeof e=="function"?Ke(e):Vr(e)})],r.prototype,"itemType",void 0),r=u([v(`esri.core.Collection<${t}>`)],r),Pa.set(e,r),r},u([h()],kr.prototype,"length",void 0),u([h()],kr.prototype,"items",null),kr=Ot=u([v("esri.core.Collection")],kr);const te=kr;function b3(e,t,r=te){return t||(t=new r),t===e||(t.removeAll(),_3(e)?t.addMany(e):e&&t.add(e)),t}function $3(e){return e}function _3(e){return e&&(Array.isArray(e)||"items"in e&&Array.isArray(e.items))}var tr;(function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"})(tr||(tr={}));let S3=class{constructor(){this._resolver=bs(),this._status=tr.PENDING,this._resolvingPromises=[],this._resolver.promise.then((()=>{this._status=tr.RESOLVED,this._cleanUp()}),(()=>{this._status=tr.REJECTED,this._cleanUp()})),this.promise=this._resolver.promise}destroy(){this._cleanUp()}addResolvingPromise(t){this._resolvingPromises.push(t),this._tryResolve()}isResolved(){return this._status===tr.RESOLVED}isRejected(){return this._status===tr.REJECTED}isFulfilled(){return this._status!==tr.PENDING}abort(){this._resolver.reject(Ee())}_cleanUp(){this._allPromise=null,this._resolvingPromises=null}_tryResolve(){if(this.isFulfilled())return;const t=bs(),r=[...this._resolvingPromises,t.promise],s=this._allPromise=Promise.all(r);s.then((()=>{this.isFulfilled()||this._allPromise!==s||this._resolver.resolve()}),(n=>{this.isFulfilled()||this._allPromise!==s||Jn(n)||this._resolver.reject(n)})),t.resolve()}};const x3=e=>{let t=class extends e{constructor(...r){super(...r),this._promiseProps=new S3,this.addResolvingPromise(Promise.resolve())}destroy(){this._promiseProps.destroy()}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(r,s){return this._promiseProps.promise.then((()=>this)).then(r,s)}catch(r){return this.when(null,r)}addResolvingPromise(r){r&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in r?r.when():r)}};return t=u([v("esri.core.Promise")],t),t};let bl=class extends x3(Ae){};bl=u([v("esri.core.Promise")],bl);const T3="not-loaded",O3="loading",M3="failed",Yh="loaded",Ap=e=>{let t=class extends e{constructor(...r){super(...r),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise((s=>{const n=this.load.bind(this);this.load=o=>{const a=new Promise(((l,c)=>{const d=Q1(o,c);this.destroyed&&c(new G("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this.when(l,c).finally((()=>{d&&d.remove()}))}));if(this.loadStatus===T3){this._set("loadStatus",O3);const l=this._loadController=new AbortController;n({signal:l.signal})}return s(),a}}))),this.when((()=>{this._set("loadStatus",Yh),this._loadController=null}),(s=>{this._set("loadStatus",M3),this._set("loadError",s),this._loadController=null}))}destroy(){this._loadController&&(this._loadController=$f(this._loadController),this._promiseProps.abort()),this._set("loadError",null),this._set("loadWarnings",[])}get loaded(){return this.loadStatus===Yh}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){return this.isFulfilled()||(this._set("loadError",new G("load:cancelled","Cancelled")),this._loadController?.abort(),this._promiseProps.abort()),this}};return u([h({readOnly:!0})],t.prototype,"loaded",null),u([h({readOnly:!0})],t.prototype,"loadError",void 0),u([h({clonable:!1})],t.prototype,"loadStatus",void 0),u([h({type:[Fn],readOnly:!0})],t.prototype,"loadWarnings",null),t=u([v("esri.core.Loadable")],t),t};let Ks=class extends Ap(bl){};Ks=u([v("esri.core.Loadable")],Ks),(function(e){function t(r){return!(!r||!r.load)}e.LoadableMixin=Ap,e.isLoadable=t})(Ks||(Ks={}));const E3=Ks;function oT(e,t,r){return Xo(e.map(((s,n)=>t.apply(r,[s,n]))))}async function aT(e,t,r){return(await Xo(e.map(((s,n)=>t.apply(r,[s,n]))))).map((s=>s.value))}function Tc(e){return{ok:!0,value:e}}function Oc(e){return{ok:!1,error:e}}function A3(e){return e!=null&&e.ok===!0?e.value:null}function P3(e){return e!=null&&e.ok===!1?e.error:null}async function lT(e){if(e==null)return{ok:!1,error:new Error("no promise provided")};try{return Tc(await e)}catch(t){return Oc(t)}}async function uT(e){try{return Tc(await e)}catch(t){return jf(t),Oc(t)}}function cT(e,t){return new Vt(e,t)}let Vt=class extends Ae{get value(){return A3(this._result)}get error(){return P3(this._result)}get finished(){return this._result!=null}constructor(t,r){super({}),this._result=null,this._abortHandle=null,this.abort=()=>{this._abortController=$f(this._abortController)},this.remove=this.abort,this._abortController=new AbortController;const{signal:s}=this._abortController;this.promise=t(s),this.promise.then((n=>{this._result=Tc(n),this._cleanup()}),(n=>{this._result=Oc(n),this._cleanup()})),this._abortHandle=vs(r,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=Ps(this._abortHandle),this._abortController=null}};u([h()],Vt.prototype,"value",null),u([h()],Vt.prototype,"error",null),u([h()],Vt.prototype,"finished",null),u([h()],Vt.prototype,"promise",void 0),u([h()],Vt.prototype,"_result",void 0),Vt=u([v("esri.core.asyncUtils.ReactiveTask")],Vt);function ee(e,t,r){let s,n;return t===void 0?(n=e,s=[void 0]):typeof t!="string"?(n=e,s=[void 0],r=t):(n=t,s=Array.isArray(e)?e:[e]),(o,a)=>{const l=o.constructor.prototype;for(const c of s){const d=ep(o,c,n);d.write&&typeof d.write=="object"||(d.write={}),r&&(d.write.target=r),d.write.writer=l[a]}}}let It=class{constructor(t,r={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=t,this._options=r,this.apiValues=[],this.jsonValues=[],this._apiToJSON=this._invertMap(t),this.apiValues=this._getKeysSorted(this._apiToJSON),this.jsonValues=this._getKeysSorted(this._jsonToAPI),this.read=s=>this.fromJSON(s),this.write=(s,n,o)=>{const a=this.toJSON(s);a!==void 0&&As(o,a,n)},this.write.isJSONMapWriter=!0}toJSON(t){if(t==null)return null;if(this._apiToJSON.hasOwnProperty(t)){const r=this._apiToJSON[t];return this._options.useNumericKeys?+r:r}return this._options.ignoreUnknown?void 0:t}fromJSON(t){return t!=null&&this._jsonToAPI.hasOwnProperty(t)?this._jsonToAPI[t]:this._options.ignoreUnknown?void 0:t}_invertMap(t){const r={};for(const s in t)r[t[s]]=s;return r}_getKeysSorted(t){const r=[];for(const s in t)r.push(s);return r.sort(),r}};function tt(){return function(e,t){return new It(e,{ignoreUnknown:!0,...t})}}let Mc=class{constructor(t,r,s,n){this.semiMajorAxis=t,this.flattening=r,this.outerAtmosphereRimWidth=s;const o=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*o,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=n||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}};const Xe=new Mc(6378137,1/298.257223563,3e5,.006694379990137799),ra=new Mc(3396190,1/169.8944472236118,23e4),sa=new Mc(1737400,0,0),N3=V.getLogger("esri.assets");function Pp(e){if(!K.assetsPath)throw N3.errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new G("assets:path-not-set","config.assetsPath is not set");return bc(K.assetsPath,e)}let Na,w=null;function I3(){return!!w}function C3(){return!!$("esri-wasm")}function k3(){return Na||(Na=pt(()=>import("./pe-wasm-bypJfer-.js"),__vite__mapDeps([5,6]),import.meta.url).then((e=>e.p)).then((({default:e})=>e({locateFile:t=>Pp(`esri/geometry/support/${t}`)}))).then((e=>{Ip(e)})),Na)}var $l,Z,_l;(function(e){function t(o,a,l){w.ensureCache.prepare();const c=Dr(l),d=l===c,p=w.ensureFloat64(c),m=w._pe_geog_to_proj(w.getPointer(o),a,p);return m&&nr(l,a,p,d),m}function r(o,a,l,c){switch(c){case Z.PE_TRANSFORM_P_TO_G:return s(o,a,l);case Z.PE_TRANSFORM_G_TO_P:return t(o,a,l)}return 0}function s(o,a,l){return n(o,a,l,0)}function n(o,a,l,c){w.ensureCache.prepare();const d=Dr(l),p=l===d,m=w.ensureFloat64(d),y=w._pe_proj_to_geog_center(w.getPointer(o),a,m,c);return y&&nr(l,a,m,p),y}e.geogToProj=t,e.projGeog=r,e.projToGeog=s,e.projToGeogCenter=n})($l||($l={})),(function(e){function t(){e.PE_BUFFER_MAX=w.PeDefs.prototype.PE_BUFFER_MAX,e.PE_NAME_MAX=w.PeDefs.prototype.PE_NAME_MAX,e.PE_MGRS_MAX=w.PeDefs.prototype.PE_MGRS_MAX,e.PE_USNG_MAX=w.PeDefs.prototype.PE_USNG_MAX,e.PE_DD_MAX=w.PeDefs.prototype.PE_DD_MAX,e.PE_DDM_MAX=w.PeDefs.prototype.PE_DDM_MAX,e.PE_DMS_MAX=w.PeDefs.prototype.PE_DMS_MAX,e.PE_UTM_MAX=w.PeDefs.prototype.PE_UTM_MAX,e.PE_PARM_MAX=w.PeDefs.prototype.PE_PARM_MAX,e.PE_TYPE_NONE=w.PeDefs.prototype.PE_TYPE_NONE,e.PE_TYPE_GEOGCS=w.PeDefs.prototype.PE_TYPE_GEOGCS,e.PE_TYPE_PROJCS=w.PeDefs.prototype.PE_TYPE_PROJCS,e.PE_TYPE_GEOGTRAN=w.PeDefs.prototype.PE_TYPE_GEOGTRAN,e.PE_TYPE_COORDSYS=w.PeDefs.prototype.PE_TYPE_COORDSYS,e.PE_TYPE_UNIT=w.PeDefs.prototype.PE_TYPE_UNIT,e.PE_TYPE_LINUNIT=w.PeDefs.prototype.PE_TYPE_LINUNIT,e.PE_STR_OPTS_NONE=w.PeDefs.prototype.PE_STR_OPTS_NONE,e.PE_STR_AUTH_NONE=w.PeDefs.prototype.PE_STR_AUTH_NONE,e.PE_STR_AUTH_TOP=w.PeDefs.prototype.PE_STR_AUTH_TOP,e.PE_STR_NAME_CANON=w.PeDefs.prototype.PE_STR_NAME_CANON,e.PE_STR_FMT_WKT=w.PeDefs.prototype.PE_STR_FMT_WKT,e.PE_STR_FMT_WKT2=w.PeDefs.prototype.PE_STR_FMT_WKT2,e.PE_PARM_X0=w.PeDefs.prototype.PE_PARM_X0,e.PE_PARM_ND=w.PeDefs.prototype.PE_PARM_ND,e.PE_TRANSFORM_1_TO_2=w.PeDefs.prototype.PE_TRANSFORM_1_TO_2,e.PE_TRANSFORM_2_TO_1=w.PeDefs.prototype.PE_TRANSFORM_2_TO_1,e.PE_TRANSFORM_P_TO_G=w.PeDefs.prototype.PE_TRANSFORM_P_TO_G,e.PE_TRANSFORM_G_TO_P=w.PeDefs.prototype.PE_TRANSFORM_G_TO_P,e.PE_HORIZON_RECT=w.PeDefs.prototype.PE_HORIZON_RECT,e.PE_HORIZON_POLY=w.PeDefs.prototype.PE_HORIZON_POLY,e.PE_HORIZON_LINE=w.PeDefs.prototype.PE_HORIZON_LINE,e.PE_HORIZON_DELTA=w.PeDefs.prototype.PE_HORIZON_DELTA}e.init=t})(Z||(Z={})),(function(e){const t={},r={},s=g=>{if(g){const b=g.getType();switch(b){case Z.PE_TYPE_GEOGCS:g=w.castObject(g,w.PeGeogcs);break;case Z.PE_TYPE_PROJCS:g=w.castObject(g,w.PeProjcs);break;case Z.PE_TYPE_GEOGTRAN:g=w.castObject(g,w.PeGeogtran);break;default:b&Z.PE_TYPE_UNIT&&(g=w.castObject(g,w.PeUnit))}}return g};function n(){w.PeFactory.prototype.initialize(null)}function o(g){return a(Z.PE_TYPE_COORDSYS,g)}function a(g,b){let S=null,x=t[g];if(x||(x={},t[g]=x),x.hasOwnProperty(String(b)))S=x[b];else{const M=w.PeFactory.prototype.factoryByType(g,b);w.compare(M,w.NULL)||(S=M,x[b]=S)}return S=s(S),S}function l(g,b){let S=null,x=r[g];if(x||(x={},r[g]=x),x.hasOwnProperty(b))S=x[b];else{const M=w.PeFactory.prototype.fromString(g,b);w.compare(M,w.NULL)||(S=M,x[b]=S)}return S=s(S),S}function c(g){return a(Z.PE_TYPE_GEOGCS,g)}function d(g){return a(Z.PE_TYPE_GEOGTRAN,g)}function p(g){return w.PeFactory.prototype.getCode(g)}function m(g){return a(Z.PE_TYPE_PROJCS,g)}function y(g){return a(Z.PE_TYPE_UNIT,g)}e.initialize=n,e.coordsys=o,e.factoryByType=a,e.fromString=l,e.geogcs=c,e.geogtran=d,e.getCode=p,e.projcs=m,e.unit=y})(_l||(_l={}));let Np=null;var Oo,Sl,xl,Tl,Mo,Ol,Eo,Ao,Ml;function Ip(e){function t(o,a,l){o[a]=l(o[a])}w=e,Z.init(),Oo.init(),Mo.init(),Eo.init(),Ao.init(),Np=class extends w.PeGCSExtent{destroy(){w.destroy(this)}};const r=[w.PeDatum,w.PeGeogcs,w.PeGeogtran,w.PeObject,w.PeParameter,w.PePrimem,w.PeProjcs,w.PeSpheroid,w.PeUnit];for(const o of r)t(o.prototype,"getName",(a=>function(){return a.call(this,new Array(Z.PE_NAME_MAX))}));for(const o of[w.PeGeogtran,w.PeProjcs])t(o.prototype,"getParameters",(a=>function(){const l=new Array(Z.PE_PARM_MAX);let c=a.call(this);for(let d=0;d<l.length;d++){const p=w.getValue(c,"*");l[d]=p?w.wrapPointer(p,w.PeParameter):null,c+=Int32Array.BYTES_PER_ELEMENT}return l}));t(w.PeHorizon.prototype,"getCoord",(o=>function(){const a=this.getSize();if(!a)return null;const l=[];return nr(l,a,o.call(this)),l})),t(w.PeGTlistExtendedEntry.prototype,"getEntries",(o=>{const a=w._pe_getPeGTlistExtendedGTsSize();return function(){let l=null;const c=o.call(this);if(!w.compare(c,w.NULL)){l=[c];const d=this.getSteps();if(d>1){const p=w.getPointer(c);for(let m=1;m<d;m++)l.push(w.wrapPointer(p+a*m,w.PeGTlistExtendedGTs))}}return l}}));const s=w._pe_getPeHorizonSize(),n=o=>function(){let a=this._cache;if(a||(a=new Map,this._cache=a),a.has(o))return a.get(o);let l=null;const c=o.call(this);if(!w.compare(c,w.NULL)){l=[c];const d=c.getNump();if(d>1){const p=w.getPointer(c);for(let m=1;m<d;m++)l.push(w.wrapPointer(p+s*m,w.PeHorizon))}}return a.set(o,l),l};t(w.PeProjcs.prototype,"horizonGcsGenerate",n),t(w.PeProjcs.prototype,"horizonPcsGenerate",n),w.PeObject.prototype.toString=function(o=Z.PE_STR_OPTS_NONE){w.ensureCache.prepare();const a=w.getPointer(this),l=w.ensureInt8(new Array(Z.PE_BUFFER_MAX));return w.UTF8ToString(w._pe_object_to_string_ext(a,o,l))}}function vt(e){if(!e)return;const t=w.getClass(e);if(!t)return;const r=w.getCache(t);if(!r)return;const s=w.getPointer(e);s&&delete r[s]}function pi(e,t){const r=[],s=new Array(t);for(let n=0;n<e;n++)r.push(w.ensureInt8(s));return r}function Dr(e){let t;return Array.isArray(e[0])?(t=[],e.forEach((r=>{t.push(r[0],r[1])}))):t=e,t}function nr(e,t,r,s=!1){if(s)for(let n=0;n<2*t;n++)e[n]=w.getValue(r+n*Float64Array.BYTES_PER_ELEMENT,"double");else{const n=e.length===0;for(let o=0;o<t;o++)n&&(e[o]=new Array(2)),e[o][0]=w.getValue(r,"double"),e[o][1]=w.getValue(r+Float64Array.BYTES_PER_ELEMENT,"double"),r+=2*Float64Array.BYTES_PER_ELEMENT}}(function(e){let t;function r(){e.PE_GTLIST_OPTS_COMMON=w.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,t=w._pe_getPeGTlistExtendedEntrySize()}function s(n,o,a,l,c,d){let p=null;const m=new w.PeInteger(d);try{const y=w.PeGTlistExtended.prototype.getGTlist(n,o,a,l,c,m);if((d=m.val)&&(p=[y],d>1)){const g=w.getPointer(y);for(let b=1;b<d;b++)p.push(w.wrapPointer(g+t*b,w.PeGTlistExtendedEntry))}}finally{w.destroy(m)}return p}e.init=r,e.getGTlist=s})(Oo||(Oo={})),(function(e){function t(r){if(r?.length){for(const s of r)vt(s),s.getEntries().forEach((n=>{vt(n);const o=n.getGeogtran();vt(o),o.getParameters().forEach(vt),[o.getGeogcs1(),o.getGeogcs2()].forEach((a=>{vt(a);const l=a.getDatum();vt(l),vt(l.getSpheroid()),vt(a.getPrimem()),vt(a.getUnit())}))}));w.PeGTlistExtendedEntry.prototype.Delete(r[0])}}e.destroy=t})(Sl||(Sl={})),(function(e){function t(r,s,n,o,a){w.ensureCache.prepare();const l=Dr(n),c=n===l,d=w.ensureFloat64(l);let p=0;o&&(p=w.ensureFloat64(o));const m=w._pe_geog_to_geog(w.getPointer(r),s,d,p,a);return m&&nr(n,s,d,c),m}e.geogToGeog=t})(xl||(xl={})),(function(e){const t=(d,p,m,y,g,b)=>{let S,x;switch(w.ensureCache.prepare(),d){case"dd":S=w._pe_geog_to_dd,x=Z.PE_DD_MAX;break;case"ddm":S=w._pe_geog_to_ddm,x=Z.PE_DDM_MAX;break;case"dms":S=w._pe_geog_to_dms,x=Z.PE_DMS_MAX}let M=0;p&&(M=w.getPointer(p));const P=Dr(y),F=w.ensureFloat64(P),W=pi(m,x),z=S(M,m,F,g,w.ensureInt32(W));if(z)for(let be=0;be<m;be++)b[be]=w.UTF8ToString(W[be]);return z},r=(d,p,m,y,g)=>{let b;switch(w.ensureCache.prepare(),d){case"dd":b=w._pe_dd_to_geog;break;case"ddm":b=w._pe_ddm_to_geog;break;case"dms":b=w._pe_dms_to_geog}let S=0;p&&(S=w.getPointer(p));const x=y.map((W=>w.ensureString(W))),M=w.ensureInt32(x),P=w.ensureFloat64(new Array(2*m)),F=b(S,m,M,P);return F&&nr(g,m,P),F};function s(d,p,m,y,g){return t("dms",d,p,m,y,g)}function n(d,p,m,y){return r("dms",d,p,m,y)}function o(d,p,m,y,g){return t("ddm",d,p,m,y,g)}function a(d,p,m,y){return r("ddm",d,p,m,y)}function l(d,p,m,y,g){return t("dd",d,p,m,y,g)}function c(d,p,m,y){return r("dd",d,p,m,y)}e.geogToDms=s,e.dmsToGeog=n,e.geogToDdm=o,e.ddmToGeog=a,e.geogToDd=l,e.ddToGeog=c})(Tl||(Tl={})),(function(e){function t(){e.PE_MGRS_STYLE_NEW=w.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,e.PE_MGRS_STYLE_OLD=w.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,e.PE_MGRS_STYLE_AUTO=w.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,e.PE_MGRS_180_ZONE_1_PLUS=w.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,e.PE_MGRS_ADD_SPACES=w.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES}function r(n,o,a,l,c,d,p){w.ensureCache.prepare();let m=0;n&&(m=w.getPointer(n));const y=Dr(a),g=w.ensureFloat64(y),b=pi(o,Z.PE_MGRS_MAX),S=w.ensureInt32(b),x=w._pe_geog_to_mgrs_extended(m,o,g,l,c,d,S);if(x)for(let M=0;M<o;M++)p[M]=w.UTF8ToString(b[M]);return x}function s(n,o,a,l,c){w.ensureCache.prepare();let d=0;n&&(d=w.getPointer(n));const p=a.map((b=>w.ensureString(b))),m=w.ensureInt32(p),y=w.ensureFloat64(new Array(2*o)),g=w._pe_mgrs_to_geog_extended(d,o,m,l,y);return g&&nr(c,o,y),g}e.init=t,e.geogToMgrsExtended=r,e.mgrsToGeogExtended=s})(Mo||(Mo={})),(function(e){function t(s,n,o,a,l,c,d){w.ensureCache.prepare();let p=0;s&&(p=w.getPointer(s));const m=Dr(o),y=w.ensureFloat64(m),g=pi(n,Z.PE_MGRS_MAX),b=w.ensureInt32(g),S=w._pe_geog_to_usng(p,n,y,a,l,c,b);if(S)for(let x=0;x<n;x++)d[x]=w.UTF8ToString(g[x]);return S}function r(s,n,o,a){w.ensureCache.prepare();let l=0;s&&(l=w.getPointer(s));const c=o.map((y=>w.ensureString(y))),d=w.ensureInt32(c),p=w.ensureFloat64(new Array(2*n)),m=w._pe_usng_to_geog(l,n,d,p);return m&&nr(a,n,p),m}e.geogToUsng=t,e.usngToGeog=r})(Ol||(Ol={})),(function(e){function t(){e.PE_UTM_OPTS_NONE=w.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,e.PE_UTM_OPTS_ADD_SPACES=w.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,e.PE_UTM_OPTS_NS=w.PeNotationUtm.prototype.PE_UTM_OPTS_NS}function r(n,o,a,l,c){w.ensureCache.prepare();let d=0;n&&(d=w.getPointer(n));const p=Dr(a),m=w.ensureFloat64(p),y=pi(o,Z.PE_UTM_MAX),g=w.ensureInt32(y),b=w._pe_geog_to_utm(d,o,m,l,g);if(b)for(let S=0;S<o;S++)c[S]=w.UTF8ToString(y[S]);return b}function s(n,o,a,l,c){w.ensureCache.prepare();let d=0;n&&(d=w.getPointer(n));const p=a.map((b=>w.ensureString(b))),m=w.ensureInt32(p),y=w.ensureFloat64(new Array(2*o)),g=w._pe_utm_to_geog(d,o,m,l,y);return g&&nr(c,o,y),g}e.init=t,e.geogToUtm=r,e.utmToGeog=s})(Eo||(Eo={})),(function(e){const t=new Map;function r(){e.PE_PCSINFO_OPTION_NONE=w.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,e.PE_PCSINFO_OPTION_DOMAIN=w.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,e.PE_POLE_OUTSIDE_BOUNDARY=w.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,e.PE_POLE_POINT=w.PePCSInfo.prototype.PE_POLE_POINT}function s(n,o=e.PE_PCSINFO_OPTION_DOMAIN){let a=null,l=null;return t.has(n)&&(l=t.get(n),l[o]&&(a=l[o])),a||(a=w.PePCSInfo.prototype.generate(n,o),l||(l=[],t.set(n,l)),l[o]=a),a}e.init=r,e.generate=s})(Ao||(Ao={})),(function(e){function t(){return w.PeVersion.prototype.version_string()}e.versionString=t})(Ml||(Ml={}));const pT=Object.freeze(Object.defineProperty({__proto__:null,get PeCSTransformations(){return $l},get PeDefs(){return Z},get PeFactory(){return _l},get PeGCSExtent(){return Np},get PeGTTransformations(){return xl},get PeGTlistExtended(){return Oo},get PeGTlistExtendedEntry(){return Sl},get PeNotationDms(){return Tl},get PeNotationMgrs(){return Mo},get PeNotationUsng(){return Ol},get PeNotationUtm(){return Eo},get PePCSInfo(){return Ao},get PeVersion(){return Ml},_init:Ip,get _pe(){return w},isLoaded:I3,isSupported:C3,load:k3},Symbol.toStringTag,{value:"Module"}));var _s;(function(e){e[e.CGCS2000=4490]="CGCS2000",e[e.GCSMARS2000=104971]="GCSMARS2000",e[e.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE",e[e.GCSMOON2000=104903]="GCSMOON2000"})(_s||(_s={}));let i;const f={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9895:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,10160:0,10183:0,10188:0,10194:0,10199:0,10207:0,10212:0,10217:0,10222:0,10227:0,10235:0,10240:0,10250:0,10254:0,10270:0,10275:0,10280:0,10306:0,10329:0,10471:0,20002:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2,103897:1};for(i=2e3;i<=2045;i++)f[i]=0;for(i=2056;i<=2065;i++)f[i]=0;for(i=2067;i<=2135;i++)f[i]=0;for(i=2137;i<=2154;i++)f[i]=0;for(i=2161;i<=2170;i++)f[i]=0;for(i=2172;i<=2193;i++)f[i]=0;for(i=2195;i<=2198;i++)f[i]=0;for(i=2200;i<=2203;i++)f[i]=0;for(i=2205;i<=2217;i++)f[i]=0;for(i=2222;i<=2224;i++)f[i]=1;for(i=2225;i<=2250;i++)f[i]=2;for(i=2251;i<=2253;i++)f[i]=1;for(i=2257;i<=2264;i++)f[i]=2;for(i=2274;i<=2279;i++)f[i]=2;for(i=2280;i<=2282;i++)f[i]=1;for(i=2283;i<=2289;i++)f[i]=2;for(i=2290;i<=2292;i++)f[i]=0;for(i=2308;i<=2313;i++)f[i]=0;for(i=2315;i<=2491;i++)f[i]=0;for(i=2494;i<=2866;i++)f[i]=0;for(i=2867;i<=2869;i++)f[i]=1;for(i=2870;i<=2888;i++)f[i]=2;for(i=2891;i<=2895;i++)f[i]=2;for(i=2896;i<=2898;i++)f[i]=1;for(i=2902;i<=2908;i++)f[i]=2;for(i=2915;i<=2920;i++)f[i]=2;for(i=2921;i<=2923;i++)f[i]=1;for(i=2924;i<=2930;i++)f[i]=2;for(i=2931;i<=2962;i++)f[i]=0;for(i=2964;i<=2968;i++)f[i]=2;for(i=2969;i<=2973;i++)f[i]=0;for(i=2975;i<=2991;i++)f[i]=0;for(i=2995;i<=3051;i++)f[i]=0;for(i=3054;i<=3079;i++)f[i]=0;for(i=3081;i<=3088;i++)f[i]=0;for(i=3092;i<=3101;i++)f[i]=0;for(i=3106;i<=3138;i++)f[i]=0;for(i=3146;i<=3151;i++)f[i]=0;for(i=3153;i<=3166;i++)f[i]=0;for(i=3168;i<=3172;i++)f[i]=0;for(i=3174;i<=3203;i++)f[i]=0;for(i=3294;i<=3358;i++)f[i]=0;for(i=3367;i<=3403;i++)f[i]=0;for(i=3408;i<=3416;i++)f[i]=0;for(i=3417;i<=3438;i++)f[i]=2;for(i=3441;i<=3446;i++)f[i]=2;for(i=3447;i<=3450;i++)f[i]=0;for(i=3451;i<=3459;i++)f[i]=2;for(i=3460;i<=3478;i++)f[i]=0;for(i=3554;i<=3559;i++)f[i]=0;for(i=3560;i<=3570;i++)f[i]=2;for(i=3571;i<=3581;i++)f[i]=0;for(i=3594;i<=3597;i++)f[i]=0;for(i=3601;i<=3604;i++)f[i]=0;for(i=3637;i<=3639;i++)f[i]=0;for(i=3665;i<=3667;i++)f[i]=0;for(i=3693;i<=3695;i++)f[i]=0;for(i=3701;i<=3727;i++)f[i]=0;for(i=3728;i<=3739;i++)f[i]=2;for(i=3740;i<=3751;i++)f[i]=0;for(i=3753;i<=3760;i++)f[i]=2;for(i=3761;i<=3773;i++)f[i]=0;for(i=3775;i<=3777;i++)f[i]=0;for(i=3779;i<=3781;i++)f[i]=0;for(i=3783;i<=3785;i++)f[i]=0;for(i=3788;i<=3791;i++)f[i]=0;for(i=3797;i<=3802;i++)f[i]=0;for(i=3814;i<=3816;i++)f[i]=0;for(i=3825;i<=3829;i++)f[i]=0;for(i=3832;i<=3841;i++)f[i]=0;for(i=3844;i<=3852;i++)f[i]=0;for(i=3873;i<=3885;i++)f[i]=0;for(i=3890;i<=3893;i++)f[i]=0;for(i=3907;i<=3912;i++)f[i]=0;for(i=3942;i<=3950;i++)f[i]=0;for(i=3968;i<=3970;i++)f[i]=0;for(i=3973;i<=3976;i++)f[i]=0;for(i=3986;i<=3989;i++)f[i]=0;for(i=3994;i<=3997;i++)f[i]=0;for(i=4048;i<=4051;i++)f[i]=0;for(i=4056;i<=4063;i++)f[i]=0;for(i=4093;i<=4096;i++)f[i]=0;for(i=4390;i<=4398;i++)f[i]=0;for(i=4399;i<=4413;i++)f[i]=2;for(i=4418;i<=4433;i++)f[i]=2;for(i=4455;i<=4457;i++)f[i]=2;for(i=4484;i<=4489;i++)f[i]=0;for(i=4491;i<=4554;i++)f[i]=0;for(i=4568;i<=4589;i++)f[i]=0;for(i=4652;i<=4656;i++)f[i]=0;for(i=4766;i<=4800;i++)f[i]=0;for(i=5014;i<=5016;i++)f[i]=0;for(i=5069;i<=5072;i++)f[i]=0;for(i=5105;i<=5130;i++)f[i]=0;for(i=5167;i<=5188;i++)f[i]=0;for(i=5253;i<=5259;i++)f[i]=0;for(i=5269;i<=5275;i++)f[i]=0;for(i=5292;i<=5311;i++)f[i]=0;for(i=5329;i<=5331;i++)f[i]=0;for(i=5343;i<=5349;i++)f[i]=0;for(i=5355;i<=5357;i++)f[i]=0;for(i=5387;i<=5389;i++)f[i]=0;for(i=5459;i<=5463;i++)f[i]=0;for(i=5479;i<=5482;i++)f[i]=0;for(i=5518;i<=5520;i++)f[i]=0;for(i=5530;i<=5539;i++)f[i]=0;for(i=5550;i<=5552;i++)f[i]=0;for(i=5562;i<=5583;i++)f[i]=0;for(i=5623;i<=5625;i++)f[i]=2;for(i=5631;i<=5639;i++)f[i]=0;for(i=5649;i<=5653;i++)f[i]=0;for(i=5663;i<=5680;i++)f[i]=0;for(i=5682;i<=5685;i++)f[i]=0;for(i=5875;i<=5877;i++)f[i]=0;for(i=5896;i<=5899;i++)f[i]=0;for(i=5921;i<=5940;i++)f[i]=0;for(i=6050;i<=6125;i++)f[i]=0;for(i=6244;i<=6275;i++)f[i]=0;for(i=6328;i<=6348;i++)f[i]=0;for(i=6350;i<=6356;i++)f[i]=0;for(i=6366;i<=6372;i++)f[i]=0;for(i=6381;i<=6387;i++)f[i]=0;for(i=6393;i<=6404;i++)f[i]=0;for(i=6480;i<=6483;i++)f[i]=0;for(i=6511;i<=6514;i++)f[i]=0;for(i=6579;i<=6581;i++)f[i]=0;for(i=6619;i<=6624;i++)f[i]=0;for(i=6625;i<=6627;i++)f[i]=2;for(i=6628;i<=6632;i++)f[i]=0;for(i=6634;i<=6637;i++)f[i]=0;for(i=6669;i<=6692;i++)f[i]=0;for(i=6707;i<=6709;i++)f[i]=0;for(i=6720;i<=6723;i++)f[i]=0;for(i=6732;i<=6738;i++)f[i]=0;for(i=6931;i<=6933;i++)f[i]=0;for(i=6956;i<=6959;i++)f[i]=0;for(i=7005;i<=7007;i++)f[i]=0;for(i=7057;i<=7070;i++)f[i]=2;for(i=7074;i<=7082;i++)f[i]=0;for(i=7109;i<=7118;i++)f[i]=0;for(i=7119;i<=7127;i++)f[i]=1;for(i=7374;i<=7376;i++)f[i]=0;for(i=7528;i<=7586;i++)f[i]=0;for(i=7587;i<=7645;i++)f[i]=2;for(i=7692;i<=7696;i++)f[i]=0;for(i=7755;i<=7787;i++)f[i]=0;for(i=7791;i<=7795;i++)f[i]=0;for(i=7799;i<=7801;i++)f[i]=0;for(i=7803;i<=7805;i++)f[i]=0;for(i=7825;i<=7831;i++)f[i]=0;for(i=7845;i<=7859;i++)f[i]=0;for(i=8013;i<=8032;i++)f[i]=0;for(i=8065;i<=8068;i++)f[i]=1;for(i=8518;i<=8529;i++)f[i]=2;for(i=8533;i<=8536;i++)f[i]=2;for(i=8538;i<=8540;i++)f[i]=2;for(i=8677;i<=8679;i++)f[i]=0;for(i=8836;i<=8840;i++)f[i]=0;for(i=8857;i<=8859;i++)f[i]=0;for(i=8908;i<=8910;i++)f[i]=0;for(i=9154;i<=9159;i++)f[i]=0;for(i=9205;i<=9218;i++)f[i]=0;for(i=9271;i<=9273;i++)f[i]=0;for(i=9295;i<=9297;i++)f[i]=0;for(i=9356;i<=9360;i++)f[i]=0;for(i=9404;i<=9407;i++)f[i]=0;for(i=9476;i<=9482;i++)f[i]=0;for(i=9487;i<=9494;i++)f[i]=0;for(i=9697;i<=9699;i++)f[i]=0;for(i=9821;i<=9865;i++)f[i]=0;for(i=10285;i<=10291;i++)f[i]=0;for(i=10314;i<=10317;i++)f[i]=0;for(i=10448;i<=10465;i++)f[i]=0;for(i=11114;i<=11118;i++)f[i]=0;for(i=20004;i<=20032;i++)f[i]=0;for(i=20047;i<=20049;i++)f[i]=0;for(i=20062;i<=20092;i++)f[i]=0;for(i=20135;i<=20138;i++)f[i]=0;for(i=20248;i<=20258;i++)f[i]=0;for(i=20348;i<=20358;i++)f[i]=0;for(i=20436;i<=20440;i++)f[i]=0;for(i=20822;i<=20824;i++)f[i]=0;for(i=20904;i<=20932;i++)f[i]=0;for(i=20934;i<=20936;i++)f[i]=0;for(i=21004;i<=21032;i++)f[i]=0;for(i=21035;i<=21037;i++)f[i]=0;for(i=21095;i<=21097;i++)f[i]=0;for(i=21148;i<=21150;i++)f[i]=0;for(i=21207;i<=21264;i++)f[i]=0;for(i=21307;i<=21364;i++)f[i]=0;for(i=21413;i<=21423;i++)f[i]=0;for(i=21453;i<=21463;i++)f[i]=0;for(i=21473;i<=21483;i++)f[i]=0;for(i=21780;i<=21782;i++)f[i]=0;for(i=21891;i<=21894;i++)f[i]=0;for(i=21896;i<=21899;i++)f[i]=0;for(i=22171;i<=22177;i++)f[i]=0;for(i=22181;i<=22187;i++)f[i]=0;for(i=22191;i<=22197;i++)f[i]=0;for(i=22207;i<=22222;i++)f[i]=0;for(i=22229;i<=22232;i++)f[i]=0;for(i=22234;i<=22236;i++)f[i]=0;for(i=22243;i<=22250;i++)f[i]=0;for(i=22262;i<=22265;i++)f[i]=0;for(i=22307;i<=22322;i++)f[i]=0;for(i=22348;i<=22357;i++)f[i]=0;for(i=22407;i<=22422;i++)f[i]=0;for(i=22462;i<=22465;i++)f[i]=0;for(i=22521;i<=22525;i++)f[i]=0;for(i=22607;i<=22622;i++)f[i]=0;for(i=22641;i<=22646;i++)f[i]=0;for(i=22648;i<=22657;i++)f[i]=0;for(i=22707;i<=22722;i++)f[i]=0;for(i=22762;i<=22765;i++)f[i]=0;for(i=22807;i<=22822;i++)f[i]=0;for(i=22991;i<=22994;i++)f[i]=0;for(i=23028;i<=23038;i++)f[i]=0;for(i=23301;i<=23333;i++)f[i]=2;for(i=23830;i<=23853;i++)f[i]=0;for(i=23866;i<=23872;i++)f[i]=0;for(i=23877;i<=23884;i++)f[i]=0;for(i=23886;i<=23894;i++)f[i]=0;for(i=23946;i<=23948;i++)f[i]=0;for(i=24311;i<=24313;i++)f[i]=0;for(i=24342;i<=24347;i++)f[i]=0;for(i=24370;i<=24374;i++)f[i]=10;for(i=24375;i<=24381;i++)f[i]=0;for(i=24718;i<=24721;i++)f[i]=0;for(i=24817;i<=24821;i++)f[i]=0;for(i=24877;i<=24882;i++)f[i]=0;for(i=24891;i<=24893;i++)f[i]=0;for(i=25391;i<=25395;i++)f[i]=0;for(i=25828;i<=25838;i++)f[i]=0;for(i=26191;i<=26195;i++)f[i]=0;for(i=26391;i<=26393;i++)f[i]=0;for(i=26701;i<=26722;i++)f[i]=0;for(i=26729;i<=26799;i++)f[i]=2;for(i=26801;i<=26803;i++)f[i]=2;for(i=26811;i<=26813;i++)f[i]=2;for(i=26847;i<=26870;i++)f[i]=2;for(i=26891;i<=26899;i++)f[i]=0;for(i=26901;i<=26923;i++)f[i]=0;for(i=26929;i<=26946;i++)f[i]=0;for(i=26948;i<=26998;i++)f[i]=0;for(i=27037;i<=27040;i++)f[i]=0;for(i=27205;i<=27232;i++)f[i]=0;for(i=27258;i<=27260;i++)f[i]=0;for(i=27391;i<=27398;i++)f[i]=0;for(i=27561;i<=27564;i++)f[i]=0;for(i=27571;i<=27574;i++)f[i]=0;for(i=27581;i<=27584;i++)f[i]=0;for(i=27591;i<=27594;i++)f[i]=0;for(i=28191;i<=28193;i++)f[i]=0;for(i=28348;i<=28358;i++)f[i]=0;for(i=28402;i<=28432;i++)f[i]=0;for(i=28462;i<=28492;i++)f[i]=0;for(i=29118;i<=29122;i++)f[i]=0;for(i=29168;i<=29172;i++)f[i]=0;for(i=29177;i<=29185;i++)f[i]=0;for(i=29187;i<=29195;i++)f[i]=0;for(i=29900;i<=29903;i++)f[i]=0;for(i=30161;i<=30179;i++)f[i]=0;for(i=30491;i<=30494;i++)f[i]=0;for(i=30729;i<=30732;i++)f[i]=0;for(i=31251;i<=31259;i++)f[i]=0;for(i=31265;i<=31268;i++)f[i]=0;for(i=31275;i<=31279;i++)f[i]=0;for(i=31281;i<=31297;i++)f[i]=0;for(i=31461;i<=31469;i++)f[i]=0;for(i=31491;i<=31495;i++)f[i]=0;for(i=31917;i<=31922;i++)f[i]=0;for(i=31965;i<=32e3;i++)f[i]=0;for(i=32001;i<=32003;i++)f[i]=2;for(i=32005;i<=32031;i++)f[i]=2;for(i=32033;i<=32060;i++)f[i]=2;for(i=32064;i<=32067;i++)f[i]=2;for(i=32074;i<=32077;i++)f[i]=2;for(i=32081;i<=32086;i++)f[i]=0;for(i=32107;i<=32130;i++)f[i]=0;for(i=32133;i<=32159;i++)f[i]=0;for(i=32164;i<=32167;i++)f[i]=2;for(i=32180;i<=32199;i++)f[i]=0;for(i=32201;i<=32260;i++)f[i]=0;for(i=32301;i<=32360;i++)f[i]=0;for(i=32401;i<=32460;i++)f[i]=0;for(i=32501;i<=32560;i++)f[i]=0;for(i=32601;i<=32662;i++)f[i]=0;for(i=32664;i<=32667;i++)f[i]=2;for(i=32701;i<=32761;i++)f[i]=0;for(i=53001;i<=53004;i++)f[i]=0;for(i=53008;i<=53019;i++)f[i]=0;for(i=53021;i<=53032;i++)f[i]=0;for(i=53034;i<=53037;i++)f[i]=0;for(i=53042;i<=53046;i++)f[i]=0;for(i=53074;i<=53080;i++)f[i]=0;for(i=54001;i<=54004;i++)f[i]=0;for(i=54008;i<=54019;i++)f[i]=0;for(i=54021;i<=54032;i++)f[i]=0;for(i=54034;i<=54037;i++)f[i]=0;for(i=54042;i<=54046;i++)f[i]=0;for(i=54048;i<=54053;i++)f[i]=0;for(i=54074;i<=54080;i++)f[i]=0;for(i=54098;i<=54101;i++)f[i]=0;for(i=102001;i<=102040;i++)f[i]=0;for(i=102042;i<=102063;i++)f[i]=0;for(i=102065;i<=102067;i++)f[i]=0;for(i=102070;i<=102117;i++)f[i]=0;for(i=102122;i<=102216;i++)f[i]=0;for(i=102221;i<=102377;i++)f[i]=0;for(i=102382;i<=102388;i++)f[i]=0;for(i=102389;i<=102398;i++)f[i]=2;for(i=102399;i<=102444;i++)f[i]=0;for(i=102445;i<=102447;i++)f[i]=2;for(i=102448;i<=102458;i++)f[i]=0;for(i=102459;i<=102468;i++)f[i]=2;for(i=102469;i<=102499;i++)f[i]=0;for(i=102500;i<=102519;i++)f[i]=1;for(i=102520;i<=102524;i++)f[i]=0;for(i=102525;i<=102529;i++)f[i]=2;for(i=102530;i<=102588;i++)f[i]=0;for(i=102590;i<=102598;i++)f[i]=0;for(i=102601;i<=102603;i++)f[i]=0;for(i=102605;i<=102628;i++)f[i]=0;for(i=102629;i<=102646;i++)f[i]=2;for(i=102648;i<=102700;i++)f[i]=2;for(i=102701;i<=102703;i++)f[i]=0;for(i=102707;i<=102730;i++)f[i]=2;for(i=102733;i<=102758;i++)f[i]=2;for(i=102767;i<=102900;i++)f[i]=0;for(i=102901;i<=102933;i++)f[i]=2;for(i=102934;i<=102950;i++)f[i]=13;for(i=102951;i<=102955;i++)f[i]=0;for(i=102961;i<=102963;i++)f[i]=0;for(i=102965;i<=102969;i++)f[i]=0;for(i=102971;i<=102973;i++)f[i]=0;for(i=102975;i<=102989;i++)f[i]=0;for(i=102990;i<=102992;i++)f[i]=1;for(i=102997;i<=103002;i++)f[i]=0;for(i=103003;i<=103008;i++)f[i]=2;for(i=103009;i<=103011;i++)f[i]=0;for(i=103012;i<=103014;i++)f[i]=2;for(i=103019;i<=103021;i++)f[i]=0;for(i=103022;i<=103024;i++)f[i]=2;for(i=103029;i<=103031;i++)f[i]=0;for(i=103032;i<=103034;i++)f[i]=2;for(i=103065;i<=103068;i++)f[i]=0;for(i=103074;i<=103076;i++)f[i]=0;for(i=103077;i<=103079;i++)f[i]=1;for(i=103080;i<=103082;i++)f[i]=0;for(i=103083;i<=103085;i++)f[i]=2;for(i=103090;i<=103093;i++)f[i]=0;for(i=103097;i<=103099;i++)f[i]=0;for(i=103100;i<=103102;i++)f[i]=2;for(i=103107;i<=103109;i++)f[i]=0;for(i=103110;i<=103112;i++)f[i]=2;for(i=103113;i<=103116;i++)f[i]=0;for(i=103117;i<=103120;i++)f[i]=2;for(i=103153;i<=103157;i++)f[i]=0;for(i=103158;i<=103162;i++)f[i]=2;for(i=103163;i<=103165;i++)f[i]=0;for(i=103166;i<=103168;i++)f[i]=1;for(i=103169;i<=103171;i++)f[i]=2;for(i=103186;i<=103188;i++)f[i]=0;for(i=103189;i<=103191;i++)f[i]=2;for(i=103192;i<=103195;i++)f[i]=0;for(i=103196;i<=103199;i++)f[i]=2;for(i=103200;i<=103224;i++)f[i]=0;for(i=103225;i<=103227;i++)f[i]=1;for(i=103232;i<=103237;i++)f[i]=0;for(i=103238;i<=103243;i++)f[i]=2;for(i=103244;i<=103246;i++)f[i]=0;for(i=103247;i<=103249;i++)f[i]=2;for(i=103254;i<=103256;i++)f[i]=0;for(i=103257;i<=103259;i++)f[i]=2;for(i=103264;i<=103266;i++)f[i]=0;for(i=103267;i<=103269;i++)f[i]=2;for(i=103300;i<=103375;i++)f[i]=0;for(i=103381;i<=103383;i++)f[i]=0;for(i=103384;i<=103386;i++)f[i]=1;for(i=103387;i<=103389;i++)f[i]=0;for(i=103390;i<=103392;i++)f[i]=2;for(i=103397;i<=103399;i++)f[i]=0;for(i=103400;i<=103471;i++)f[i]=2;for(i=103476;i<=103478;i++)f[i]=0;for(i=103479;i<=103481;i++)f[i]=2;for(i=103486;i<=103488;i++)f[i]=0;for(i=103489;i<=103491;i++)f[i]=2;for(i=103492;i<=103495;i++)f[i]=0;for(i=103496;i<=103499;i++)f[i]=2;for(i=103528;i<=103543;i++)f[i]=0;for(i=103544;i<=103548;i++)f[i]=2;for(i=103549;i<=103551;i++)f[i]=0;for(i=103552;i<=103554;i++)f[i]=1;for(i=103555;i<=103557;i++)f[i]=2;for(i=103558;i<=103560;i++)f[i]=0;for(i=103571;i<=103573;i++)f[i]=0;for(i=103574;i<=103576;i++)f[i]=2;for(i=103577;i<=103580;i++)f[i]=0;for(i=103581;i<=103583;i++)f[i]=2;for(i=103595;i<=103694;i++)f[i]=0;for(i=103696;i<=103699;i++)f[i]=0;for(i=103700;i<=103793;i++)f[i]=2;for(i=103794;i<=103890;i++)f[i]=0;for(i=103891;i<=103896;i++)f[i]=2;for(i=103900;i<=103971;i++)f[i]=2;for(i=103972;i<=103977;i++)f[i]=0;for(i=112e3;i<=112101;i++)f[i]=0;const D3={102113:!0,102100:!0,3857:!0,3785:!0},R3={4326:!0,3785:!0,3857:!0,102113:!0,102100:!0,104905:!0,104971:!0},Kh='PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',mi=[-20037508342788905e-9,20037508342788905e-9],yi=[-20037508342787e-6,20037508342787e-6],Cp={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:mi,origin:yi,dx:1e-5},102100:{wkTemplate:Kh,valid:mi,origin:yi,dx:1e-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:mi,origin:yi,dx:1e-5},3857:{wkTemplate:Kh,valid:mi,origin:yi,dx:1e-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5}};function Ct(e,t){if(e===t)return!0;if(e==null||t==null)return!1;if(e.wkid!=null||t.wkid!=null)return e.wkid===t.wkid||Ss(e)&&Ss(t)||t.latestWkid!=null&&e.wkid===t.latestWkid||e.latestWkid!=null&&t.wkid===e.latestWkid;const r=e.wkt2??e.wkt,s=t.wkt2??t.wkt;return!(!r||!s)&&r.toUpperCase()===s.toUpperCase()}function Li(e){return Dt(e)&&e.wkid&&Cp[e.wkid]||null}function mT(e){if(!e)return;if(e.wkid)return String(e.wkid);const t=e.wkt||e.wkt2;return JSON.stringify(t?{wkt:t}:{})}function kp(e){if(!Dt(e))return!1;if(e.wkid)return f[e.wkid]==null;const t=e.wkt2||e.wkt;return!!t&&/^\s*(?:GEOGCS|GEOGCRS|GEOGRAPHICCRS)/i.test(t)}function F3(e){return!(Dp(e)||Rp(e))}function Po(e){return Dt(e)&&e.wkid===4326}function yT(e){return/^\s*(?:GEOD|GEODETIC|GEOG|GEOGRAPHIC|PROJ|PROJECTED|VERT|VERTICAL|ENG|ENGINEERING|PARAMETRIC|TIME|DERIVEDPROJ|COMPOUND|BOUND)CRS/i.test(e)}function gT(e){return Dt(e)&&e.wkid===_s.CGCS2000}function Ss(e){return Dt(e)&&e.wkid!=null&&D3[e.wkid]===!0}function wT(e){return Dt(e)&&e.wkid===32662}function Ec(e){return e===_s.GCSMARS2000||e===_s.GCSMARS2000_SPHERE}function Dp(e){return Dt(e)&&e.wkid!=null&&Ec(e.wkid)}function Ac(e){return e===_s.GCSMOON2000}function Rp(e){return Dt(e)&&e.wkid!=null&&Ac(e.wkid)}function L3(e){return Dt(e)&&e.wkid!=null&&R3[e.wkid]===!0}function Dt(e){return e!=null&&(e.wkid!=null&&e.wkid>=2e3||e.wkt2!=null||e.wkt!=null)}const j3={wkid:4326,wkt:ic(Cp[4326].wkTemplate,{Central_Meridian:"0.0"})},U3={wkid:102100,latestWkid:3857},z3={wkid:32662};function Pc(e){return{wkt:`GEOCCS["Spherical geocentric",
    DATUM["Not specified",
      SPHEROID["Sphere",${e.radius},0]],
    PRIMEM["Greenwich",0.0,
      AUTHORITY["EPSG","8901"]],
    UNIT["m",1.0],
    AXIS["Geocentric X",OTHER],
    AXIS["Geocentric Y",EAST],
    AXIS["Geocentric Z",NORTH]
  ]`}}const G3=Pc(Xe),Fp=Pc(ra),Lp=Pc(sa),vT={wkt:`GEOCCS["WGS 84",
  DATUM["WGS_1984",
    SPHEROID["WGS 84",${Xe.radius},298.257223563,
      AUTHORITY["EPSG","7030"]],
    AUTHORITY["EPSG","6326"]],
  PRIMEM["Greenwich",0,
    AUTHORITY["EPSG","8901"]],
  UNIT["m",1.0,
    AUTHORITY["EPSG","9001"]],
  AXIS["Geocentric X",OTHER],
  AXIS["Geocentric Y",OTHER],
  AXIS["Geocentric Z",NORTH],
  AUTHORITY["EPSG","4978"]
]`};function q3(e){return e!=null&&(Dp(e)||Ct(e,Fp))?ra:e!=null&&(Rp(e)||Ct(e,Lp))?sa:Xe}function bT(e){return Ec(e)?ra:Ac(e)?sa:Xe}function V3(e){return Ct(e,G3)}function $T(e){return V3(e)||Ct(e,Fp)||Ct(e,Lp)}const _T=39.37,B3=Xe.radius*Math.PI/200,jp=/(?:LENGTH)?UNIT\[([^\]]+)]]$/i,jr=f,Up=/UNIT\[([^\]]+)]/i,W3=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),H3=tt()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"}),rt=e=>e*e,jt=e=>e*e*e,zn={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1e3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:rt(.001)},"square-centimeters":{inBaseUnits:rt(.01)},"square-decimeters":{inBaseUnits:rt(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:rt(1e3)},"square-inches":{inBaseUnits:rt(.0254)},"square-feet":{inBaseUnits:rt(.3048)},"square-yards":{inBaseUnits:rt(.9144)},"square-miles":{inBaseUnits:rt(1609.344)},"square-us-feet":{inBaseUnits:rt(1200/3937)},acres:{inBaseUnits:.0015625*rt(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*jt(.001)},"cubic-centimeters":{inBaseUnits:1e3*jt(.01)},"cubic-decimeters":{inBaseUnits:1e3*jt(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*jt(1e3)},"cubic-inches":{inBaseUnits:1e3*jt(.0254)},"cubic-feet":{inBaseUnits:1e3*jt(.3048)},"cubic-yards":{inBaseUnits:1e3*jt(.9144)},"cubic-miles":{inBaseUnits:1e3*jt(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},Z3=(()=>{const e={};for(const t in zn)for(const r in zn[t].units)e[r]=t;return e})();function J3(e,t,r){return e*zn[r].units[t].inBaseUnits}function Y3(e,t,r){return e/zn[r].units[t].inBaseUnits}function El(e){const t=Z3[e];if(!t)throw new Error("unknown type");return t}function Qh(e,t=null){return t=t||El(e),zn[t].baseUnit===e}function K3(e,t,r){if(t===r)return e;const s=El(t);if(s!==El(r))throw new Error("incompatible units");const n=Qh(t,s)?e:J3(e,t,s);return Qh(r,s)?n:Y3(n,r,s)}function ST(e,t,r){return K3(e,t,"meters")/(r*Math.PI/180)}function Q3(e){return H3.fromJSON(e.toLowerCase())||null}function xT(e){if(e!=null&&!F3(e))return 1;const t=na(e);return t>1e5?1:t}function TT(e){return na(e)>=q3(e).metersPerDegree?"meters":Gp(e)}function na(e,t=Xe.metersPerDegree){return X3(e,!0)??t}function X3(e,t=!1){const r=e?.wkid??null,s=e?.wkt2??e?.wkt??null;let n=null;if(r){if(Ec(r))return ra.metersPerDegree;if(Ac(r))return sa.metersPerDegree;n=jr.values[jr[r]],!n&&t&&W3.has(r)&&(n=B3)}else s&&(Vp(s)?n=Xh(jp.exec(s),n):qp(s)&&(n=Xh(Up.exec(s),n)));return n}function OT(e){return kp(e)?1:na(e)}function Xh(e,t){return e?.[1]?zp(e[1]):t}function zp(e){return parseFloat(e.split(",")[1])}function Gp(e){const t=e?.wkid??null,r=e?.wkt2??e?.wkt??null;let s=null;if(t)s=jr.units[jr[t]];else if(r){const n=Vp(r)?jp:qp(r)?Up:null;if(n){const o=n.exec(r);o?.[1]&&(s=tw(o[1]))}}return s!=null?Q3(s):null}function qp(e){return/^GEOCCS/i.test(e)}function Vp(e){return/^\s*(?:PROJCS|PROJCRS|PROJECTEDCRS)/i.test(e)}const ew=1e-7;function tw(e){let r=/[\\"']{1}([^\\"']+)/.exec(e)?.[1];if(!r||!jr.units.includes(r)){const s=zp(e);r=null;const n=jr.values;for(let o=0;o<n.length;++o)if(Math.abs(s-n[o])<ew){r=jr.units[o];break}}return r}const rw={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},sw={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},nw={esriDUDecimalDegrees:"degrees",esriDURadians:"radians"},MT=tt()(rw),ET=tt()(sw),AT=tt()(nw);var nt;let D=nt=class extends N{static fromJSON(e){if(!e)return null;if(e.wkid){if(e.wkid===102100)return nt.WebMercator;if(e.wkid===4326)return nt.WGS84}const t=new nt;return t.read(e),t}constructor(e){super(e),this.latestWkid=null,this.wkid=null,this.wkt=null,this.wkt2=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}normalizeCtorArgs(e){return e&&typeof e=="object"?e:{[typeof e=="string"?"wkt":"wkid"]:e}}get isWGS84(){return Po(this)}get isWebMercator(){return Ss(this)}get isGeographic(){return kp(this)}get isWrappable(){return L3(this)}get metersPerUnit(){return na(this)}get unit(){return Gp(this)||(this.isGeographic?"degrees":null)}writeWkt(e,t){this.wkid||(t.wkt=e)}clone(){if(this===nt.WGS84)return nt.WGS84;if(this===nt.WebMercator)return nt.WebMercator;const e=new nt;return this.wkid!=null?(e.wkid=this.wkid,this.latestWkid!=null&&(e.latestWkid=this.latestWkid),this.vcsWkid!=null&&(e.vcsWkid=this.vcsWkid),this.latestVcsWkid!=null&&(e.latestVcsWkid=this.latestVcsWkid)):(this.wkt!=null&&(e.wkt=this.wkt),this.wkt2!=null&&(e.wkt2=this.wkt2)),this.imageCoordinateSystem&&(e.imageCoordinateSystem=T(this.imageCoordinateSystem)),e}equals(e){if(e==null)return!1;if(this.imageCoordinateSystem||e.imageCoordinateSystem){if(this.imageCoordinateSystem==null||e.imageCoordinateSystem==null)return!1;const{id:t,referenceServiceName:r}=e.imageCoordinateSystem,{geodataXform:s}=e.imageCoordinateSystem,n=this.imageCoordinateSystem;return t==null||s?JSON.stringify(n)===JSON.stringify(e.imageCoordinateSystem):r?n.id===t&&n.referenceServiceName===r:n.id===t}return Ct(this,e)}toJSON(e){return this.write(void 0,e)}};D.GCS_NAD_1927=null,D.WGS84=null,D.WebMercator=null,D.PlateCarree=null,u([h({readOnly:!0})],D.prototype,"isWGS84",null),u([h({readOnly:!0})],D.prototype,"isWebMercator",null),u([h({readOnly:!0})],D.prototype,"isGeographic",null),u([h({readOnly:!0})],D.prototype,"isWrappable",null),u([h({type:we,json:{write:!0}})],D.prototype,"latestWkid",void 0),u([h({readOnly:!0})],D.prototype,"metersPerUnit",null),u([h({readOnly:!0})],D.prototype,"unit",null),u([h({type:we,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkt==null}}}}}}})],D.prototype,"wkid",void 0),u([h({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkid==null}}}}}}})],D.prototype,"wkt",void 0),u([ee("wkt"),ee("web-scene","wkt")],D.prototype,"writeWkt",null),u([h({type:String,json:{write:!1}})],D.prototype,"wkt2",void 0),u([h({type:we,json:{write:!0}})],D.prototype,"vcsWkid",void 0),u([h({type:we,json:{write:!0}})],D.prototype,"latestVcsWkid",void 0),u([h()],D.prototype,"imageCoordinateSystem",void 0),D=nt=u([v("esri.geometry.SpatialReference")],D),D.prototype.toJSON.isDefaultToJSON=!0,D.GCS_NAD_1927=new D({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'}),D.WGS84=new D(j3),D.WebMercator=new D(U3),D.PlateCarree=new D(z3),Object.freeze&&(Object.freeze(D.GCS_NAD_1927),Object.freeze(D.WGS84),Object.freeze(D.WebMercator));const fe=D;function he(e,t,r){let s,n;return t===void 0||Array.isArray(t)?(n=e,r=t,s=[void 0]):(n=t,s=Array.isArray(e)?e:[e]),(o,a)=>{const l=o.constructor.prototype;s.forEach((c=>{const d=ep(o,c,n);d.read&&typeof d.read=="object"||(d.read={}),d.read.reader=l[a],r&&(d.read.source=(d.read.source||[]).concat(r))}))}}let it=class extends N{constructor(...t){super(...t),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=fe.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(t,r){if(t instanceof fe)return t;if(t!=null){const s=new fe;return s.read(t,r),s}return t}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(t){return this.cache[t]}setCacheValue(t,r){this.cache[t]=r}};u([h()],it.prototype,"type",void 0),u([h({readOnly:!0})],it.prototype,"cache",null),u([h({readOnly:!0})],it.prototype,"extent",null),u([h({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],it.prototype,"hasM",void 0),u([h({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],it.prototype,"hasZ",void 0),u([h({type:fe,json:{write:!0},value:fe.WGS84})],it.prototype,"spatialReference",void 0),u([he("spatialReference")],it.prototype,"readSpatialReference",null),it=u([v("esri.geometry.Geometry")],it);const Qr=it,iw=Object.prototype.toString;function ow(e){const t="__accessorMetadata__"in e?Ke(e):e;return function(...r){if(r.push(t),typeof r[2]=="number")throw new Error("Using @cast has parameter decorator is not supported since 4.16");return aw.apply(this,r)}}function aw(e,t,r,s){Ko(e,t).cast=s}function lw(e){return(t,r)=>{Ko(t,e).cast=t[r]}}function Kn(...e){if(e.length!==3||typeof e[1]!="string")return e.length===1&&iw.call(e[0])==="[object Function]"?ow(e[0]):e.length===1&&typeof e[0]=="string"?lw(e[0]):void 0}function uw(e,t){const r=e.x-t.x,s=e.y-t.y,n=e.hasZ&&t.hasZ?e.z-t.z:0;return Math.sqrt(r*r+s*s+n*n)}const cw=57.29577951308232,hw=.017453292519943;function ed(e){return e*cw}function td(e){return e*hw}function NT(e){return Math.PI/2-2*Math.atan(Math.exp(-e/Xe.radius))}function Al(e){return e.wkid!=null||e.wkt!=null}const Ia=[0,0];function No(e,t,r,s,n){const o=e,a=n;if(a.spatialReference=r,"x"in o&&"x"in a)[a.x,a.y]=t(o.x,o.y,Ia,s);else if("xmin"in o&&"xmin"in a)[a.xmin,a.ymin]=t(o.xmin,o.ymin,Ia,s),[a.xmax,a.ymax]=t(o.xmax,o.ymax,Ia,s);else if("paths"in o&&"paths"in a||"rings"in o&&"rings"in a){const l="paths"in o?o.paths:o.rings,c=[];let d;for(let p=0;p<l.length;p++){const m=l[p];d=[],c.push(d);for(let y=0;y<m.length;y++)d.push(t(m[y][0],m[y][1],[0,0],s)),m[y].length>2&&d[y].push(m[y][2]),m[y].length>3&&d[y].push(m[y][3])}"paths"in a?a.paths=c:a.rings=c}else if("points"in o&&"points"in a){const l=o.points,c=[];for(let d=0;d<l.length;d++)c[d]=t(l[d][0],l[d][1],[0,0],s),l[d].length>2&&c[d].push(l[d][2]),l[d].length>3&&c[d].push(l[d][3]);a.points=c}return n}function ji(e,t){const r=e&&(Al(e)?e:e.spatialReference),s=t&&(Al(t)?t:t.spatialReference);return!(e&&"type"in e&&e.type==="mesh"||t&&"type"in t&&t.type==="mesh"||!r||!s)&&(!!Ct(s,r)||Ss(s)&&Po(r)||Ss(r)&&Po(s))}function Bp(e,t){if(e==null)return null;const r=e.spatialReference,s=t&&(Al(t)?t:t.spatialReference);return ji(r,s)?Ct(r,s)?T(e):Ss(s)?No(e,hs,fe.WebMercator,!1,T(e)):Po(s)?No(e,xn,fe.WGS84,!1,T(e)):null:null}function hs(e,t,r=[0,0]){t>89.99999?t=89.99999:t<-89.99999&&(t=-89.99999);const s=td(t);return r[0]=td(e)*Xe.radius,r[1]=Xe.halfSemiMajorAxis*Math.log((1+Math.sin(s))/(1-Math.sin(s))),r}function xn(e,t,r=[0,0],s=!1){const n=ed(e/Xe.radius);return r[0]=s?n:n-360*Math.floor((n+180)/360),r[1]=ed(Math.PI/2-2*Math.atan(Math.exp(-t/Xe.radius))),r}function Ca(e,t=!1,r=T(e)){return No(e,hs,fe.WebMercator,t,r)}function gi(e,t=!1,r=T(e)){return No(e,xn,fe.WGS84,t,r)}var Ui;const zs=[0,0];function rd(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}let $e=Ui=class extends Qr{static copy(e,t){t._set("x",e._get("x")),t._set("y",e._get("y")),t._set("z",e._get("z")),t._set("m",e._get("m"));const r=e._get("spatialReference");t._set("spatialReference",Object.isFrozen(r)?r:r.clone())}constructor(...e){super(...e),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}normalizeCtorArgs(e,t,r,s,n){let o;if(Array.isArray(e))o=e,n=t,e=o[0],t=o[1],r=o[2],s=o[3];else if(e&&typeof e=="object"){if(o=e,e=o.x!=null?o.x:o.longitude,t=o.y!=null?o.y:o.latitude,r=o.z,s=o.m,(n=o.spatialReference)&&n.declaredClass!=="esri.geometry.SpatialReference"&&(n=new fe(n)),o.longitude!=null||o.latitude!=null){if(o.longitude==null)V.getLogger(this).warn(".longitude=","Latitude was defined without longitude");else if(o.latitude==null)V.getLogger(this).warn(".latitude=","Longitude was defined without latitude");else if(!o.declaredClass&&n&&n.isWebMercator){const l=hs(o.longitude,o.latitude,zs);e=l[0],t=l[1]}}}else rd(r)?(n=r,r=null):rd(s)&&(n=s,s=null);const a={x:e,y:t};return a.x==null&&a.y!=null?V.getLogger(this).warn(".y=","Y coordinate was defined without an X coordinate"):a.y==null&&a.x!=null&&V.getLogger(this).warn(".x=","X coordinate was defined without a Y coordinate"),n!=null&&(a.spatialReference=n),r!=null&&(a.z=r),s!=null&&(a.m=s),a}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return this.m!==void 0}set hasM(e){e!==(this._get("m")!==void 0)&&(this._set("m",e?0:void 0),this._set("hasM",e))}get hasZ(){return this.z!==void 0}set hasZ(e){e!==(this._get("z")!==void 0)&&(this._set("z",e?0:void 0),this._set("hasZ",e))}get latitude(){const{spatialReference:e,x:t,y:r}=this;if(e){if(e.isWebMercator)return xn(t,r,zs)[1];if(e.isGeographic)return r}return null}set latitude(e){const{spatialReference:t,x:r}=this;e!=null&&t&&(t.isWebMercator?this._set("y",hs(r,e,zs)[1]):t.isGeographic&&this._set("y",e),this._set("latitude",e))}get longitude(){const{x:e,y:t,spatialReference:r}=this;if(r){if(r.isWebMercator)return xn(e,t,zs)[0];if(r.isGeographic)return e}return null}set longitude(e){const{y:t,spatialReference:r}=this;e!=null&&r&&(r.isWebMercator?this._set("x",hs(e,t,zs)[0]):r.isGeographic&&this._set("x",e),this._set("longitude",e))}writeX(e,t,r){t[r]=isNaN(e)?"NaN":e}readX(e){return typeof e=="string"?NaN:e}clone(){const e=new Ui;return e.x=this.x,e.y=this.y,e.z=this.z,e.m=this.m,e.spatialReference=this.spatialReference,e}copy(e){return Ui.copy(e,this),this}equals(e){if(e==null)return!1;const{x:t,y:r,z:s,m:n,spatialReference:o}=this,{z:a,m:l}=e;let{x:c,y:d,spatialReference:p}=e;if(!o.equals(p))if(o.isWebMercator&&p.isWGS84)[c,d]=hs(c,d),p=o;else{if(!o.isWGS84||!p.isWebMercator)return!1;[c,d]=xn(c,d),p=o}return t===c&&r===d&&s===a&&n===l&&o.wkid===p.wkid}offset(e,t,r){return this.x+=e,this.y+=t,r!=null&&(this.z=(this.z??0)+r),this}normalize(){if(!this.spatialReference)return this;const e=Li(this.spatialReference);if(!e)return this;let t=this.x;const[r,s]=e.valid,n=2*s;let o;return t>s?(o=Math.ceil(Math.abs(t-s)/n),t-=o*n):t<r&&(o=Math.ceil(Math.abs(t-r)/n),t+=o*n),this._set("x",t),this}distance(e){return uw(this,e)}toArray(){const e=this.hasZ,t=this.hasM;return e&&t?[this.x,this.y,this.z,this.m]:e?[this.x,this.y,this.z]:t?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(e){return this.write({},e)}};u([h({readOnly:!0})],$e.prototype,"cache",null),u([h({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],$e.prototype,"hasM",null),u([h({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],$e.prototype,"hasZ",null),u([h({type:Number})],$e.prototype,"latitude",null),u([h({type:Number})],$e.prototype,"longitude",null),u([h({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),Kn((e=>isNaN(e)?e:cc(e)))],$e.prototype,"x",void 0),u([ee("x")],$e.prototype,"writeX",null),u([he("x")],$e.prototype,"readX",null),u([h({type:Number,json:{write:!0}})],$e.prototype,"y",void 0),u([h({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],$e.prototype,"z",void 0),u([h({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],$e.prototype,"m",void 0),$e=Ui=u([v("esri.geometry.Point")],$e),$e.prototype.toJSON.isDefaultToJSON=!0;const le=$e,ka=[0,0];function Wp(e,t){return t!=null&&Se(e,t.x,t.y,t.z)}function IT(e,t){if(!t.points||t.points.length)return!1;for(const r of t.points)if(!xs(e,r))return!1;return!0}function dw(e,t){const{xmin:r,ymin:s,zmin:n,xmax:o,ymax:a,zmax:l}=t;return e.hasZ&&t.hasZ?Se(e,r,s,n)&&Se(e,r,a,n)&&Se(e,o,a,n)&&Se(e,o,s,n)&&Se(e,r,s,l)&&Se(e,r,a,l)&&Se(e,o,a,l)&&Se(e,o,s,l):Se(e,r,s)&&Se(e,r,a)&&Se(e,o,a)&&Se(e,o,s)}function xs(e,t){return Se(e,t[0],t[1])}function fw(e,t){return Se(e,t[0],t[1],t[2])}function Se(e,t,r,s){return t>=e.xmin&&t<=e.xmax&&r>=e.ymin&&r<=e.ymax&&(s==null||!e.hasZ||s>=e.zmin&&s<=e.zmax)}function pw(e,t){return ka[1]=t.y,ka[0]=t.x,mw(e,ka)}function mw(e,t){return Hp(e.rings,t)}function Hp(e,t){if(!e)return!1;if(yw(e))return sd(!1,e,t);let r=!1;for(let s=0,n=e.length;s<n;s++)r=sd(r,e[s],t);return r}function yw(e){return!Array.isArray(e[0][0])}function sd(e,t,r){const[s,n]=r;let o=e,a=0;for(let l=0,c=t.length;l<c;l++){a++,a===c&&(a=0);const[d,p]=t[l],[m,y]=t[a];(p<n&&y>=n||y<n&&p>=n)&&d+(n-p)/(y-p)*(m-d)<s&&(o=!o)}return o}function gw(e,t){return Wp(e,t)}function ww(e,t){const r=e.hasZ&&t.hasZ;let s,n,o;if(e.xmin<=t.xmin){if(s=t.xmin,e.xmax<s)return!1}else if(s=e.xmin,t.xmax<s)return!1;if(e.ymin<=t.ymin){if(n=t.ymin,e.ymax<n)return!1}else if(n=e.ymin,t.ymax<n)return!1;if(r&&t.hasZ){if(e.zmin<=t.zmin){if(o=t.zmin,e.zmax<o)return!1}else if(o=e.zmin,t.zmax<o)return!1}return!0}function vw(e,t){const{points:r,hasZ:s}=t,n=s?fw:xs;for(const o of r)if(n(e,o))return!0;return!1}const Br=[0,0],Wr=[0,0],Hr=[0,0],Zr=[0,0],bw=[Br,Wr,Hr,Zr],Zp=[[Hr,Br],[Br,Wr],[Wr,Zr],[Zr,Hr]];function $w(e,t){return _w(e,t.rings)}function _w(e,t){Br[0]=e.xmin,Br[1]=e.ymax,Wr[0]=e.xmax,Wr[1]=e.ymax,Hr[0]=e.xmin,Hr[1]=e.ymin,Zr[0]=e.xmax,Zr[1]=e.ymin;for(const r of bw)if(Hp(t,r))return!0;for(const r of t){if(!r.length)continue;let s=r[0];if(xs(e,s))return!0;for(let n=1;n<r.length;n++){const o=r[n];if(xs(e,o)||Jp(s,o,Zp))return!0;s=o}}return!1}function Sw(e,t){Br[0]=e.xmin,Br[1]=e.ymax,Wr[0]=e.xmax,Wr[1]=e.ymax,Hr[0]=e.xmin,Hr[1]=e.ymin,Zr[0]=e.xmax,Zr[1]=e.ymin;const r=t.paths;for(const s of r){if(!r.length)continue;let n=s[0];if(xs(e,n))return!0;for(let o=1;o<s.length;o++){const a=s[o];if(xs(e,a)||Jp(n,a,Zp))return!0;n=a}}return!1}const ce=[0,0];function xw(e){for(let t=0;t<e.length;t++){const r=e[t];for(let n=0;n<r.length-1;n++){const o=r[n],a=r[n+1];for(let l=t+1;l<e.length;l++)for(let c=0;c<e[l].length-1;c++){const d=e[l][c],p=e[l][c+1];if(Pl(o,a,d,p,ce)&&!(ce[0]===o[0]&&ce[1]===o[1]||ce[0]===d[0]&&ce[1]===d[1]||ce[0]===a[0]&&ce[1]===a[1]||ce[0]===p[0]&&ce[1]===p[1]))return!0}}const s=r.length;if(!(s<=4))for(let n=0;n<s-3;n++){let o=s-1;n===0&&(o=s-2);const a=r[n],l=r[n+1];for(let c=n+2;c<o;c++){const d=r[c],p=r[c+1];if(Pl(a,l,d,p,ce)&&!(ce[0]===a[0]&&ce[1]===a[1]||ce[0]===d[0]&&ce[1]===d[1]||ce[0]===l[0]&&ce[1]===l[1]||ce[0]===p[0]&&ce[1]===p[1]))return!0}}}return!1}function Jp(e,t,r){for(let s=0;s<r.length;s++)if(Pl(e,t,r[s][0],r[s][1]))return!0;return!1}function Pl(e,t,r,s,n){const[o,a]=e,[l,c]=t,[d,p]=r,[m,y]=s,g=m-d,b=o-d,S=l-o,x=y-p,M=a-p,P=c-a,F=x*S-g*P;if(F===0)return!1;const W=(g*M-x*b)/F,z=(S*M-P*b)/F;return W>=0&&W<=1&&z>=0&&z<=1&&(n&&(n[0]=o+W*(l-o),n[1]=a+W*(c-a)),!0)}function Tw(e){switch(e){case"esriGeometryEnvelope":case"extent":return ww;case"esriGeometryMultipoint":case"multipoint":return vw;case"esriGeometryPoint":case"point":return gw;case"esriGeometryPolygon":case"polygon":return $w;case"esriGeometryPolyline":case"polyline":return Sw}}var Ce;function Ow(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}function Ut(e,t,r){return t==null?r:r==null?t:e(t,r)}let ie=Ce=class extends Qr{constructor(...e){super(...e),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(e,t,r,s,n){return Ow(e)?{spatialReference:e,xmin:0,ymin:0,xmax:0,ymax:0}:typeof e=="object"?(e.spatialReference=e.spatialReference==null?fe.WGS84:e.spatialReference,e):{xmin:e,ymin:t,xmax:r,ymax:s,spatialReference:n??fe.WGS84}}static fromBounds(e,t){return new Ce({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}static fromPoint(e){return new Ce({xmin:e.x,ymin:e.y,zmin:e.z,xmax:e.x,ymax:e.y,zmax:e.z,spatialReference:e.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const e=new le({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(e.z=.5*(this.zmin+this.zmax)),this.hasM&&(e.m=.5*(this.mmin+this.mmax)),e}get extent(){return this.clone()}get hasM(){return this.mmin!=null&&this.mmax!=null}get hasZ(){return this.zmin!=null&&this.zmax!=null}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(e){const t=this.center;return e.z!=null&&this.hasZ?this.offset(e.x-t.x,e.y-t.y,e.z-t.z):this.offset(e.x-t.x,e.y-t.y)}clone(){const e=new Ce;return e.xmin=this.xmin,e.ymin=this.ymin,e.xmax=this.xmax,e.ymax=this.ymax,e.spatialReference=this.spatialReference,this.zmin!=null&&(e.zmin=this.zmin,e.zmax=this.zmax),this.mmin!=null&&(e.mmin=this.mmin,e.mmax=this.mmax),e}contains(e){if(!e)return!1;const t=this.spatialReference,r=e.spatialReference;return t&&r&&!t.equals(r)&&ji(t,r)&&(e=t.isWebMercator?Ca(e):gi(e,!0)),e.type==="point"?Wp(this,e):e.type==="extent"&&dw(this,e)}equals(e){if(this===e)return!0;if(e==null)return!1;const t=this.spatialReference,r=e.spatialReference;return t&&r&&!t.equals(r)&&ji(t,r)&&(e=t.isWebMercator?Ca(e):gi(e,!0)),this.xmin===e.xmin&&this.ymin===e.ymin&&this.zmin===e.zmin&&this.mmin===e.mmin&&this.xmax===e.xmax&&this.ymax===e.ymax&&this.zmax===e.zmax&&this.mmax===e.mmax}expand(e){const t=.5*(1-e),r=this.width*t,s=this.height*t;if(this.xmin+=r,this.ymin+=s,this.xmax-=r,this.ymax-=s,this.hasZ){const n=(this.zmax-this.zmin)*t;this.zmin+=n,this.zmax-=n}if(this.hasM){const n=(this.mmax-this.mmin)*t;this.mmin+=n,this.mmax-=n}return this}intersects(e){if(e==null)return!1;e.type==="mesh"&&(e=e.extent);const t=this.spatialReference,r=e.spatialReference;return t&&r&&!Ct(t,r)&&ji(t,r)&&(e=t.isWebMercator?Ca(e):gi(e,!0)),Tw(e.type)(this,e)}normalize(){const e=this._normalize(!1,!0);return Array.isArray(e)?e:[e]}offset(e,t,r){return this.xmin+=e,this.ymin+=t,this.xmax+=e,this.ymax+=t,r!=null&&(this.zmin+=r,this.zmax+=r),this}shiftCentralMeridian(){return this._normalize(!0)}union(e){return this===e||(this.xmin=Math.min(this.xmin,e.xmin),this.ymin=Math.min(this.ymin,e.ymin),this.xmax=Math.max(this.xmax,e.xmax),this.ymax=Math.max(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=Ut(Math.min,this.zmin,e.zmin),this.zmax=Ut(Math.max,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=Ut(Math.min,this.mmin,e.mmin),this.mmax=Ut(Math.max,this.mmax,e.mmax))),this}intersection(e){return this===e?this:e!=null&&this.intersects(e)?(this.xmin=Math.max(this.xmin,e.xmin),this.ymin=Math.max(this.ymin,e.ymin),this.xmax=Math.min(this.xmax,e.xmax),this.ymax=Math.min(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=Ut(Math.max,this.zmin,e.zmin),this.zmax=Ut(Math.min,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=Ut(Math.max,this.mmin,e.mmin),this.mmax=Ut(Math.min,this.mmax,e.mmax)),this):null}toJSON(e){return this.write({},e)}_shiftCM(e=Li(this.spatialReference)){if(!e||!this.spatialReference)return this;const t=this.spatialReference,r=this._getCM(e);if(r){const s=t.isWebMercator?gi(r):r;this.xmin-=r.x,this.xmax-=r.x,t.isWebMercator||(s.x=this._normalizeX(s.x,e).x),this.spatialReference=new fe(ic((t.isWGS84?e.altTemplate:null)??e.wkTemplate,{Central_Meridian:s.x}))}return this}_getCM(e){let t=null;const[r,s]=e.valid,n=this.xmin,o=this.xmax;return n>=r&&n<=s&&o>=r&&o<=s||(t=this.center),t}_normalize(e,t,r){const s=this.spatialReference;if(!s)return this;const n=r??Li(s);if(n==null)return this;const o=this._getParts(n).map((c=>c.extent));if(o.length<2)return o[0]||this;if(o.length>2)return e?this._shiftCM(n):this.set({xmin:n.valid[0],xmax:n.valid[1]});if(e)return this._shiftCM(n);if(t)return o;let a=!0,l=!0;return o.forEach((c=>{c.hasZ||(a=!1),c.hasM||(l=!1)})),{rings:o.map((c=>{const d=[[c.xmin,c.ymin],[c.xmin,c.ymax],[c.xmax,c.ymax],[c.xmax,c.ymin],[c.xmin,c.ymin]];if(a){const p=(c.zmax-c.zmin)/2;for(let m=0;m<d.length;m++)d[m].push(p)}if(l){const p=(c.mmax-c.mmin)/2;for(let m=0;m<d.length;m++)d[m].push(p)}return d})),hasZ:a,hasM:l,spatialReference:s}}_getParts(e){let t=this.cache._parts;if(!t){t=[];const{ymin:n,ymax:o,spatialReference:a}=this,l=this.width,c=this.xmin,d=this.xmax;let p;e=e||Li(a);const[m,y]=e.valid;p=this._normalizeX(this.xmin,e);const g=p.x,b=p.frameId;p=this._normalizeX(this.xmax,e);const S=p.x,x=p.frameId,M=g===S&&l>0;if(l>2*y){const P=new Ce(c<d?g:S,n,y,o,a),F=new Ce(m,n,c<d?S:g,o,a),W=new Ce(0,n,y,o,a),z=new Ce(m,n,0,o,a),be=[],xe=[];P.contains(W)&&be.push(b),P.contains(z)&&xe.push(b),F.contains(W)&&be.push(x),F.contains(z)&&xe.push(x);for(let q=b+1;q<x;q++)be.push(q),xe.push(q);t.push({extent:P,frameIds:[b]},{extent:F,frameIds:[x]},{extent:W,frameIds:be},{extent:z,frameIds:xe})}else g>S||M?t.push({extent:new Ce(g,n,y,o,a),frameIds:[b]},{extent:new Ce(m,n,S,o,a),frameIds:[x]}):t.push({extent:new Ce(g,n,S,o,a),frameIds:[b]});this.cache._parts=t}const r=this.hasZ,s=this.hasM;if(r||s){const n={};r&&(n.zmin=this.zmin,n.zmax=this.zmax),s&&(n.mmin=this.mmin,n.mmax=this.mmax);for(let o=0;o<t.length;o++)t[o].extent.set(n)}return t}_normalizeX(e,t){const[r,s]=t.valid,n=2*s;let o,a=0;return e>s?(o=Math.ceil(Math.abs(e-s)/n),e-=o*n,a=o):e<r&&(o=Math.ceil(Math.abs(e-r)/n),e+=o*n,a=-o),{x:e,frameId:a}}};u([h({readOnly:!0})],ie.prototype,"cache",null),u([h({readOnly:!0})],ie.prototype,"center",null),u([h({readOnly:!0})],ie.prototype,"extent",null),u([h({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],ie.prototype,"hasM",null),u([h({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],ie.prototype,"hasZ",null),u([h({readOnly:!0})],ie.prototype,"height",null),u([h({readOnly:!0})],ie.prototype,"width",null),u([h({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],ie.prototype,"xmin",void 0),u([h({type:Number,json:{write:!0}})],ie.prototype,"ymin",void 0),u([h({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],ie.prototype,"mmin",void 0),u([h({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],ie.prototype,"zmin",void 0),u([h({type:Number,json:{write:!0}})],ie.prototype,"xmax",void 0),u([h({type:Number,json:{write:!0}})],ie.prototype,"ymax",void 0),u([h({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],ie.prototype,"mmax",void 0),u([h({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],ie.prototype,"zmax",void 0),ie=Ce=u([v("esri.geometry.Extent")],ie),ie.prototype.toJSON.isDefaultToJSON=!0;const yt=ie;let Tn;const Mw=globalThis.esriConfig?.locale??globalThis.dojoConfig?.locale;function Yp(){return Mw??globalThis.navigator?.language??"en"}function Nt(){return Tn===void 0&&(Tn=Yp()),Tn}function CT(e=Nt()){return/^([a-zA-Z]{2,3})(?:[_\-]\w+)*$/.exec(e)?.[1].toLowerCase()}const On=[];function kT(e){return On.push(e),de((()=>On.splice(On.indexOf(e),1)))}const Nl=[];function Nc(e){return Nl.push(e),de((()=>On.splice(Nl.indexOf(e),1)))}function Ew(){const e=Yp();Tn!==e&&(Tn=e,[...Nl].forEach((t=>{t.call(null,e)})),[...On].forEach((t=>{t.call(null,e)})))}globalThis.addEventListener?.("languagechange",Ew);let wi;function Aw(e){return wi&&!wi.destroyed||(wi=e()),wi}var Il;const Pw=new It({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let ke=Il=class extends Ae{constructor(e){super(e),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(e){e!=="asc"&&e!=="desc"||this._set("sortOrder",e)}clone(){return new Il({categories:this.categories?T(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(e,t){let r=[];this.categories&&(r=this.categories.map((a=>Array.isArray(a)?JSON.stringify(a):a)));let s="";if(this.extent){const a=Bp(this.extent,fe.WGS84);a!=null&&(s=`${a.xmin},${a.ymin},${a.xmax},${a.ymax}`)}let n=this.query;!this.disableExtraQuery&&e.extraQuery&&(n="("+n+")"+e.extraQuery);const o={categories:r,bbox:s,q:n,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(o.sortField=this.sortField.split(",").map((a=>Pw.toJSON(a.trim()))).join(","),o.sortOrder=this.sortOrder),{query:{...t,...o}}}};u([h()],ke.prototype,"categories",void 0),u([h()],ke.prototype,"disableExtraQuery",void 0),u([h({type:yt})],ke.prototype,"extent",void 0),u([h()],ke.prototype,"filter",void 0),u([h()],ke.prototype,"num",void 0),u([h()],ke.prototype,"query",void 0),u([h()],ke.prototype,"sortField",void 0),u([h()],ke.prototype,"sortOrder",null),u([h()],ke.prototype,"start",void 0),ke=Il=u([v("esri.portal.PortalQueryParams")],ke);const Et=ke;var Cl;let re=Cl=class extends N{constructor(e){super(e),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.sourceJSON=null,this.tags=null,this.title=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t&&this.portal?this.portal?.normalizeUrl(`${e}/info/${t}?f=json`):null}get url(){const e=this.portal?.restUrl;return e?e+"/community/groups/"+this.id:null}fetchCategorySchema(e){return this.portal.request(this.url+"/categorySchema",e).then((t=>{const r=t.categorySchema||[];return r.some((s=>s.source==="contentCategorySetsGroupQuery.LivingAtlas"))?this._fetchCategorySchemaSet("LivingAtlas",e):r}))}fetchMembers(e){return this.portal.request(this.url+"/users",e)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}toJSON(){throw new G("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new Cl;return t.sourceJSON=e,t.read(e),t}queryItems(e,t){let r=Ke(Et,e);const s=this.portal;return parseFloat(s.currentVersion)>5?(r=r||new Et,s.queryPortal(`/content/groups/${this.id}/search`,r,"PortalItem",t)):(r=r?r.clone():new Et,r.query="group:"+this.id+(r.query?" "+r.query:""),s.queryItems(r,t))}_fetchCategorySchemaSet(e,t){const r=this.portal;return r.fetchSelf(r.authMode,!0,t).then((s=>{const n=s.contentCategorySetsGroupQuery;if(n){const o=new Et;return o.disableExtraQuery=!0,o.num=1,o.query=n,r.queryGroups(o,t)}throw new G("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")})).then((s=>{if(s.total){const n=s.results[0],o=new Et;return o.num=1,o.query=`typekeywords:"${e}"`,n.queryItems(o,t)}throw new G("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")})).then((s=>s.total?s.results[0].fetchData("json",t).then((n=>{const o=n?.categorySchema;return o?.length?o:[]})):[]))}};u([h()],re.prototype,"access",void 0),u([h({type:Date})],re.prototype,"created",void 0),u([h()],re.prototype,"description",void 0),u([h()],re.prototype,"id",void 0),u([h()],re.prototype,"isInvitationOnly",void 0),u([h({type:Date})],re.prototype,"modified",void 0),u([h()],re.prototype,"owner",void 0),u([h()],re.prototype,"portal",void 0),u([h()],re.prototype,"snippet",void 0),u([h()],re.prototype,"sortField",void 0),u([h()],re.prototype,"sortOrder",void 0),u([h()],re.prototype,"sourceJSON",void 0),u([h()],re.prototype,"tags",void 0),u([h()],re.prototype,"thumbnail",void 0),u([h({readOnly:!0})],re.prototype,"thumbnailUrl",null),u([h()],re.prototype,"title",void 0),u([h({readOnly:!0})],re.prototype,"url",null),re=Cl=u([v("esri.portal.PortalGroup")],re);const kl=re;let vr=class extends Ae{constructor(t){super(t),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};u([h()],vr.prototype,"nextQueryParams",void 0),u([h()],vr.prototype,"queryParams",void 0),u([h()],vr.prototype,"results",void 0),u([h()],vr.prototype,"total",void 0),vr=u([v("esri.portal.PortalQueryResult")],vr);const Nw=vr;let bt=class extends N{constructor(t){super(t),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){const t=this.portal?.restUrl;return t?`${t}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new G("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};u([h({type:Date})],bt.prototype,"created",void 0),u([h()],bt.prototype,"id",void 0),u([h()],bt.prototype,"portal",void 0),u([h()],bt.prototype,"title",void 0),u([h({readOnly:!0})],bt.prototype,"url",null),u([h()],bt.prototype,"username",void 0),bt=u([v("esri.portal.PortalFolder")],bt);const Iw=bt;var Dl;let B=Dl=class extends N{constructor(...e){super(...e),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userType=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t?this.portal.normalizeUrl(`${e}/info/${t}?f=json`):null}get userContentUrl(){const e=this.portal?.restUrl;return e?`${e}/content/users/${this.username}`:null}get url(){const e=this.portal?.restUrl;return e?`${e}/community/users/${this.username}`:null}addItem(e){const t=e&&e.item,r=e?.data,s=e?.folder,n={method:"post"};t&&(n.query=t.createPostQuery(),r!=null&&(typeof r=="string"?n.query.text=r:typeof r=="object"&&(n.query.text=JSON.stringify(r))));let o=this.userContentUrl;return s&&(o+="/"+(typeof s=="string"?s:s.id)),this.portal.request(o+"/addItem",n).then((a=>(t.id=a.id,t.portal=this.portal,t.loaded?t.reload():t.load())))}deleteItem(e){let t=this.userContentUrl;return e.ownerFolder&&(t+="/"+e.ownerFolder),this.portal.request(t+`/items/${e.id}/delete`,{method:"post"}).then((()=>{e.id=null,e.portal=null}))}deleteItems(e){const t=this.userContentUrl+"/deleteItems",r=e.map((s=>s.id));if(r.length){const s={method:"post",query:{items:r.join(",")}};return this.portal.request(t,s).then((()=>{e.forEach((n=>{n.id=null,n.portal=null}))}))}return Promise.resolve(void 0)}fetchFolders(){const e={query:{num:1}};return this.portal.request(this.userContentUrl??"",e).then((t=>{let r;return r=t&&t.folders?t.folders.map((s=>{const n=Iw.fromJSON(s);return n.portal=this.portal,n})):[],r}))}fetchGroups(){return this.portal.request(this.url??"").then((e=>{let t;return t=e&&e.groups?e.groups.map((r=>{const s=kl.fromJSON(r);return s.portal=this.portal,s})):[],t}))}fetchItems(e){const t=e??{};let r,s=this.userContentUrl??"";return t.folder&&(s+="/"+t.folder.id),pt(()=>import("./PortalItem-C8IOgJp9.js"),__vite__mapDeps([7,1]),import.meta.url).then((({default:n})=>{r=n;const o={folders:!1,num:t.num||10,start:t.start||1,sortField:t.sortField||"created",sortOrder:t.sortOrder||"asc"};return this.portal.request(s,{query:o})})).then((n=>{let o;return n?.items?(o=n.items.map((a=>{const l=r.fromJSON(a);return l.portal=this.portal,l})),Promise.all(o.map((a=>a.load()))).catch((a=>a)).then((()=>({items:o,nextStart:n.nextStart,total:n.total})))):{items:[],nextStart:-1,total:0}}))}fetchTags(){return this.portal.request(this.url+"/tags").then((e=>e.tags))}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}queryFavorites(e){return this.favGroupId?(this._favGroup||(this._favGroup=new kl({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(e)):Promise.reject(new G("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}toJSON(){throw new G("internal:not-yet-implemented","PortalUser.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new Dl;return t.sourceJSON=e,t.read(e),t}};u([h()],B.prototype,"access",void 0),u([h({type:Date})],B.prototype,"created",void 0),u([h()],B.prototype,"culture",void 0),u([h()],B.prototype,"description",void 0),u([h()],B.prototype,"email",void 0),u([h()],B.prototype,"favGroupId",void 0),u([h()],B.prototype,"fullName",void 0),u([h({type:Date})],B.prototype,"modified",void 0),u([h()],B.prototype,"orgId",void 0),u([h()],B.prototype,"portal",void 0),u([h()],B.prototype,"preferredView",void 0),u([h()],B.prototype,"privileges",void 0),u([h()],B.prototype,"region",void 0),u([h()],B.prototype,"role",void 0),u([h()],B.prototype,"roleId",void 0),u([h()],B.prototype,"sourceJSON",void 0),u([h()],B.prototype,"thumbnail",void 0),u([h({readOnly:!0})],B.prototype,"thumbnailUrl",null),u([h()],B.prototype,"units",void 0),u([h({readOnly:!0})],B.prototype,"userContentUrl",null),u([h({readOnly:!0})],B.prototype,"url",null),u([h()],B.prototype,"username",void 0),u([h()],B.prototype,"userType",void 0),B=Dl=u([v("esri.portal.PortalUser")],B);const Kp=B;var $t;let vi;const nd={PortalGroup:()=>Promise.resolve({default:kl}),PortalItem:()=>pt(()=>import("./PortalItem-C8IOgJp9.js"),__vite__mapDeps([7,1]),import.meta.url),PortalUser:()=>Promise.resolve({default:Kp})};let _=$t=class extends yp(E3){constructor(e){super(e),this._esriIdCredentialCreateHandle=null,this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.basemapGalleryGroupQuery3D=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=K.portalUrl,this.urlKey=null,this.user=null,this.use3dBasemaps=!0,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(e){return typeof e=="string"?{url:e}:e}destroy(){id.unregister(this),this.defaultBasemap=Ii(this.defaultBasemap),this.defaultDevBasemap=Ii(this.defaultDevBasemap),this.defaultVectorBasemap=Ii(this.defaultVectorBasemap),this._esriIdCredentialCreateHandle=Ps(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(e){if(e)for(const t of e)K.request.trustedServers.includes(t)||K.request.trustedServers.push(t);return e}readDefaultBasemap(e){return this._readBasemap(e)}readDefaultDevBasemap(e){return this._readBasemap(e)}readDefaultVectorBasemap(e){return this._readBasemap(e)}get extraQuery(){const e=this.user?.orgId,t=!e||this.canSearchPublic;return this.id&&!t?` AND orgid:${this.id}`:null}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get restUrl(){let e=this.url;if(e){const t=e.indexOf("/sharing");e=t>0?e.substring(0,t):this.url.replace(/\/+$/,""),e+="/sharing/rest"}return e}get thumbnailUrl(){const e=this.restUrl,t=this.thumbnail;return e&&t?this._normalizeSSL(e+"/portals/self/resources/"+t):null}readUrlKey(e){return e&&e.toLowerCase()}readUser(e){let t=null;return e&&(t=Kp.fromJSON(e),t.portal=this),t}load(e){const t=pt(()=>import("./Basemap-DVlQKLRn.js").then(r=>r.B),__vite__mapDeps([8,1,9,7,10,11]),import.meta.url).then((({default:r})=>{kn(e),vi=r})).then((()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,e))).then((r=>{if(ue){const s=ue;this.credential=s.findCredential(this.restUrl),this.credential||this.authMode!==$t.AUTH_MODE_AUTO||(this._esriIdCredentialCreateHandle?.remove(),this._esriIdCredentialCreateHandle=s.on("credential-create",Cw(new WeakRef(this))),id.register(this,this._esriIdCredentialCreateHandle,this))}this.sourceJSON=r,this.read(r)}));return this.addResolvingPromise(t),Promise.resolve(this)}async createElevationLayers(){await this.load();const e=this._getHelperService("defaultElevationLayers"),t=(await pt(async()=>{const{default:r}=await import("./ElevationLayer-CtF3_GgC.js");return{default:r}},__vite__mapDeps([12,1,13,14,15,16,17,18,19,20,21,22,23,24,25,26,11,7,27,28]),import.meta.url)).default;return e?e.map((r=>new t({id:r.id,url:r.url}))):[]}async fetchBasemaps(e,t){const r=await this._fetchBasemaps(e,t);if(t?.include3d===!0&&this.use3dBasemaps!==!1){const s=await this._fetchBasemaps3D(e,t);r.unshift(...s)}return r}fetchCategorySchema(e){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",e).then((t=>t.categorySchema)):Gr(e)?Promise.reject(Ee()):Promise.resolve([])}fetchFeaturedGroups(e){const t=this.featuredGroups,r=new Et;if(r.num=100,r.sortField="title",t&&t.length){const s=[];for(const n of t)s.push(`(title:"${n.title}" AND owner:${n.owner})`);return r.query=s.join(" OR "),this.queryGroups(r,e).then((n=>n.results))}return Gr(e)?Promise.reject(Ee()):Promise.resolve([])}fetchRegions(e){const t=this.user?.culture||this.culture||Nt();return this.request(this.restUrl+"/portals/regions",{...e,query:{culture:t}})}fetchSettings(e){const t=this.user?.culture||this.culture||Nt();return this.request(this.restUrl+"/portals/self/settings",{...e,query:{culture:t}})}static getDefault(){return Aw((()=>new $t))}queryGroups(e,t){return this.queryPortal("/community/groups",e,"PortalGroup",t)}queryItems(e,t){return this.queryPortal("/search",e,"PortalItem",t)}queryUsers(e,t){return e.sortField||(e.sortField="username"),this.queryPortal("/community/users",e,"PortalUser",t)}fetchSelf(e=this.authMode,t=!1,r){const s=this.restUrl+"/portals/self",n={authMode:e,query:{culture:Nt().toLowerCase()},...r};return n.authMode==="auto"&&(n.authMode="no-prompt"),t&&(n.query.default=!0),this.request(s,n)}queryPortal(e,t,r,s){const n=Ke(Et,t),o=a=>this.request(this.restUrl+e,{...n.toRequestOptions(this),...s}).then((l=>{const c=n.clone();return c.start=l.nextStart,new Nw({nextQueryParams:c,queryParams:n,total:l.total,results:$t._resultsToTypedArray(a,{portal:this},l,s)})})).then((l=>Promise.all(l.results.map((c=>typeof c.when=="function"?c.when():l))).then((()=>l),(c=>(jf(c),l)))));return r&&nd[r]?nd[r]().then((({default:a})=>(kn(s),o(a)))):o()}signIn(){if(this.authMode===$t.AUTH_MODE_ANONYMOUS)return Promise.reject(new G("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if(this.loadStatus==="failed")return Promise.reject(this.loadError);const e=t=>Promise.resolve().then((()=>this.loadStatus==="not-loaded"?(t||(this.authMode="immediate"),this.load().then((()=>null))):this.loadStatus==="loading"?this.load().then((()=>this.credential?null:(this.credential=t,this.fetchSelf("immediate")))):this.user&&this.credential===t?null:(this.credential=t,this.fetchSelf("immediate")))).then((r=>{r&&(this.sourceJSON=r,this.read(r))}));return ue?ue.getCredential(this.restUrl).then((t=>e(t))):e(this.credential)}normalizeUrl(e){const t=this.credential?.token;return this._normalizeSSL(t?e+(e.includes("?")?"&":"?")+"token="+t:e)}requestToTypedArray(e,t,r){return this.request(e,t).then((s=>{const n=$t._resultsToTypedArray(r,{portal:this},s);return Promise.all(n.map((o=>typeof o.when=="function"?o.when():s))).then((()=>n),(()=>n))}))}request(e,t={}){const r={f:"json",...t.query},{authMode:s=this.authMode===$t.AUTH_MODE_ANONYMOUS?"anonymous":"auto",body:n=null,cacheBust:o=!1,method:a="auto",responseType:l="json",signal:c}=t,d={authMode:s,body:n,cacheBust:o,method:a,query:r,responseType:l,timeout:0,signal:c};return Qe(this._normalizeSSL(e),d).then((p=>p.data))}toJSON(){throw new G("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new $t({sourceJSON:e})}_getHelperService(e){const t=this.helperServices&&this.helperServices[e];if(!t)throw new G("portal:service-not-found",`The \`helperServices\` do not include an entry named "${e}"`);return t}async _fetchBasemaps(e,t){const r=new Et;r.query=e||(K.apiKey&&xp(this.url)?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),r.disableExtraQuery=!0;const s=await this.queryGroups(r,t);if(!s.total)return[];const n=s.results[0];r.num=100,r.query='type:"Web Map" -type:"Web Application"',r.sortField=n.sortField||"name",r.sortOrder=n.sortOrder||"desc";const o=await n.queryItems(r,t);return o.total?o.results.filter((a=>a.type==="Web Map")).map((a=>new vi({portalItem:a}))):[]}async _fetchBasemaps3D(e,t){const r=e||this.basemapGalleryGroupQuery3D;if(!r)return[];const s=new Et({query:r,disableExtraQuery:!0}),n=await this.queryGroups(s,t);if(!n.total)return[];const o=n.results[0];s.num=100,s.query='type:"Web Scene"',s.sortField=o.sortField||"name",s.sortOrder=o.sortOrder||"desc";const a=await o.queryItems(s,t);return a.total?a.results.filter((l=>l.type==="Web Scene")).map((l=>new vi({portalItem:l}))):[]}_normalizeSSL(e){return e.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(e){if(e){const t=vi.fromJSON(e);return t.portalItem={portal:this},t}return null}static _resultsToTypedArray(e,t,r,s){let n=[];if(r){const o=s!=null?s.signal:null;n=r.listings||r.notifications||r.userInvitations||r.tags||r.items||r.groups||r.comments||r.provisions||r.results||r.relatedItems||r,(e||t)&&(n=n.map((a=>{const l=Object.assign(e?e.fromJSON(a):a,t);return typeof l.load=="function"&&l.load(o),l})))}else n=[];return n}};_.AUTH_MODE_ANONYMOUS="anonymous",_.AUTH_MODE_AUTO="auto",_.AUTH_MODE_IMMEDIATE="immediate",u([h()],_.prototype,"access",void 0),u([h()],_.prototype,"allSSL",void 0),u([h()],_.prototype,"authMode",void 0),u([h()],_.prototype,"authorizedCrossOriginDomains",void 0),u([he("authorizedCrossOriginDomains")],_.prototype,"readAuthorizedCrossOriginDomains",null),u([h()],_.prototype,"basemapGalleryGroupQuery",void 0),u([h({json:{name:"3DBasemapGalleryGroupQuery"}})],_.prototype,"basemapGalleryGroupQuery3D",void 0),u([h()],_.prototype,"bingKey",void 0),u([h()],_.prototype,"canListApps",void 0),u([h()],_.prototype,"canListData",void 0),u([h()],_.prototype,"canListPreProvisionedItems",void 0),u([h()],_.prototype,"canProvisionDirectPurchase",void 0),u([h()],_.prototype,"canSearchPublic",void 0),u([h()],_.prototype,"canShareBingPublic",void 0),u([h()],_.prototype,"canSharePublic",void 0),u([h()],_.prototype,"canSignInArcGIS",void 0),u([h()],_.prototype,"canSignInIDP",void 0),u([h()],_.prototype,"colorSetsGroupQuery",void 0),u([h()],_.prototype,"commentsEnabled",void 0),u([h({type:Date})],_.prototype,"created",void 0),u([h()],_.prototype,"credential",void 0),u([h()],_.prototype,"culture",void 0),u([h()],_.prototype,"currentVersion",void 0),u([h()],_.prototype,"customBaseUrl",void 0),u([h()],_.prototype,"defaultBasemap",void 0),u([he("defaultBasemap")],_.prototype,"readDefaultBasemap",null),u([h()],_.prototype,"defaultDevBasemap",void 0),u([he("defaultDevBasemap")],_.prototype,"readDefaultDevBasemap",null),u([h({type:yt})],_.prototype,"defaultExtent",void 0),u([h()],_.prototype,"defaultVectorBasemap",void 0),u([he("defaultVectorBasemap")],_.prototype,"readDefaultVectorBasemap",null),u([h()],_.prototype,"description",void 0),u([h()],_.prototype,"devBasemapGalleryGroupQuery",void 0),u([h()],_.prototype,"eueiEnabled",void 0),u([h({readOnly:!0})],_.prototype,"extraQuery",null),u([h()],_.prototype,"featuredGroups",void 0),u([h()],_.prototype,"featuredItemsGroupQuery",void 0),u([h()],_.prototype,"galleryTemplatesGroupQuery",void 0),u([h()],_.prototype,"livingAtlasGroupQuery",void 0),u([h()],_.prototype,"hasCategorySchema",void 0),u([h()],_.prototype,"helpBase",void 0),u([h()],_.prototype,"helperServices",void 0),u([h()],_.prototype,"helpMap",void 0),u([h()],_.prototype,"homePageFeaturedContent",void 0),u([h()],_.prototype,"homePageFeaturedContentCount",void 0),u([h()],_.prototype,"httpPort",void 0),u([h()],_.prototype,"httpsPort",void 0),u([h()],_.prototype,"id",void 0),u([h()],_.prototype,"ipCntryCode",void 0),u([h({readOnly:!0})],_.prototype,"isOrganization",null),u([h()],_.prototype,"isPortal",void 0),u([h()],_.prototype,"isReadOnly",void 0),u([h({readOnly:!0})],_.prototype,"itemPageUrl",null),u([h()],_.prototype,"layerTemplatesGroupQuery",void 0),u([h()],_.prototype,"maxTokenExpirationMinutes",void 0),u([h({type:Date})],_.prototype,"modified",void 0),u([h()],_.prototype,"name",void 0),u([h()],_.prototype,"portalHostname",void 0),u([h()],_.prototype,"portalMode",void 0),u([h()],_.prototype,"portalProperties",void 0),u([h()],_.prototype,"region",void 0),u([h({readOnly:!0})],_.prototype,"restUrl",null),u([h()],_.prototype,"rotatorPanels",void 0),u([h()],_.prototype,"showHomePageDescription",void 0),u([h()],_.prototype,"sourceJSON",void 0),u([h()],_.prototype,"staticImagesUrl",void 0),u([h({json:{name:"2DStylesGroupQuery"}})],_.prototype,"stylesGroupQuery2d",void 0),u([h({json:{name:"stylesGroupQuery"}})],_.prototype,"stylesGroupQuery3d",void 0),u([h()],_.prototype,"supportsHostedServices",void 0),u([h()],_.prototype,"symbolSetsGroupQuery",void 0),u([h()],_.prototype,"templatesGroupQuery",void 0),u([h()],_.prototype,"thumbnail",void 0),u([h({readOnly:!0})],_.prototype,"thumbnailUrl",null),u([h()],_.prototype,"units",void 0),u([h()],_.prototype,"url",void 0),u([h()],_.prototype,"urlKey",void 0),u([he("urlKey")],_.prototype,"readUrlKey",null),u([h()],_.prototype,"user",void 0),u([he("user")],_.prototype,"readUser",null),u([h()],_.prototype,"use3dBasemaps",void 0),u([h()],_.prototype,"useStandardizedQuery",void 0),u([h()],_.prototype,"useVectorBasemaps",void 0),u([h()],_.prototype,"vectorBasemapGalleryGroupQuery",void 0),_=$t=u([v("esri.portal.Portal")],_);const ia=_,id=new FinalizationRegistry((e=>{e.remove()}));function Cw(e){const t=ue;return()=>{const r=e.deref();r&&t.findCredential(r.restUrl)&&r.signIn().catch((()=>{}))}}const od=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,kw={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:!0,nl:!0,pl:!0,"pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,"zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function ad(e){return e in kw}const Qs=[],gs=new Map;function ld(e){for(const t of gs.keys())Qp(e.pattern,t)&&gs.delete(t)}function Dw(e){return Qs.includes(e)||(ld(e),Qs.unshift(e)),de((()=>{const t=Qs.indexOf(e);t>-1&&(Qs.splice(t,1),ld(e))}))}async function FT(e){const t=Nt();gs.has(e)||gs.set(e,Fw(e,t));const r=gs.get(e);return r&&await Lw.add(r),r}function Rw(e){if(!od.test(e))return null;const t=od.exec(e);if(t===null)return null;const[,r,s]=t,n=r+(s?"-"+s.toUpperCase():"");return ad(n)?n:ad(r)?r:null}async function Fw(e,t){const r=[];for(const s of Qs)if(Qp(s.pattern,e))try{return await s.fetchMessageBundle(e,t)}catch(n){r.push(n)}throw r.length?new G("intl:message-bundle-error",`Errors occurred while loading "${e}"`,{errors:r}):new G("intl:no-message-bundle-loader",`No loader found for message bundle "${e}"`)}function Qp(e,t){return typeof e=="string"?t.startsWith(e):e.test(t)}Nc((()=>{gs.clear()}));const Lw=new class{constructor(){this._numLoading=0,this._dfd=null}async waitForAll(){this._dfd&&await this._dfd.promise}add(e){return this._increase(),e.then((()=>this._decrease()),(()=>this._decrease())),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=bs())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&this._numLoading===0&&(this._dfd.resolve(),this._dfd=null)}},Io={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function jw(e){return!!Io[e]||!!Io[e.toLowerCase()]}function Xp(e){return Io[e]??Io[e.toLowerCase()]}function LT(e){return[...Xp(e)]}function Da(e,t,r){r<0&&++r,r>1&&--r;const s=6*r;return s<1?e+(t-e)*s:2*r<1?t:3*r<2?e+(t-e)*(2/3-r)*6:e}function Uw(e,t,r,s=1){const n=(e%360+360)%360/360,o=r<=.5?r*(t+1):r+t-r*t,a=2*r-o;return[Math.round(255*Da(a,o,n+1/3)),Math.round(255*Da(a,o,n)),Math.round(255*Da(a,o,n-1/3)),s]}function jT(e){const t=e.length>5,r=t?8:4,s=(1<<r)-1,n=t?1:17,o=t?e.length===9:e.length===5;let a=+("0x"+e.substr(1));if(isNaN(a))return null;const l=[0,0,0,1];let c;return o&&(c=a&s,a>>=r,l[3]=n*c/255),c=a&s,a>>=r,l[2]=n*c,c=a&s,a>>=r,l[1]=n*c,c=a&s,a>>=r,l[0]=n*c,l}function Qn(){return[0,0,0]}function zw(e){return[e[0],e[1],e[2]]}function Xn(e,t,r){return[e,t,r]}function Gw(e,t=Qn()){const r=Math.min(3,e.length);for(let s=0;s<r;++s)t[s]=e[s];return t}function qw(e,t){return new Float64Array(e,t,3)}function e0(){return Qn()}function t0(){return Xn(1,1,1)}function r0(){return Xn(1,0,0)}function s0(){return Xn(0,1,0)}function n0(){return Xn(0,0,1)}const Vw=e0(),Bw=t0(),Ww=r0(),Hw=s0(),Zw=n0();Object.freeze(Object.defineProperty({__proto__:null,ONES:Bw,UNIT_X:Ww,UNIT_Y:Hw,UNIT_Z:Zw,ZEROS:Vw,clone:zw,create:Qn,createView:qw,fromArray:Gw,fromValues:Xn,ones:t0,unitX:r0,unitY:s0,unitZ:n0,zeros:e0},Symbol.toStringTag,{value:"Module"}));let Ic=1e-6;function Cc(){return Ic}function Jw(e){Ic=e}const kc=Math.random,Yw=Math.PI/180,Kw=180/Math.PI;function Qw(e){return e*Yw}function Xw(e){return e*Kw}function ev(e,t){return Math.abs(e-t)<=Ic*Math.max(1,Math.abs(e),Math.abs(t))}Object.freeze(Object.defineProperty({__proto__:null,RANDOM:kc,equals:ev,getEpsilon:Cc,setEpsilon:Jw,toDegree:Xw,toRadian:Qw},Symbol.toStringTag,{value:"Module"}));function Dc(e){const t=e[0],r=e[1],s=e[2];return Math.sqrt(t*t+r*r+s*s)}function Rl(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function i0(e,t,r,s){return e[0]=t,e[1]=r,e[2]=s,e}function tv(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e}function o0(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e}function a0(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e}function l0(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e}function rv(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function sv(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function nv(e,t){return e[0]=Math.abs(t[0]),e[1]=Math.abs(t[1]),e[2]=Math.abs(t[2]),e}function iv(e,t){return e[0]=Math.sign(t[0]),e[1]=Math.sign(t[1]),e[2]=Math.sign(t[2]),e}function ov(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e}function av(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e}function lv(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function uv(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e}function cv(e,t,r,s){return e[0]=t[0]+r[0]*s,e[1]=t[1]+r[1]*s,e[2]=t[2]+r[2]*s,e}function u0(e,t){const r=t[0]-e[0],s=t[1]-e[1],n=t[2]-e[2];return Math.sqrt(r*r+s*s+n*n)}function c0(e,t){const r=t[0]-e[0],s=t[1]-e[1],n=t[2]-e[2];return r*r+s*s+n*n}function h0(e){const t=e[0],r=e[1],s=e[2];return t*t+r*r+s*s}function hv(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function dv(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function Fl(e,t){const r=t[0],s=t[1],n=t[2];let o=r*r+s*s+n*n;return o>0&&(o=1/Math.sqrt(o),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o),e}function d0(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function fv(e,t,r){const s=t[0],n=t[1],o=t[2],a=r[0],l=r[1],c=r[2];return e[0]=n*c-o*l,e[1]=o*a-s*c,e[2]=s*l-n*a,e}function pv(e,t,r,s){const n=t[0],o=t[1],a=t[2];return e[0]=n+s*(r[0]-n),e[1]=o+s*(r[1]-o),e[2]=a+s*(r[2]-a),e}function mv(e,t,r,s,n,o){const a=o*o,l=a*(2*o-3)+1,c=a*(o-2)+o,d=a*(o-1),p=a*(3-2*o);return e[0]=t[0]*l+r[0]*c+s[0]*d+n[0]*p,e[1]=t[1]*l+r[1]*c+s[1]*d+n[1]*p,e[2]=t[2]*l+r[2]*c+s[2]*d+n[2]*p,e}function yv(e,t,r,s,n,o){const a=1-o,l=a*a,c=o*o,d=l*a,p=3*o*l,m=3*c*a,y=c*o;return e[0]=t[0]*d+r[0]*p+s[0]*m+n[0]*y,e[1]=t[1]*d+r[1]*p+s[1]*m+n[1]*y,e[2]=t[2]*d+r[2]*p+s[2]*m+n[2]*y,e}function gv(e,t){t=t||1;const r=kc,s=2*r()*Math.PI,n=2*r()-1,o=Math.sqrt(1-n*n)*t;return e[0]=Math.cos(s)*o,e[1]=Math.sin(s)*o,e[2]=n*t,e}function wv(e,t,r){const s=t[0],n=t[1],o=t[2];return e[0]=r[0]*s+r[4]*n+r[8]*o+r[12],e[1]=r[1]*s+r[5]*n+r[9]*o+r[13],e[2]=r[2]*s+r[6]*n+r[10]*o+r[14],e}function vv(e,t,r){const s=t[0],n=t[1],o=t[2];return e[0]=s*r[0]+n*r[3]+o*r[6],e[1]=s*r[1]+n*r[4]+o*r[7],e[2]=s*r[2]+n*r[5]+o*r[8],e}function bv(e,t,r){const s=r[0],n=r[1],o=r[2],a=r[3],l=t[0],c=t[1],d=t[2];let p=n*d-o*c,m=o*l-s*d,y=s*c-n*l,g=n*y-o*m,b=o*p-s*y,S=s*m-n*p;const x=2*a;return p*=x,m*=x,y*=x,g*=2,b*=2,S*=2,e[0]=l+p+g,e[1]=c+m+b,e[2]=d+y+S,e}function $v(e,t,r,s){const n=[],o=[];return n[0]=t[0]-r[0],n[1]=t[1]-r[1],n[2]=t[2]-r[2],o[0]=n[0],o[1]=n[1]*Math.cos(s)-n[2]*Math.sin(s),o[2]=n[1]*Math.sin(s)+n[2]*Math.cos(s),e[0]=o[0]+r[0],e[1]=o[1]+r[1],e[2]=o[2]+r[2],e}function _v(e,t,r,s){const n=[],o=[];return n[0]=t[0]-r[0],n[1]=t[1]-r[1],n[2]=t[2]-r[2],o[0]=n[2]*Math.sin(s)+n[0]*Math.cos(s),o[1]=n[1],o[2]=n[2]*Math.cos(s)-n[0]*Math.sin(s),e[0]=o[0]+r[0],e[1]=o[1]+r[1],e[2]=o[2]+r[2],e}function Sv(e,t,r,s){const n=[],o=[];return n[0]=t[0]-r[0],n[1]=t[1]-r[1],n[2]=t[2]-r[2],o[0]=n[0]*Math.cos(s)-n[1]*Math.sin(s),o[1]=n[0]*Math.sin(s)+n[1]*Math.cos(s),o[2]=n[2],e[0]=o[0]+r[0],e[1]=o[1]+r[1],e[2]=o[2]+r[2],e}function xv(e,t){Rl(bi,e),Rl($i,t),Fl(bi,bi),Fl($i,$i);const r=d0(bi,$i);return r>1?0:r<-1?Math.PI:Math.acos(r)}const bi=Qn(),$i=Qn();function Tv(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function Ov(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function Mv(e,t){if(e===t)return!0;const r=e[0],s=e[1],n=e[2],o=t[0],a=t[1],l=t[2],c=Cc();return Math.abs(r-o)<=c*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(s-a)<=c*Math.max(1,Math.abs(s),Math.abs(a))&&Math.abs(n-l)<=c*Math.max(1,Math.abs(n),Math.abs(l))}function Ev(e,t,r){const s=r[0]-t[0],n=r[1]-t[1],o=r[2]-t[2];let a=s*s+n*n+o*o;return a>0?(a=1/Math.sqrt(a),e[0]=s*a,e[1]=n*a,e[2]=o*a,e):(e[0]=0,e[1]=0,e[2]=0,e)}const Av=o0,Pv=a0,Nv=l0,Iv=u0,Cv=c0,kv=Dc,Dv=h0;Object.freeze(Object.defineProperty({__proto__:null,abs:nv,add:tv,angle:xv,bezier:yv,ceil:rv,copy:Rl,cross:fv,direction:Ev,dist:Iv,distance:u0,div:Nv,divide:l0,dot:d0,equals:Mv,exactEquals:Ov,floor:sv,hermite:mv,inverse:dv,len:kv,length:Dc,lerp:pv,max:av,min:ov,mul:Pv,multiply:a0,negate:hv,normalize:Fl,random:gv,rotateX:$v,rotateY:_v,rotateZ:Sv,round:lv,scale:uv,scaleAndAdd:cv,set:i0,sign:iv,sqrDist:Cv,sqrLen:Dv,squaredDistance:c0,squaredLength:h0,str:Tv,sub:Av,subtract:o0,transformMat3:vv,transformMat4:wv,transformQuat:bv},Symbol.toStringTag,{value:"Module"}));function Rv(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function Fv(e,t,r,s,n){return e[0]=t,e[1]=r,e[2]=s,e[3]=n,e}function Lv(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e}function f0(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e}function p0(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e[3]=t[3]*r[3],e}function m0(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e[3]=t[3]/r[3],e}function jv(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e}function Uv(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e}function zv(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e[3]=Math.min(t[3],r[3]),e}function Gv(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e[3]=Math.max(t[3],r[3]),e}function qv(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e}function Vv(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e}function Bv(e,t,r,s){return e[0]=t[0]+r[0]*s,e[1]=t[1]+r[1]*s,e[2]=t[2]+r[2]*s,e[3]=t[3]+r[3]*s,e}function y0(e,t){const r=t[0]-e[0],s=t[1]-e[1],n=t[2]-e[2],o=t[3]-e[3];return Math.sqrt(r*r+s*s+n*n+o*o)}function g0(e,t){const r=t[0]-e[0],s=t[1]-e[1],n=t[2]-e[2],o=t[3]-e[3];return r*r+s*s+n*n+o*o}function w0(e){const t=e[0],r=e[1],s=e[2],n=e[3];return Math.sqrt(t*t+r*r+s*s+n*n)}function v0(e){const t=e[0],r=e[1],s=e[2],n=e[3];return t*t+r*r+s*s+n*n}function Wv(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function Hv(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e}function Zv(e,t){const r=t[0],s=t[1],n=t[2],o=t[3];let a=r*r+s*s+n*n+o*o;return a>0&&(a=1/Math.sqrt(a),e[0]=r*a,e[1]=s*a,e[2]=n*a,e[3]=o*a),e}function Jv(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function Yv(e,t,r,s){const n=t[0],o=t[1],a=t[2],l=t[3];return e[0]=n+s*(r[0]-n),e[1]=o+s*(r[1]-o),e[2]=a+s*(r[2]-a),e[3]=l+s*(r[3]-l),e}function Kv(e,t){const r=kc;let s,n,o,a,l,c;t=t||1;do s=2*r()-1,n=2*r()-1,l=s*s+n*n;while(l>=1);do o=2*r()-1,a=2*r()-1,c=o*o+a*a;while(c>=1);const d=Math.sqrt((1-l)/c);return e[0]=t*s,e[1]=t*n,e[2]=t*o*d,e[3]=t*a*d,e}function Qv(e,t,r){const s=t[0],n=t[1],o=t[2],a=t[3];return e[0]=r[0]*s+r[4]*n+r[8]*o+r[12]*a,e[1]=r[1]*s+r[5]*n+r[9]*o+r[13]*a,e[2]=r[2]*s+r[6]*n+r[10]*o+r[14]*a,e[3]=r[3]*s+r[7]*n+r[11]*o+r[15]*a,e}function Xv(e,t,r){const s=t[0],n=t[1],o=t[2],a=r[0],l=r[1],c=r[2],d=r[3],p=d*s+l*o-c*n,m=d*n+c*s-a*o,y=d*o+a*n-l*s,g=-a*s-l*n-c*o;return e[0]=p*d+g*-a+m*-c-y*-l,e[1]=m*d+g*-l+y*-a-p*-c,e[2]=y*d+g*-c+p*-l-m*-a,e[3]=t[3],e}function eb(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function tb(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function rb(e,t){const r=e[0],s=e[1],n=e[2],o=e[3],a=t[0],l=t[1],c=t[2],d=t[3],p=Cc();return Math.abs(r-a)<=p*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(s-l)<=p*Math.max(1,Math.abs(s),Math.abs(l))&&Math.abs(n-c)<=p*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(o-d)<=p*Math.max(1,Math.abs(o),Math.abs(d))}const sb=f0,nb=p0,ib=m0,ob=y0,ab=g0,lb=w0,ub=v0;Object.freeze(Object.defineProperty({__proto__:null,add:Lv,ceil:jv,copy:Rv,dist:ob,distance:y0,div:ib,divide:m0,dot:Jv,equals:rb,exactEquals:tb,floor:Uv,inverse:Hv,len:lb,length:w0,lerp:Yv,max:Gv,min:zv,mul:nb,multiply:p0,negate:Wv,normalize:Zv,random:Kv,round:qv,scale:Vv,scaleAndAdd:Bv,set:Fv,sqrDist:ab,sqrLen:ub,squaredDistance:g0,squaredLength:v0,str:eb,sub:sb,subtract:f0,transformMat4:Qv,transformQuat:Xv},Symbol.toStringTag,{value:"Module"}));const ud=new Float32Array(1);function UT(e){--e;for(let t=1;t<32;t<<=1)e|=e>>t;return e+1}function oa(e,t,r){return Math.min(Math.max(e,t),r)}function zT(e){return(e&e-1)==0}function GT(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e}function cb(e,t,r){return e+(t-e)*r}function qT(e,t,r,s,n){return cb(s,n,(e-t)/(r-t))}function VT(e){return e*Math.PI/180}function BT(e){return 180*e/Math.PI}function WT(e){return Math.acos(oa(e,-1,1))}function hb(e){return Math.asin(oa(e,-1,1))}function Ra(e,t,r=1e-6){return e===t?!0:!Number.isFinite(e)||!Number.isFinite(t)?!1:(e>t?e-t:t-e)<=r}const Co=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));function db(e){return Co.setFloat64(0,e),Co.getBigInt64(0)}function fb(e){return Co.setBigInt64(0,e),Co.getFloat64(0)}const Fa=BigInt("1000000");pb(1);function pb(e){const t=db(e=Math.abs(e)),r=fb(t<=Fa?Fa:t-Fa);return Math.abs(e-r)}function HT(e){return b0(Math.max(-cd,Math.min(e,cd)))}function b0(e){return ud[0]=e,ud[0]}function ZT(e,t){const r=Dc(e),s=hb(e[2]/r),n=Math.atan2(e[1]/r,e[0]/r);return i0(t,r,s,n),t}function JT(e){const t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[3]*e[3]+e[4]*e[4]+e[5]*e[5],s=e[6]*e[6]+e[7]*e[7]+e[8]*e[8];return!(Ra(t,1)&&Ra(r,1)&&Ra(s,1))}const cd=b0(34028234663852886e22);function _i(e){return oa(hc(e),0,255)}function Si(e,t,r){return e=Number(e),isNaN(e)?r:e<t?t:e>r?r:e}function xi(e,t){const r=e.toString(16).padStart(2,"0");return t?r.substring(0,1):r}let zi=class oe{static blendColors(t,r,s,n=new oe){return n.r=Math.round(t.r+(r.r-t.r)*s),n.g=Math.round(t.g+(r.g-t.g)*s),n.b=Math.round(t.b+(r.b-t.b)*s),n.a=t.a+(r.a-t.a)*s,n._sanitize()}static fromRgb(t,r){const s=t.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(s){const n=s[2].split(/\s*,\s*/),o=s[1];if(o==="rgb"&&n.length===3||o==="rgba"&&n.length===4){const a=n[0];if(a.charAt(a.length-1)==="%"){const l=n.map((c=>2.56*parseFloat(c)));return n.length===4&&(l[3]=parseFloat(n[3])),oe.fromArray(l,r)}return oe.fromArray(n.map((l=>parseFloat(l))),r)}if(o==="hsl"&&n.length===3||o==="hsla"&&n.length===4)return oe.fromArray(Uw(parseFloat(n[0]),parseFloat(n[1])/100,parseFloat(n[2])/100,parseFloat(n[3])),r)}return null}static fromHex(t,r=new oe){if(t[0]!=="#"||isNaN(+`0x${t.substring(1)}`))return null;switch(t.length){case 4:case 5:{const s=parseInt(t.substring(1,2),16),n=parseInt(t.substring(2,3),16),o=parseInt(t.substring(3,4),16),a=t.length===5?15:parseInt(t.substring(4),16);return oe.fromArray([s+16*s,n+16*n,o+16*o,(a+16*a)/255],r)}case 7:case 9:{const s=parseInt(t.substring(1,3),16),n=parseInt(t.substring(3,5),16),o=parseInt(t.substring(5,7),16),a=t.length===7?255:parseInt(t.substring(7),16);return oe.fromArray([s,n,o,a/255],r)}default:return null}}static fromArray(t,r=new oe){return r._set(Number(t[0]),Number(t[1]),Number(t[2]),Number(t[3])),isNaN(r.a)&&(r.a=1),r._sanitize()}static fromString(t,r){const s=jw(t)?Xp(t):null;return s&&oe.fromArray(s,r)||oe.fromRgb(t,r)||oe.fromHex(t,r)}static fromJSON(t){return t!=null?new oe([t[0],t[1],t[2],(t[3]??255)/255]):void 0}static toUnitRGB(t){return t!=null?[t.r/255,t.g/255,t.b/255]:null}static toUnitRGBA(t){return t!=null?[t.r/255,t.g/255,t.b/255,t.a!=null?t.a:1]:null}constructor(t){this.r=255,this.g=255,this.b=255,this.a=1,t&&this.setColor(t)}get isBright(){return .299*this.r+.587*this.g+.114*this.b>=127}setColor(t){return typeof t=="string"?oe.fromString(t,this):Array.isArray(t)?oe.fromArray(t,this):(this._set(t.r??0,t.g??0,t.b??0,t.a??1),t instanceof oe||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(t){const r=t?.capitalize??!1,s=t?.digits??6,n=s===3||s===4,o=s===4||s===8,a=`#${xi(this.r,n)}${xi(this.g,n)}${xi(this.b,n)}${o?xi(Math.round(255*this.a),n):""}`;return r?a.toUpperCase():a}toCss(t=!1){const r=this.r+", "+this.g+", "+this.b;return t?`rgba(${r}, ${this.a})`:`rgb(${r})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(t=oe.AlphaMode.ALWAYS){const r=_i(this.r),s=_i(this.g),n=_i(this.b);return t===oe.AlphaMode.ALWAYS||this.a!==1?[r,s,n,_i(255*this.a)]:[r,s,n]}clone(){return new oe(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(t){return t!=null&&t.r===this.r&&t.g===this.g&&t.b===this.b&&t.a===this.a}_sanitize(){return this.r=Math.round(Si(this.r,0,255)),this.g=Math.round(Si(this.g,0,255)),this.b=Math.round(Si(this.b,0,255)),this.a=Si(this.a,0,1),this}_set(t,r,s,n){this.r=t,this.g=r,this.b=s,this.a=n}};zi.prototype.declaredClass="esri.Color",(function(e){var t;(t=e.AlphaMode||(e.AlphaMode={}))[t.ALWAYS=0]="ALWAYS",t[t.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"})(zi||(zi={}));const Y=zi;function k(e,t={}){const r=e instanceof It?e:new It(e,t),s={type:t?.ignoreUnknown??1?r.apiValues:String,json:{type:r.jsonValues,read:!t?.readOnly&&{reader:r.read},write:{writer:r.write}}};return t?.readOnly!==void 0&&(s.readOnly=!!t.readOnly),t?.default!==void 0&&(s.json.default=t.default),t?.name!==void 0&&(s.json.name=t.name),t?.nonNullable!==void 0&&(s.nonNullable=t.nonNullable),h(s)}function mb(e){const t=hc(100*(1-e));return Math.max(0,Math.min(t,100))}function yb(e){const t=1-e/100;return Math.max(0,Math.min(t,1))}const gb=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i,wb="screenUtils.toPt: input not recognized!",$0=96;function YT(e){return e?e/72*$0:0}function Jr(e){return e?72*e/$0:0}function Q(e){if(typeof e=="string"){const t=e.match(gb);if(t){const r=Number(t[1]),s=t[3]&&t[3].toLowerCase(),n=e.charAt(0)==="-",o=s==="px"?Jr(r):r;return n?-o:o}return console.warn(wb),null}return e}function KT(e=0,t=0){return{x:e,y:t}}function QT(e=0,t=0){return[e,t]}function Ts(e,t,r=!1){let{hasM:s,hasZ:n}=e;Array.isArray(t)?t.length!==4||s||n?t.length===3&&r&&!s?(n=!0,s=!1):t.length===3&&s&&n&&(s=!1,n=!1):(s=!0,n=!0):(n=!n&&t.hasZ&&(!s||t.hasM),s=!s&&t.hasM&&(!n||t.hasZ)),e.hasZ=n,e.hasM=s}var Ll;function hd(e){return(t,r)=>t==null?r:r==null?t:e(t,r)}function vb(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}let Bt=Ll=class extends Qr{constructor(...e){super(...e),this.points=[],this.type="multipoint"}normalizeCtorArgs(e,t){if(!e&&!t)return{};const r={};Array.isArray(e)?(r.points=e,r.spatialReference=t):vb(e)?r.spatialReference=e:(e.points&&(r.points=e.points),e.spatialReference&&(r.spatialReference=e.spatialReference),e.hasZ&&(r.hasZ=e.hasZ),e.hasM&&(r.hasM=e.hasM));const s=r.points?.[0];return s&&(r.hasZ===void 0&&r.hasM===void 0?(r.hasZ=s.length>2,r.hasM=!1):r.hasZ===void 0?r.hasZ=s.length>3:r.hasM===void 0&&(r.hasM=s.length>3)),r}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const e=this.points;if(!e.length)return null;const t=new yt,r=this.hasZ,s=this.hasM,n=r?3:2,o=e[0],a=hd(Math.min),l=hd(Math.max);let c,d,p,m,[y,g]=o,[b,S]=o;for(let x=0,M=e.length;x<M;x++){const P=e[x],[F,W]=P;if(y=a(y,F),g=a(g,W),b=l(b,F),S=l(S,W),r&&P.length>2){const z=P[2];c=a(c,z),p=l(p,z)}if(s&&P.length>n){const z=P[n];d=a(d,z),m=l(m,z)}}return t.xmin=y,t.ymin=g,t.xmax=b,t.ymax=S,t.spatialReference=this.spatialReference,r?(t.zmin=c,t.zmax=p):(t.zmin=void 0,t.zmax=void 0),s?(t.mmin=d,t.mmax=m):(t.mmin=void 0,t.mmax=void 0),t}writePoints(e,t){t.points=T(this.points)}addPoint(e){return Ts(this,e),Array.isArray(e)?this.points.push(e):this.points.push(e.toArray()),this.notifyChange("points"),this}clone(){const e={points:T(this.points),spatialReference:this.spatialReference};return this.hasZ&&(e.hasZ=!0),this.hasM&&(e.hasM=!0),new Ll(e)}getPoint(e){if(!this._validateInputs(e))return null;const t=this.points[e],r={x:t[0],y:t[1],spatialReference:this.spatialReference};let s=2;return this.hasZ&&(r.z=t[2],s=3),this.hasM&&(r.m=t[s]),new le(r)}removePoint(e){if(!this._validateInputs(e))return null;const t=new le(this.points.splice(e,1)[0],this.spatialReference);return this.notifyChange("points"),t}setPoint(e,t){return this._validateInputs(e)?(Ts(this,t),Array.isArray(t)||(t=t.toArray()),this.points[e]=t,this.notifyChange("points"),this):this}toJSON(e){return this.write({},e)}_validateInputs(e){return e!=null&&e>=0&&e<this.points.length}};u([h({readOnly:!0})],Bt.prototype,"cache",null),u([h()],Bt.prototype,"extent",null),u([h({type:[[Number]],json:{write:{isRequired:!0}}})],Bt.prototype,"points",void 0),u([ee("points")],Bt.prototype,"writePoints",null),Bt=Ll=u([v("esri.geometry.Multipoint")],Bt),Bt.prototype.toJSON.isDefaultToJSON=!0;const Rc=Bt;function XT(e){const t=[];for(e.reset();e.nextPath();){const r=[];for(;e.nextPoint();)r.push([e.x,e.y]);t.push(r)}return e.reset(),t}function bb(e){const t=[];for(;e.nextPoint();)t.push([e.x,e.y]);return e.seekPathStart(),t}var ko;(function(e){e[e.X=0]="X",e[e.Y=1]="Y",e[e.Z=2]="Z"})(ko||(ko={}));function _0(e,t){const r=t[0]-e[0],s=t[1]-e[1];if(e.length>2&&t.length>2){const n=e[2]-t[2];return Math.sqrt(r*r+s*s+n*n)}return Math.sqrt(r*r+s*s)}function $b(e,t,r){const s=e[0]+r*(t[0]-e[0]),n=e[1]+r*(t[1]-e[1]);return e.length>2&&t.length>2?[s,n,e[2]+r*(t[2]-e[2])]:[s,n]}function e4(e,t,r,s){return _b(e,t,r[s],r[s+1])}function _b(e,t,r,s){const[n,o]=t,[a,l]=r,[c,d]=s,p=c-a,m=d-l,y=p*p+m*m,g=(n-a)*p+(o-l)*m,b=Math.min(1,Math.max(0,g/y));return e[0]=a+p*b,e[1]=l+m*b,e}function S0(e,t){return $b(e,t,.5)}function x0(e,t=ko.X,r=ko.Y){let s=0;const n=e.length;let o=e[0];for(let a=0;a<n-1;a++){const l=e[a+1];s+=(l[t]-o[t])*(l[r]+o[r]),o=l}return s>=0}function Sb(e){const t=e.length;return t>2&&Ho(e[0],e[t-1])}function t4(e){if("rings"in e&&(xb(e),e.rings.length>0&&!x0(e.rings[0])))for(const t of e.rings)t.reverse()}function xb(e){if("rings"in e)for(const t of e.rings)Sb(t)||t.push(t[0].slice())}function r4(e){return e?e.hasZ?[e.xmax-e.xmin/2,e.ymax-e.ymin/2,e.zmax-e.zmin/2]:[e.xmax-e.xmin/2,e.ymax-e.ymin/2]:null}function Tb(e){return e?Ob(e.rings,e.hasZ??!1):null}function Ob(e,t){if(!e?.length)return null;const r=[],s=[],n=t?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let o=0,a=e.length;o<a;o++){const l=T0(e[o],t,n);l&&s.push(l)}if(s.sort(((o,a)=>{let l=o[2]-a[2];return l===0&&t&&(l=o[4]-a[4]),l})),s.length&&(r[0]=s[0][0],r[1]=s[0][1],t&&(r[2]=s[0][3]),(r[0]<n[0]||r[0]>n[1]||r[1]<n[2]||r[1]>n[3]||t&&(r[2]<n[4]||r[2]>n[5]))&&(r.length=0)),!r.length){const o=e[0]&&e[0].length?Mb(e[0],t):null;if(!o)return null;r[0]=o[0],r[1]=o[1],t&&o.length>2&&(r[2]=o[2])}return r}function T0(e,t,r){let s=0,n=0,o=0,a=0,l=0;const c=e.length?e[0][0]:0,d=e.length?e[0][1]:0,p=e.length&&t?e[0][2]:0;for(let y=0;y<e.length;y++){const g=e[y],b=e[(y+1)%e.length],[S,x,M]=g,P=S-c,F=x-d,[W,z,be]=b,xe=W-c,q=z-d,wt=P*q-xe*F;if(a+=wt,s+=(P+xe)*wt,n+=(F+q)*wt,t&&g.length>2&&b.length>2){const ui=M-p,wh=be-p,vh=P*wh-xe*ui;o+=(ui+wh)*vh,l+=vh}S<r[0]&&(r[0]=S),S>r[1]&&(r[1]=S),x<r[2]&&(r[2]=x),x>r[3]&&(r[3]=x),t&&(M<r[4]&&(r[4]=M),M>r[5]&&(r[5]=M))}if(a>0&&(a*=-1),l>0&&(l*=-1),!a)return null;a*=.5,l*=.5;const m=[s/(6*a)+c,n/(6*a)+d,a];return t&&(r[4]===r[5]||l===0?(m[3]=(r[4]+r[5])/2,m[4]=0):(m[3]=o/(6*l)+p,m[4]=l)),m}function s4(e,t){let r=0,s=0,n=0;e.nextPoint();const o=e.pathSize?e.x:0,a=e.pathSize?e.y:0;for(let l=0;l<e.pathSize;l++){e.seekInPath(l);const c=[e.x,e.y];e.seekInPath((l+1)%e.pathSize);const d=[e.x,e.y],[p,m]=c,y=p-o,g=m-a,[b,S]=d,x=b-o,M=S-a,P=y*M-x*g;n+=P,r+=(y+x)*P,s+=(g+M)*P,p<t[0]&&(t[0]=p),p>t[1]&&(t[1]=p),m<t[2]&&(t[2]=m),m>t[3]&&(t[3]=m)}return n>0&&(n*=-1),n?(n*=.5,[r/(6*n)+o,s/(6*n)+a,n]):null}function Mb(e,t){const r=t?[0,0,0]:[0,0],s=t?[0,0,0]:[0,0];let n=0,o=0,a=0,l=0;for(let c=0,d=e.length;c<d-1;c++){const p=e[c],m=e[c+1];if(p&&m){r[0]=p[0],r[1]=p[1],s[0]=m[0],s[1]=m[1],t&&p.length>2&&m.length>2&&(r[2]=p[2],s[2]=m[2]);const y=_0(r,s);if(y){n+=y;const g=S0(p,m);o+=y*g[0],a+=y*g[1],t&&g.length>2&&(l+=y*g[2])}}}return n>0?t?[o/n,a/n,l/n]:[o/n,a/n]:e.length?e[0]:null}function Eb(e){const{hasZ:t,totalSize:r}=e;if(r===0)return null;const s=[],n=[],o=t?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(e.reset();e.nextPath();){const a=T0(bb(e),e.hasZ,o);a&&n.push(a)}if(n.sort(((a,l)=>{let c=a[2]-l[2];return c===0&&t&&(c=a[4]-l[4]),c})),n.length&&(s[0]=n[0][0],s[1]=n[0][1],t&&(s[2]=n[0][3]),(s[0]<o[0]||s[0]>o[1]||s[1]<o[2]||s[1]>o[3]||t&&(s[2]<o[4]||s[2]>o[5]))&&(s.length=0)),!s.length){e.reset(),e.nextPath();const a=e.pathSize?Ab(e):null;if(!a)return null;s[0]=a[0],s[1]=a[1],t&&a.length>2&&(s[2]=a[2])}return s}function Ab(e){const{hasZ:t}=e,r=t?[0,0,0]:[0,0],s=t?[0,0,0]:[0,0];let n=0,o=0,a=0,l=0;if(e.nextPoint()){let c=e.x,d=e.y,p=e.z;for(;e.nextPoint();){const m=e.x,y=e.y,g=e.z;r[0]=c,r[1]=d,s[0]=m,s[1]=y,t&&(r[2]=p,s[2]=g);const b=_0(r,s);if(b){n+=b;const S=S0(r,s);o+=b*S[0],a+=b*S[1],t&&S.length>2&&(l+=b*S[2])}c=m,d=y,p=g}}return n>0?t?[o/n,a/n,l/n]:[o/n,a/n]:e.pathSize?(e.seekPathStart(),e.nextPoint(),[e.x,e.y]):null}const Pb=1e-6;function n4(e){let t=0;for(e.reset();e.nextPath();)t+=e.getCurrentRingArea();if(t<Pb){const n=Eb(e);return n?[n[0],n[1]]:null}const r=[0,0];if(e.reset(),!e.nextPath()||!e.nextPoint())return null;const s=[e.x,e.y];for(e.reset();e.nextPath();)Ib(r,s,e);return r[0]*=1/t,r[1]*=1/t,r[0]+=s[0],r[1]+=s[1],r}const Nb=1/3;function Ib(e,t,r){if(!e||!r||r.pathSize<3)return null;r.nextPoint();const s=r.x,n=r.y;r.nextPoint();let o,a=r.x-s,l=r.y-n,c=0,d=0;for(;r.nextPoint();)c=r.x-s,d=r.y-n,o=.5*Nb*(c*l-d*a),e[0]+=o*(a+c),e[1]+=o*(l+d),a=c,l=d;const p=r.getCurrentRingArea(),m=[s,n];return m[0]-=t[0],m[1]-=t[1],m[0]*=p,m[1]*=p,e[0]+=m[0],e[1]+=m[1],e}function ei(e=Db){return[e[0],e[1],e[2],e[3]]}function i4(e){return[e[0],e[1],e[2],e[3]]}function O0(e,t){return e!==t&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]),e}function o4(e,t,r,s,n=ei()){return n[0]=e,n[1]=t,n[2]=r,n[3]=s,n}function a4(e,t=ei()){return t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax,t}function l4(e,t){return new yt({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}function u4(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function c4(e,t,r){if(t!=null)if("length"in t)jl(t)?(r[0]=Math.min(e[0],t[0]),r[1]=Math.min(e[1],t[1]),r[2]=Math.max(e[2],t[2]),r[3]=Math.max(e[3],t[3])):t.length!==2&&t.length!==3||(r[0]=Math.min(e[0],t[0]),r[1]=Math.min(e[1],t[1]),r[2]=Math.max(e[2],t[0]),r[3]=Math.max(e[3],t[1]));else switch(t.type){case"extent":r[0]=Math.min(e[0],t.xmin),r[1]=Math.min(e[1],t.ymin),r[2]=Math.max(e[2],t.xmax),r[3]=Math.max(e[3],t.ymax);break;case"point":r[0]=Math.min(e[0],t.x),r[1]=Math.min(e[1],t.y),r[2]=Math.max(e[2],t.x),r[3]=Math.max(e[3],t.y)}else O0(r,e)}function Cb(e){return e==null||e[0]>=e[2]?0:e[2]-e[0]}function kb(e){return e==null||e[1]>=e[3]?0:e[3]-e[1]}function h4(e){return Cb(e)*kb(e)}function d4(e,t,r){return t>=e[0]&&r>=e[1]&&t<=e[2]&&r<=e[3]}function f4(e,t,r){return t[0]>=e[0]-r&&t[1]>=e[1]-r&&t[0]<=e[2]+r&&t[1]<=e[3]+r}function p4(e,t){return Math.max(t[0],e[0])<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])<=Math.min(t[3],e[3])}function m4(e,t){return t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3]}function y4(e){return e?O0(e,dd):ei(dd)}function jl(e){return e!=null&&e.length===4}function g4(e,t){return jl(e)&&jl(t)?e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]:e===t}const dd=[1/0,1/0,-1/0,-1/0],Db=[0,0,0,0];function M0(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function E0(e){return e.points!==void 0}function A0(e){return e.x!==void 0&&e.y!==void 0}function P0(e){return e.paths!==void 0}function N0(e){return e.rings!==void 0}function I0(e){function t(r,s){return r==null?s:s==null?r:e(r,s)}return t}const ar=I0(Math.min),lr=I0(Math.max);function w4(e,t){return P0(t)?Os(e,t.paths,!1,!1):N0(t)?Os(e,t.rings,!1,!1):E0(t)?Fc(e,t.points,!1,!1,!1,!1):M0(t)?C0(e,t):(A0(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.x,e[3]=t.y),e)}function v4(e){let t,r,s,n;for(e.reset(),t=s=1/0,r=n=-1/0;e.nextPath();){const o=Rb(e);t=Math.min(o[0],t),s=Math.min(o[1],s),r=Math.max(o[2],r),n=Math.max(o[3],n)}return ei([t,s,r,n])}function Rb(e){let t,r,s,n;for(t=s=1/0,r=n=-1/0;e.nextPoint();)t=Math.min(e.x,t),s=Math.min(e.y,s),r=Math.max(e.x,r),n=Math.max(e.y,n);return ei([t,s,r,n])}function b4(e,t){return P0(t)?Os(e,t.paths,!0,!1):N0(t)?Os(e,t.rings,!0,!1):E0(t)?Fc(e,t.points,!0,!1,!0,!1):M0(t)?C0(e,t,!0,!1,!0,!1):(A0(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.x,e[4]=t.y,e[5]=t.z),e)}function Os(e,t,r,s){const n=r?3:2;if(!t.length||!t[0].length)return null;let o,a,l,c,[d,p]=t[0][0],[m,y]=t[0][0];for(let g=0;g<t.length;g++){const b=t[g];for(let S=0;S<b.length;S++){const x=b[S],[M,P]=x;if(d=ar(d,M),p=ar(p,P),m=lr(m,M),y=lr(y,P),r&&x.length>2){const F=x[2];o=ar(o,F),a=lr(a,F)}if(s&&x.length>n){const F=x[n];l=ar(o,F),c=lr(a,F)}}}return r?s?(e[0]=d,e[1]=p,e[2]=o,e[3]=l,e[4]=m,e[5]=y,e[6]=a,e[7]=c,e.length=8,e):(e[0]=d,e[1]=p,e[2]=o,e[3]=m,e[4]=y,e[5]=a,e.length=6,e):s?(e[0]=d,e[1]=p,e[2]=l,e[3]=m,e[4]=y,e[5]=c,e.length=6,e):(e[0]=d,e[1]=p,e[2]=m,e[3]=y,e.length=4,e)}function C0(e,t,r,s,n,o){const a=t.xmin,l=t.xmax,c=t.ymin,d=t.ymax;let p=t.zmin,m=t.zmax,y=t.mmin,g=t.mmax;return n?(p=p||0,m=m||0,o?(y=y||0,g=g||0,e[0]=a,e[1]=c,e[2]=p,e[3]=y,e[4]=l,e[5]=d,e[6]=m,e[7]=g,e):(e[0]=a,e[1]=c,e[2]=p,e[3]=l,e[4]=d,e[5]=m,e)):o?(y=y||0,g=g||0,e[0]=a,e[1]=c,e[2]=y,e[3]=l,e[4]=d,e[5]=g,e):(e[0]=a,e[1]=c,e[2]=l,e[3]=d,e)}function Fc(e,t,r,s,n,o){const a=r?3:2,l=s&&o,c=r&&n;if(!t.length||!t[0].length)return null;let d,p,m,y,[g,b]=t[0],[S,x]=t[0];for(let M=0;M<t.length;M++){const P=t[M],[F,W]=P;if(g=ar(g,F),b=ar(b,W),S=lr(S,F),x=lr(x,W),c&&P.length>2){const z=P[2];d=ar(d,z),p=lr(p,z)}if(l&&P.length>a){const z=P[a];m=ar(d,z),y=lr(p,z)}}return n?(d=d||0,p=p||0,o?(m=m||0,y=y||0,e[0]=g,e[1]=b,e[2]=d,e[3]=m,e[4]=S,e[5]=x,e[6]=p,e[7]=y,e):(e[0]=g,e[1]=b,e[2]=d,e[3]=S,e[4]=x,e[5]=p,e)):o?(m=m||0,y=y||0,e[0]=g,e[1]=b,e[2]=m,e[3]=S,e[4]=x,e[5]=y,e):(e[0]=g,e[1]=b,e[2]=S,e[3]=x,e)}function Fb(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function Lb(e){return e.points!==void 0}function jb(e){return e.x!==void 0&&e.y!==void 0}function Ub(e){return e.paths!==void 0}function zb(e){return e.rings!==void 0}const Lc=[];function k0(e,t,r,s){return{xmin:e,ymin:t,xmax:r,ymax:s}}function D0(e,t,r,s,n,o){return{xmin:e,ymin:t,zmin:r,xmax:s,ymax:n,zmax:o}}function R0(e,t,r,s,n,o){return{xmin:e,ymin:t,mmin:r,xmax:s,ymax:n,mmax:o}}function F0(e,t,r,s,n,o,a,l){return{xmin:e,ymin:t,zmin:r,mmin:s,xmax:n,ymax:o,zmax:a,mmax:l}}function jc(e,t=!1,r=!1){return t?r?F0(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]):D0(e[0],e[1],e[2],e[3],e[4],e[5]):r?R0(e[0],e[1],e[2],e[3],e[4],e[5]):k0(e[0],e[1],e[2],e[3])}function $4(e){return e?Fb(e)?e:jb(e)?qb(e):zb(e)?L0(e):Ub(e)?j0(e):Lb(e)?Gb(e):null:null}function Gb(e){const{hasZ:t,hasM:r,points:s}=e;return jc(Fc(Lc,s,t??!1,r??!1),t,r)}function qb(e){const{x:t,y:r,z:s,m:n}=e,o=n!=null;return s!=null?o?F0(t,r,s,n,t,r,s,n):D0(t,r,s,t,r,s):o?R0(t,r,n,t,r,n):k0(t,r,t,r)}function L0(e){const{hasZ:t,hasM:r,rings:s}=e,n=Os(Lc,s,t??!1,r??!1);return n?jc(n,t,r):null}function j0(e){const{hasZ:t,hasM:r,paths:s}=e,n=Os(Lc,s,t??!1,r??!1);return n?jc(n,t,r):null}var Gi;function fd(e){return!Array.isArray(e[0])}let ot=Gi=class extends Qr{static fromExtent(e){const t=e.clone().normalize(),r=e.spatialReference;let s=!1,n=!1;for(const a of t)a.hasZ&&(s=!0),a.hasM&&(n=!0);const o={rings:t.map((a=>{const l=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(s&&a.hasZ){const c=a.zmin+.5*(a.zmax-a.zmin);for(let d=0;d<l.length;d++)l[d].push(c)}if(n&&a.hasM){const c=a.mmin+.5*(a.mmax-a.mmin);for(let d=0;d<l.length;d++)l[d].push(c)}return l})),spatialReference:r};return s&&(o.hasZ=!0),n&&(o.hasM=!0),new Gi(o)}constructor(...e){super(...e),this.rings=[],this.type="polygon"}normalizeCtorArgs(e,t){let r,s,n=null,o=null;return e&&!Array.isArray(e)?(n=e.rings??null,t||(e.spatialReference?t=e.spatialReference:e.rings||(t=e)),r=e.hasZ,s=e.hasM):n=e,n=n||[],t=t||fe.WGS84,n.length&&n[0]?.[0]!=null&&typeof n[0][0]=="number"&&(n=[n]),o=n[0]?.[0],o&&(r===void 0&&s===void 0?(r=o.length>2,s=o.length>3):r===void 0?r=s?o.length>3:o.length>2:s===void 0&&(s=r?o.length>3:o.length>2)),{rings:n,spatialReference:t,hasZ:r,hasM:s}}get cache(){return this.commitProperty("rings"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get centroid(){const e=Tb(this);if(!e||isNaN(e[0])||isNaN(e[1])||this.hasZ&&isNaN(e[2]))return null;const t=new le;return t.x=e[0],t.y=e[1],t.spatialReference=this.spatialReference,this.hasZ&&(t.z=e[2]),t}get extent(){const{spatialReference:e}=this,t=L0(this);if(!t)return null;const r=new yt(t);return r.spatialReference=e,r}get isSelfIntersecting(){return xw(this.rings)}writeRings(e,t){t.rings=T(this.rings)}addRing(e){if(!e)return;const t=this.rings,r=t.length;if(fd(e)){const s=[];for(let n=0,o=e.length;n<o;n++)s[n]=e[n].toArray();t[r]=s}else t[r]=e.concat();return this.notifyChange("rings"),this}clone(){const e=new Gi;return e.spatialReference=this.spatialReference,e.rings=T(this.rings),e.hasZ=this.hasZ,e.hasM=this.hasM,e}equals(e){if(this===e)return!0;if(e==null)return!1;const t=this.spatialReference,r=e.spatialReference;if(t!=null!=(r!=null)||t!=null&&r!=null&&!t.equals(r)||this.rings.length!==e.rings.length)return!1;const s=([n,o,a,l],[c,d,p,m])=>n===c&&o===d&&(a==null&&p==null||a===p)&&(l==null&&m==null||l===m);for(let n=0;n<this.rings.length;n++){const o=this.rings[n],a=e.rings[n];if(!Ho(o,a,s))return!1}return!0}contains(e){if(!e)return!1;const t=Bp(e,this.spatialReference);return pw(this,t??e)}isClockwise(e){let t;return t=fd(e)?e.map((r=>this.hasZ?this.hasM?[r.x,r.y,r.z,r.m]:[r.x,r.y,r.z]:[r.x,r.y])):e,x0(t)}getPoint(e,t){if(!this._validateInputs(e,t))return null;const r=this.rings[e][t],s=this.hasZ,n=this.hasM;return s&&!n?new le(r[0],r[1],r[2],void 0,this.spatialReference):n&&!s?new le(r[0],r[1],void 0,r[2],this.spatialReference):s&&n?new le(r[0],r[1],r[2],r[3],this.spatialReference):new le(r[0],r[1],this.spatialReference)}insertPoint(e,t,r){return this._validateInputs(e,t,!0)?(Ts(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[e].splice(t,0,r),this.notifyChange("rings"),this):this}removePoint(e,t){if(!this._validateInputs(e,t))return null;const r=new le(this.rings[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("rings"),r}removeRing(e){if(!this._validateInputs(e,null))return null;const t=this.rings.splice(e,1)[0],r=this.spatialReference,s=t.map((n=>new le(n,r)));return this.notifyChange("rings"),s}setPoint(e,t,r){return this._validateInputs(e,t)?(Ts(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[e][t]=r,this.notifyChange("rings"),this):this}_validateInputs(e,t,r=!1){if(e==null||e<0||e>=this.rings.length)return!1;if(t!=null){const s=this.rings[e];if(r&&(t<0||t>s.length)||!r&&(t<0||t>=s.length))return!1}return!0}toJSON(e){return this.write({},e)}};u([h({readOnly:!0})],ot.prototype,"cache",null),u([h({readOnly:!0})],ot.prototype,"centroid",null),u([h({readOnly:!0})],ot.prototype,"extent",null),u([h({readOnly:!0})],ot.prototype,"isSelfIntersecting",null),u([h({type:[[[Number]]],json:{write:{isRequired:!0}}})],ot.prototype,"rings",void 0),u([ee("rings")],ot.prototype,"writeRings",null),ot=Gi=u([v("esri.geometry.Polygon")],ot),ot.prototype.toJSON.isDefaultToJSON=!0;const Uc=ot;var Ul;function Vb(e){return!Array.isArray(e[0])}let Wt=Ul=class extends Qr{constructor(...e){super(...e),this.paths=[],this.type="polyline"}normalizeCtorArgs(e,t){let r,s,n=null,o=null;return e&&!Array.isArray(e)?(n=e.paths??null,t||(e.spatialReference?t=e.spatialReference:e.paths||(t=e)),r=e.hasZ,s=e.hasM):n=e,n=n||[],t=t||fe.WGS84,n.length&&n[0]?.[0]!=null&&typeof n[0][0]=="number"&&(n=[n]),o=n[0]?.[0],o&&(r===void 0&&s===void 0?(r=o.length>2,s=!1):r===void 0?r=!s&&o.length>3:s===void 0&&(s=!r&&o.length>3)),{paths:n,spatialReference:t,hasZ:r,hasM:s}}get cache(){return this.commitProperty("paths"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const{spatialReference:e}=this,t=j0(this);if(!t)return null;const r=new yt(t);return r.spatialReference=e,r}writePaths(e,t){t.paths=T(this.paths)}addPath(e){if(!e)return;const t=this.paths,r=t.length;if(Vb(e)){const s=[];for(let n=0,o=e.length;n<o;n++)s[n]=e[n].toArray();t[r]=s}else t[r]=e.concat();return this.notifyChange("paths"),this}clone(){const e=new Ul;return e.spatialReference=this.spatialReference,e.paths=T(this.paths),e.hasZ=this.hasZ,e.hasM=this.hasM,e}getPoint(e,t){if(!this._validateInputs(e,t))return null;const r=this.paths[e][t],s=this.hasZ,n=this.hasM;return s&&!n?new le(r[0],r[1],r[2],void 0,this.spatialReference):n&&!s?new le(r[0],r[1],void 0,r[2],this.spatialReference):s&&n?new le(r[0],r[1],r[2],r[3],this.spatialReference):new le(r[0],r[1],this.spatialReference)}insertPoint(e,t,r){return this._validateInputs(e,t,!0)?(Ts(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[e].splice(t,0,r),this.notifyChange("paths"),this):this}removePath(e){if(!this._validateInputs(e,null))return null;const t=this.paths.splice(e,1)[0],r=this.spatialReference,s=t.map((n=>new le(n,r)));return this.notifyChange("paths"),s}removePoint(e,t){if(!this._validateInputs(e,t))return null;const r=new le(this.paths[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("paths"),r}setPoint(e,t,r){return this._validateInputs(e,t)?(Ts(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[e][t]=r,this.notifyChange("paths"),this):this}_validateInputs(e,t,r=!1){if(e==null||e<0||e>=this.paths.length)return!1;if(t!=null){const s=this.paths[e];if(r&&(t<0||t>s.length)||!r&&(t<0||t>=s.length))return!1}return!0}toJSON(e){return this.write({},e)}};u([h({readOnly:!0})],Wt.prototype,"cache",null),u([h({readOnly:!0})],Wt.prototype,"extent",null),u([h({type:[[[Number]]],json:{write:{isRequired:!0}}})],Wt.prototype,"paths",void 0),u([ee("paths")],Wt.prototype,"writePaths",null),Wt=Ul=u([v("esri.geometry.Polyline")],Wt),Wt.prototype.toJSON.isDefaultToJSON=!0;const zc=Wt,_4=tt()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),S4=tt()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"});function U0(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function z0(e){return e.points!==void 0}function G0(e){return e.x!==void 0&&e.y!==void 0}function q0(e){return e.paths!==void 0}function V0(e){return e.rings!==void 0}function B0(e){return e==null?null:e instanceof Qr?e:G0(e)?le.fromJSON(e):q0(e)?zc.fromJSON(e):V0(e)?Uc.fromJSON(e):z0(e)?Rc.fromJSON(e):U0(e)?yt.fromJSON(e):null}function Bb(e){return e?G0(e)?"esriGeometryPoint":q0(e)?"esriGeometryPolyline":V0(e)?"esriGeometryPolygon":U0(e)?"esriGeometryEnvelope":z0(e)?"esriGeometryMultipoint":null:null}const Wb={esriGeometryPoint:le,esriGeometryPolyline:zc,esriGeometryPolygon:Uc,esriGeometryEnvelope:yt,esriGeometryMultipoint:Rc};function Hb(e){return e&&Wb[e]||null}const W0={base:Qr,key:"type",typeMap:{extent:yt,multipoint:Rc,point:le,polyline:zc,polygon:Uc}};Vr(W0);let H0=0;const Z0=e=>{let t=class extends e{constructor(...r){super(...r),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+H0++})}};return t=u([v("esri.core.Identifiable")],t),t},x4=e=>{let t=class extends e{constructor(...r){super(...r),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:H0++})}};return t=u([v("esri.core.NumericIdentifiable")],t),t};let pd=class extends Z0(class{}){};pd=u([v("esri.core.Identifiable")],pd);const Xr=e=>{let t=class extends e{clone(){const r=cr(this);$1(r,"unable to clone instance of non-accessor class");const s=r.metadatas,n=r.store,o={},a=new Map;for(const c in s){const d=s[c],p=n?.originOf(c),m=d.clonable;if(d.readOnly||m===!1||p!==C.USER&&p!==C.DEFAULTS&&p!==C.WEB_MAP&&p!==C.WEB_SCENE)continue;const y=this[c];let g=null;g=typeof m=="function"?m(y):m==="reference"?y:Qa(y),y!=null&&g==null||(p===C.DEFAULTS?a.set(c,g):o[c]=g)}const l=new(Object.getPrototypeOf(this)).constructor(o);if(a.size){const c=cr(l)?.store;if(c)for(const[d,p]of a)c.set(d,p,C.DEFAULTS)}return l}};return t=u([v("esri.core.Clonable")],t),t};let md=class extends Xr(Ae){};md=u([v("esri.core.Clonable")],md);function Zb(e,t,r={}){return Gc(e,t,r,J0)}function M4(e,t,r={}){return Gc(e,t,r,Y0)}function Gc(e,t,r={},s){let n=null;const o=r.once?(a,l)=>{s(a)&&(Ps(n),t(a,l))}:(a,l)=>{s(a)&&t(a,l)};if(n=$g(e,o,r.sync,r.equals),r.initial){const a=e();o(a,a)}return n}function Jb(e,t,r,s={}){let n=null,o=null,a=null;function l(){n&&o&&(o.remove(),s.onListenerRemove?.(n),n=null,o=null)}function c(p){s.once&&s.once&&Ps(a),r(p)}const d=Zb(e,((p,m)=>{l(),lc(p)&&(n=p,o=Ff(p,t,c),s.onListenerAdd?.(p))}),{sync:s.sync,initial:!0});return a=de((()=>{d.remove(),l()})),a}function E4(e,t){return Yb(e,Y0,t)}function Yb(e,t,r){if(Gr(r))return Promise.reject(Ee());const s=e();if(t?.(s))return Promise.resolve(s);let n=null;function o(){n=Ps(n)}return new Promise(((a,l)=>{n=oc([vs(r,(()=>{o(),l(Ee())})),Gc(e,(c=>{o(),a(c)}),{sync:!1,once:!0},t??J0)])}))}function J0(e){return!0}function Y0(e){return!!e}const Kb={sync:!0},A4={initial:!0},P4={sync:!0,initial:!0},yd=new Map([["AUS Central Standard Time","Australia/Darwin"],["AUS Eastern Standard Time","Australia/Sydney"],["Afghanistan Standard Time","Asia/Kabul"],["Alaskan Standard Time","America/Anchorage"],["Aleutian Standard Time","America/Adak"],["Altai Standard Time","Asia/Barnaul"],["Arab Standard Time","Asia/Riyadh"],["Arabian Standard Time","Asia/Dubai"],["Arabic Standard Time","Asia/Baghdad"],["Argentina Standard Time","America/Buenos_Aires"],["Astrakhan Standard Time","Europe/Astrakhan"],["Atlantic Standard Time","America/Halifax"],["Aus Central W. Standard Time","Australia/Eucla"],["Azerbaijan Standard Time","Asia/Baku"],["Azores Standard Time","Atlantic/Azores"],["Bahia Standard Time","America/Bahia"],["Bangladesh Standard Time","Asia/Dhaka"],["Belarus Standard Time","Europe/Minsk"],["Bougainville Standard Time","Pacific/Bougainville"],["Canada Central Standard Time","America/Regina"],["Cape Verde Standard Time","Atlantic/Cape_Verde"],["Caucasus Standard Time","Asia/Yerevan"],["Cen. Australia Standard Time","Australia/Adelaide"],["Central America Standard Time","America/Guatemala"],["Central Asia Standard Time","Asia/Almaty"],["Central Brazilian Standard Time","America/Cuiaba"],["Central Europe Standard Time","Europe/Budapest"],["Central European Standard Time","Europe/Warsaw"],["Central Pacific Standard Time","Pacific/Guadalcanal"],["Central Standard Time","America/Chicago"],["Central Standard Time (Mexico)","America/Mexico_City"],["Chatham Islands Standard Time","Pacific/Chatham"],["China Standard Time","Asia/Shanghai"],["Cuba Standard Time","America/Havana"],["Dateline Standard Time","Etc/GMT+12"],["E. Africa Standard Time","Africa/Nairobi"],["E. Australia Standard Time","Australia/Brisbane"],["E. Europe Standard Time","Europe/Chisinau"],["E. South America Standard Time","America/Sao_Paulo"],["Easter Island Standard Time","Pacific/Easter"],["Eastern Standard Time","America/New_York"],["Eastern Standard Time (Mexico)","America/Cancun"],["Egypt Standard Time","Africa/Cairo"],["Ekaterinburg Standard Time","Asia/Yekaterinburg"],["FLE Standard Time","Europe/Kiev"],["Fiji Standard Time","Pacific/Fiji"],["GMT Standard Time","Europe/London"],["GTB Standard Time","Europe/Bucharest"],["Georgian Standard Time","Asia/Tbilisi"],["Greenland Standard Time","America/Godthab"],["Greenwich Standard Time","Atlantic/Reykjavik"],["Haiti Standard Time","America/Port-au-Prince"],["Hawaiian Standard Time","Pacific/Honolulu"],["India Standard Time","Asia/Calcutta"],["Iran Standard Time","Asia/Tehran"],["Israel Standard Time","Asia/Jerusalem"],["Jordan Standard Time","Asia/Amman"],["Kaliningrad Standard Time","Europe/Kaliningrad"],["Korea Standard Time","Asia/Seoul"],["Libya Standard Time","Africa/Tripoli"],["Line Islands Standard Time","Pacific/Kiritimati"],["Lord Howe Standard Time","Australia/Lord_Howe"],["Magadan Standard Time","Asia/Magadan"],["Magallanes Standard Time","America/Punta_Arenas"],["Marquesas Standard Time","Pacific/Marquesas"],["Mauritius Standard Time","Indian/Mauritius"],["Middle East Standard Time","Asia/Beirut"],["Montevideo Standard Time","America/Montevideo"],["Morocco Standard Time","Africa/Casablanca"],["Mountain Standard Time","America/Denver"],["Mountain Standard Time (Mexico)","America/Mazatlan"],["Myanmar Standard Time","Asia/Rangoon"],["N. Central Asia Standard Time","Asia/Novosibirsk"],["Namibia Standard Time","Africa/Windhoek"],["Nepal Standard Time","Asia/Katmandu"],["New Zealand Standard Time","Pacific/Auckland"],["Newfoundland Standard Time","America/St_Johns"],["Norfolk Standard Time","Pacific/Norfolk"],["North Asia East Standard Time","Asia/Irkutsk"],["North Asia Standard Time","Asia/Krasnoyarsk"],["North Korea Standard Time","Asia/Pyongyang"],["Omsk Standard Time","Asia/Omsk"],["Pacific SA Standard Time","America/Santiago"],["Pacific Standard Time","America/Los_Angeles"],["Pacific Standard Time (Mexico)","America/Tijuana"],["Pakistan Standard Time","Asia/Karachi"],["Paraguay Standard Time","America/Asuncion"],["Qyzylorda Standard Time","Asia/Qyzylorda"],["Romance Standard Time","Europe/Paris"],["Russia Time Zone 10","Asia/Srednekolymsk"],["Russia Time Zone 11","Asia/Kamchatka"],["Russia Time Zone 3","Europe/Samara"],["Russian Standard Time","Europe/Moscow"],["SA Eastern Standard Time","America/Cayenne"],["SA Pacific Standard Time","America/Bogota"],["SA Western Standard Time","America/La_Paz"],["SE Asia Standard Time","Asia/Bangkok"],["Saint Pierre Standard Time","America/Miquelon"],["Sakhalin Standard Time","Asia/Sakhalin"],["Samoa Standard Time","Pacific/Apia"],["Sao Tome Standard Time","Africa/Sao_Tome"],["Saratov Standard Time","Europe/Saratov"],["Singapore Standard Time","Asia/Singapore"],["South Africa Standard Time","Africa/Johannesburg"],["South Sudan Standard Time","Africa/Juba"],["Sri Lanka Standard Time","Asia/Colombo"],["Sudan Standard Time","Africa/Khartoum"],["Syria Standard Time","Asia/Damascus"],["Taipei Standard Time","Asia/Taipei"],["Tasmania Standard Time","Australia/Hobart"],["Tocantins Standard Time","America/Araguaina"],["Tokyo Standard Time","Asia/Tokyo"],["Tomsk Standard Time","Asia/Tomsk"],["Tonga Standard Time","Pacific/Tongatapu"],["Transbaikal Standard Time","Asia/Chita"],["Turkey Standard Time","Europe/Istanbul"],["Turks And Caicos Standard Time","America/Grand_Turk"],["US Eastern Standard Time","America/Indianapolis"],["US Mountain Standard Time","America/Phoenix"],["UTC","Etc/GMT"],["UTC+01","Etc/GMT-1"],["UTC+02","Etc/GMT-2"],["UTC+03","Etc/GMT-3"],["UTC+04","Etc/GMT-4"],["UTC+05","Etc/GMT-5"],["UTC+06","Etc/GMT-6"],["UTC+07","Etc/GMT-7"],["UTC+08","Etc/GMT-8"],["UTC+09","Etc/GMT-9"],["UTC+10","Etc/GMT-10"],["UTC+11","Etc/GMT-11"],["UTC+12","Etc/GMT-12"],["UTC+13","Etc/GMT-13"],["UTC+14","Etc/GMT-14"],["UTC-01","Etc/GMT+1"],["UTC-02","Etc/GMT+2"],["UTC-03","Etc/GMT+3"],["UTC-04","Etc/GMT+4"],["UTC-05","Etc/GMT+5"],["UTC-06","Etc/GMT+6"],["UTC-07","Etc/GMT+7"],["UTC-08","Etc/GMT+8"],["UTC-09","Etc/GMT+9"],["UTC-10","Etc/GMT+10"],["UTC-11","Etc/GMT+11"],["UTC-12","Etc/GMT+12"],["Ulaanbaatar Standard Time","Asia/Ulaanbaatar"],["Venezuela Standard Time","America/Caracas"],["Vladivostok Standard Time","Asia/Vladivostok"],["Volgograd Standard Time","Europe/Volgograd"],["W. Australia Standard Time","Australia/Perth"],["W. Central Africa Standard Time","Africa/Lagos"],["W. Europe Standard Time","Europe/Berlin"],["W. Mongolia Standard Time","Asia/Hovd"],["West Asia Standard Time","Asia/Tashkent"],["West Bank Standard Time","Asia/Hebron"],["West Pacific Standard Time","Pacific/Port_Moresby"],["Yakutsk Standard Time","Asia/Yakutsk"],["Yukon Standard Time","America/Whitehorse"]]);class es extends Error{}class Qb extends es{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}}class Xb extends es{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}}class e$ extends es{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}}class Xs extends es{}class K0 extends es{constructor(t){super(`Invalid unit ${t}`)}}class Fe extends es{}class zt extends es{constructor(){super("Zone is an abstract class")}}const O="numeric",et="short",Me="long",Do={year:O,month:O,day:O},Q0={year:O,month:et,day:O},t$={year:O,month:et,day:O,weekday:et},X0={year:O,month:Me,day:O},em={year:O,month:Me,day:O,weekday:Me},tm={hour:O,minute:O},rm={hour:O,minute:O,second:O},sm={hour:O,minute:O,second:O,timeZoneName:et},nm={hour:O,minute:O,second:O,timeZoneName:Me},im={hour:O,minute:O,hourCycle:"h23"},om={hour:O,minute:O,second:O,hourCycle:"h23"},am={hour:O,minute:O,second:O,hourCycle:"h23",timeZoneName:et},lm={hour:O,minute:O,second:O,hourCycle:"h23",timeZoneName:Me},um={year:O,month:O,day:O,hour:O,minute:O},cm={year:O,month:O,day:O,hour:O,minute:O,second:O},hm={year:O,month:et,day:O,hour:O,minute:O},dm={year:O,month:et,day:O,hour:O,minute:O,second:O},r$={year:O,month:et,day:O,weekday:et,hour:O,minute:O},fm={year:O,month:Me,day:O,hour:O,minute:O,timeZoneName:et},pm={year:O,month:Me,day:O,hour:O,minute:O,second:O,timeZoneName:et},mm={year:O,month:Me,day:O,weekday:Me,hour:O,minute:O,timeZoneName:Me},ym={year:O,month:Me,day:O,weekday:Me,hour:O,minute:O,second:O,timeZoneName:Me};class ti{get type(){throw new zt}get name(){throw new zt}get ianaName(){return this.name}get isUniversal(){throw new zt}offsetName(t,r){throw new zt}formatOffset(t,r){throw new zt}offset(t){throw new zt}equals(t){throw new zt}get isValid(){throw new zt}}let La=null;class aa extends ti{static get instance(){return La===null&&(La=new aa),La}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:r,locale:s}){return wm(t,r,s)}formatOffset(t,r){return En(this.offset(t),r)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return t.type==="system"}get isValid(){return!0}}let qi={};function s$(e){return qi[e]||(qi[e]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),qi[e]}const n$={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function i$(e,t){const r=e.format(t).replace(/\u200E/g,""),s=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r),[,n,o,a,l,c,d,p]=s;return[a,n,o,l,c,d,p]}function o$(e,t){const r=e.formatToParts(t),s=[];for(let n=0;n<r.length;n++){const{type:o,value:a}=r[n],l=n$[o];o==="era"?s[l]=a:I(l)||(s[l]=parseInt(a,10))}return s}let Ti={};class kt extends ti{static create(t){return Ti[t]||(Ti[t]=new kt(t)),Ti[t]}static resetCache(){Ti={},qi={}}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch{return!1}}constructor(t){super(),this.zoneName=t,this.valid=kt.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:r,locale:s}){return wm(t,r,s,this.name)}formatOffset(t,r){return En(this.offset(t),r)}offset(t){const r=new Date(t);if(isNaN(r))return NaN;const s=s$(this.name);let[n,o,a,l,c,d,p]=s.formatToParts?o$(s,r):i$(s,r);l==="BC"&&(n=-Math.abs(n)+1);const y=ua({year:n,month:o,day:a,hour:c===24?0:c,minute:d,second:p,millisecond:0});let g=+r;const b=g%1e3;return g-=b>=0?b:1e3+b,(y-g)/(60*1e3)}equals(t){return t.type==="iana"&&t.name===this.name}get isValid(){return this.valid}}let gd={};function a$(e,t={}){const r=JSON.stringify([e,t]);let s=gd[r];return s||(s=new Intl.ListFormat(e,t),gd[r]=s),s}let zl={};function Gl(e,t={}){const r=JSON.stringify([e,t]);let s=zl[r];return s||(s=new Intl.DateTimeFormat(e,t),zl[r]=s),s}let ql={};function l$(e,t={}){const r=JSON.stringify([e,t]);let s=ql[r];return s||(s=new Intl.NumberFormat(e,t),ql[r]=s),s}let Vl={};function u$(e,t={}){const{base:r,...s}=t,n=JSON.stringify([e,s]);let o=Vl[n];return o||(o=new Intl.RelativeTimeFormat(e,t),Vl[n]=o),o}let en=null;function c$(){return en||(en=new Intl.DateTimeFormat().resolvedOptions().locale,en)}function h$(e){const t=e.indexOf("-x-");t!==-1&&(e=e.substring(0,t));const r=e.indexOf("-u-");if(r===-1)return[e];{let s,n;try{s=Gl(e).resolvedOptions(),n=e}catch{const c=e.substring(0,r);s=Gl(c).resolvedOptions(),n=c}const{numberingSystem:o,calendar:a}=s;return[n,o,a]}}function d$(e,t,r){return(r||t)&&(e.includes("-u-")||(e+="-u"),r&&(e+=`-ca-${r}`),t&&(e+=`-nu-${t}`)),e}function f$(e){const t=[];for(let r=1;r<=12;r++){const s=E.utc(2009,r,1);t.push(e(s))}return t}function p$(e){const t=[];for(let r=1;r<=7;r++){const s=E.utc(2016,11,13+r);t.push(e(s))}return t}function Oi(e,t,r,s){const n=e.listingMode();return n==="error"?null:n==="en"?r(t):s(t)}function m$(e){return e.numberingSystem&&e.numberingSystem!=="latn"?!1:e.numberingSystem==="latn"||!e.locale||e.locale.startsWith("en")||new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem==="latn"}class y${constructor(t,r,s){this.padTo=s.padTo||0,this.floor=s.floor||!1;const{padTo:n,floor:o,...a}=s;if(!r||Object.keys(a).length>0){const l={useGrouping:!1,...s};s.padTo>0&&(l.minimumIntegerDigits=s.padTo),this.inf=l$(t,l)}}format(t){if(this.inf){const r=this.floor?Math.floor(t):t;return this.inf.format(r)}else{const r=this.floor?Math.floor(t):Vc(t,3);return ne(r,this.padTo)}}}class g${constructor(t,r,s){this.opts=s,this.originalZone=void 0;let n;if(this.opts.timeZone)this.dt=t;else if(t.zone.type==="fixed"){const a=-1*(t.offset/60),l=a>=0?`Etc/GMT+${a}`:`Etc/GMT${a}`;t.offset!==0&&kt.create(l).valid?(n=l,this.dt=t):(n="UTC",this.dt=t.offset===0?t:t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone)}else t.zone.type==="system"?this.dt=t:t.zone.type==="iana"?(this.dt=t,n=t.zone.name):(n="UTC",this.dt=t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone);const o={...this.opts};o.timeZone=o.timeZone||n,this.dtf=Gl(r,o)}format(){return this.originalZone?this.formatToParts().map(({value:t})=>t).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const t=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?t.map(r=>{if(r.type==="timeZoneName"){const s=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...r,value:s}}else return r}):t}resolvedOptions(){return this.dtf.resolvedOptions()}}class w${constructor(t,r,s){this.opts={style:"long",...s},!r&&gm()&&(this.rtf=u$(t,s))}format(t,r){return this.rtf?this.rtf.format(t,r):D$(r,t,this.opts.numeric,this.opts.style!=="long")}formatToParts(t,r){return this.rtf?this.rtf.formatToParts(t,r):[]}}class J{static fromOpts(t){return J.create(t.locale,t.numberingSystem,t.outputCalendar,t.defaultToEN)}static create(t,r,s,n=!1){const o=t||se.defaultLocale,a=o||(n?"en-US":c$()),l=r||se.defaultNumberingSystem,c=s||se.defaultOutputCalendar;return new J(a,l,c,o)}static resetCache(){en=null,zl={},ql={},Vl={}}static fromObject({locale:t,numberingSystem:r,outputCalendar:s}={}){return J.create(t,r,s)}constructor(t,r,s,n){const[o,a,l]=h$(t);this.locale=o,this.numberingSystem=r||a||null,this.outputCalendar=s||l||null,this.intl=d$(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=n,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=m$(this)),this.fastNumbersCached}listingMode(){const t=this.isEnglish(),r=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return t&&r?"en":"intl"}clone(t){return!t||Object.getOwnPropertyNames(t).length===0?this:J.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,t.defaultToEN||!1)}redefaultToEN(t={}){return this.clone({...t,defaultToEN:!0})}redefaultToSystem(t={}){return this.clone({...t,defaultToEN:!1})}months(t,r=!1){return Oi(this,t,$m,()=>{const s=r?{month:t,day:"numeric"}:{month:t},n=r?"format":"standalone";return this.monthsCache[n][t]||(this.monthsCache[n][t]=f$(o=>this.extract(o,s,"month"))),this.monthsCache[n][t]})}weekdays(t,r=!1){return Oi(this,t,xm,()=>{const s=r?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},n=r?"format":"standalone";return this.weekdaysCache[n][t]||(this.weekdaysCache[n][t]=p$(o=>this.extract(o,s,"weekday"))),this.weekdaysCache[n][t]})}meridiems(){return Oi(this,void 0,()=>Tm,()=>{if(!this.meridiemCache){const t={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[E.utc(2016,11,13,9),E.utc(2016,11,13,19)].map(r=>this.extract(r,t,"dayperiod"))}return this.meridiemCache})}eras(t){return Oi(this,t,Om,()=>{const r={era:t};return this.eraCache[t]||(this.eraCache[t]=[E.utc(-40,1,1),E.utc(2017,1,1)].map(s=>this.extract(s,r,"era"))),this.eraCache[t]})}extract(t,r,s){const n=this.dtFormatter(t,r),o=n.formatToParts(),a=o.find(l=>l.type.toLowerCase()===s);return a?a.value:null}numberFormatter(t={}){return new y$(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,r={}){return new g$(t,this.intl,r)}relFormatter(t={}){return new w$(this.intl,this.isEnglish(),t)}listFormatter(t={}){return a$(this.intl,t)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}}let ja=null;class ve extends ti{static get utcInstance(){return ja===null&&(ja=new ve(0)),ja}static instance(t){return t===0?ve.utcInstance:new ve(t)}static parseSpecifier(t){if(t){const r=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(r)return new ve(ca(r[1],r[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${En(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${En(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,r){return En(this.fixed,r)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return t.type==="fixed"&&t.fixed===this.fixed}get isValid(){return!0}}class v$ extends ti{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function ir(e,t){if(I(e)||e===null)return t;if(e instanceof ti)return e;if(b$(e)){const r=e.toLowerCase();return r==="default"?t:r==="local"||r==="system"?aa.instance:r==="utc"||r==="gmt"?ve.utcInstance:ve.parseSpecifier(r)||kt.create(e)}else return Ur(e)?ve.instance(e):typeof e=="object"&&"offset"in e&&typeof e.offset=="function"?e:new v$(e)}let wd=()=>Date.now(),vd="system",bd=null,$d=null,_d=null,Sd=60,xd;class se{static get now(){return wd}static set now(t){wd=t}static set defaultZone(t){vd=t}static get defaultZone(){return ir(vd,aa.instance)}static get defaultLocale(){return bd}static set defaultLocale(t){bd=t}static get defaultNumberingSystem(){return $d}static set defaultNumberingSystem(t){$d=t}static get defaultOutputCalendar(){return _d}static set defaultOutputCalendar(t){_d=t}static get twoDigitCutoffYear(){return Sd}static set twoDigitCutoffYear(t){Sd=t%100}static get throwOnInvalid(){return xd}static set throwOnInvalid(t){xd=t}static resetCaches(){J.resetCache(),kt.resetCache()}}function I(e){return typeof e>"u"}function Ur(e){return typeof e=="number"}function la(e){return typeof e=="number"&&e%1===0}function b$(e){return typeof e=="string"}function $$(e){return Object.prototype.toString.call(e)==="[object Date]"}function gm(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function _$(e){return Array.isArray(e)?e:[e]}function Td(e,t,r){if(e.length!==0)return e.reduce((s,n)=>{const o=[t(n),n];return s&&r(s[0],o[0])===s[0]?s:o},null)[1]}function S$(e,t){return t.reduce((r,s)=>(r[s]=e[s],r),{})}function Ms(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function At(e,t,r){return la(e)&&e>=t&&e<=r}function x$(e,t){return e-t*Math.floor(e/t)}function ne(e,t=2){const r=e<0;let s;return r?s="-"+(""+-e).padStart(t,"0"):s=(""+e).padStart(t,"0"),s}function rr(e){if(!(I(e)||e===null||e===""))return parseInt(e,10)}function yr(e){if(!(I(e)||e===null||e===""))return parseFloat(e)}function qc(e){if(!(I(e)||e===null||e==="")){const t=parseFloat("0."+e)*1e3;return Math.floor(t)}}function Vc(e,t,r=!1){const s=10**t;return(r?Math.trunc:Math.round)(e*s)/s}function ri(e){return e%4===0&&(e%100!==0||e%400===0)}function Mn(e){return ri(e)?366:365}function Ro(e,t){const r=x$(t-1,12)+1,s=e+(t-r)/12;return r===2?ri(s)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function ua(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(e.year,e.month-1,e.day)),+t}function Fo(e){const t=(e+Math.floor(e/4)-Math.floor(e/100)+Math.floor(e/400))%7,r=e-1,s=(r+Math.floor(r/4)-Math.floor(r/100)+Math.floor(r/400))%7;return t===4||s===3?53:52}function Bl(e){return e>99?e:e>se.twoDigitCutoffYear?1900+e:2e3+e}function wm(e,t,r,s=null){const n=new Date(e),o={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};s&&(o.timeZone=s);const a={timeZoneName:t,...o},l=new Intl.DateTimeFormat(r,a).formatToParts(n).find(c=>c.type.toLowerCase()==="timezonename");return l?l.value:null}function ca(e,t){let r=parseInt(e,10);Number.isNaN(r)&&(r=0);const s=parseInt(t,10)||0,n=r<0||Object.is(r,-0)?-s:s;return r*60+n}function vm(e){const t=Number(e);if(typeof e=="boolean"||e===""||Number.isNaN(t))throw new Fe(`Invalid unit value ${e}`);return t}function Lo(e,t){const r={};for(const s in e)if(Ms(e,s)){const n=e[s];if(n==null)continue;r[t(s)]=vm(n)}return r}function En(e,t){const r=Math.trunc(Math.abs(e/60)),s=Math.trunc(Math.abs(e%60)),n=e>=0?"+":"-";switch(t){case"short":return`${n}${ne(r,2)}:${ne(s,2)}`;case"narrow":return`${n}${r}${s>0?`:${s}`:""}`;case"techie":return`${n}${ne(r,2)}${ne(s,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function ha(e){return S$(e,["hour","minute","second","millisecond"])}const T$=["January","February","March","April","May","June","July","August","September","October","November","December"],bm=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],O$=["J","F","M","A","M","J","J","A","S","O","N","D"];function $m(e){switch(e){case"narrow":return[...O$];case"short":return[...bm];case"long":return[...T$];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const _m=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Sm=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],M$=["M","T","W","T","F","S","S"];function xm(e){switch(e){case"narrow":return[...M$];case"short":return[...Sm];case"long":return[..._m];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const Tm=["AM","PM"],E$=["Before Christ","Anno Domini"],A$=["BC","AD"],P$=["B","A"];function Om(e){switch(e){case"narrow":return[...P$];case"short":return[...A$];case"long":return[...E$];default:return null}}function N$(e){return Tm[e.hour<12?0:1]}function I$(e,t){return xm(t)[e.weekday-1]}function C$(e,t){return $m(t)[e.month-1]}function k$(e,t){return Om(t)[e.year<0?0:1]}function D$(e,t,r="always",s=!1){const n={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},o=["hours","minutes","seconds"].indexOf(e)===-1;if(r==="auto"&&o){const m=e==="days";switch(t){case 1:return m?"tomorrow":`next ${n[e][0]}`;case-1:return m?"yesterday":`last ${n[e][0]}`;case 0:return m?"today":`this ${n[e][0]}`}}const a=Object.is(t,-0)||t<0,l=Math.abs(t),c=l===1,d=n[e],p=s?c?d[1]:d[2]||d[1]:c?n[e][0]:e;return a?`${l} ${p} ago`:`in ${l} ${p}`}function Od(e,t){let r="";for(const s of e)s.literal?r+=s.val:r+=t(s.val);return r}const R$={D:Do,DD:Q0,DDD:X0,DDDD:em,t:tm,tt:rm,ttt:sm,tttt:nm,T:im,TT:om,TTT:am,TTTT:lm,f:um,ff:hm,fff:fm,ffff:mm,F:cm,FF:dm,FFF:pm,FFFF:ym};class ge{static create(t,r={}){return new ge(t,r)}static parseFormat(t){let r=null,s="",n=!1;const o=[];for(let a=0;a<t.length;a++){const l=t.charAt(a);l==="'"?(s.length>0&&o.push({literal:n||/^\s+$/.test(s),val:s}),r=null,s="",n=!n):n||l===r?s+=l:(s.length>0&&o.push({literal:/^\s+$/.test(s),val:s}),s=l,r=l)}return s.length>0&&o.push({literal:n||/^\s+$/.test(s),val:s}),o}static macroTokenToFormatOpts(t){return R$[t]}constructor(t,r){this.opts=r,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,r){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,{...this.opts,...r}).format()}dtFormatter(t,r={}){return this.loc.dtFormatter(t,{...this.opts,...r})}formatDateTime(t,r){return this.dtFormatter(t,r).format()}formatDateTimeParts(t,r){return this.dtFormatter(t,r).formatToParts()}formatInterval(t,r){return this.dtFormatter(t.start,r).dtf.formatRange(t.start.toJSDate(),t.end.toJSDate())}resolvedOptions(t,r){return this.dtFormatter(t,r).resolvedOptions()}num(t,r=0){if(this.opts.forceSimple)return ne(t,r);const s={...this.opts};return r>0&&(s.padTo=r),this.loc.numberFormatter(s).format(t)}formatDateTimeFromString(t,r){const s=this.loc.listingMode()==="en",n=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",o=(g,b)=>this.loc.extract(t,g,b),a=g=>t.isOffsetFixed&&t.offset===0&&g.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,g.format):"",l=()=>s?N$(t):o({hour:"numeric",hourCycle:"h12"},"dayperiod"),c=(g,b)=>s?C$(t,g):o(b?{month:g}:{month:g,day:"numeric"},"month"),d=(g,b)=>s?I$(t,g):o(b?{weekday:g}:{weekday:g,month:"long",day:"numeric"},"weekday"),p=g=>{const b=ge.macroTokenToFormatOpts(g);return b?this.formatWithSystemDefault(t,b):g},m=g=>s?k$(t,g):o({era:g},"era"),y=g=>{switch(g){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12===0?12:t.hour%12);case"hh":return this.num(t.hour%12===0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return a({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return a({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return a({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return l();case"d":return n?o({day:"numeric"},"day"):this.num(t.day);case"dd":return n?o({day:"2-digit"},"day"):this.num(t.day,2);case"c":return this.num(t.weekday);case"ccc":return d("short",!0);case"cccc":return d("long",!0);case"ccccc":return d("narrow",!0);case"E":return this.num(t.weekday);case"EEE":return d("short",!1);case"EEEE":return d("long",!1);case"EEEEE":return d("narrow",!1);case"L":return n?o({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return n?o({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return c("short",!0);case"LLLL":return c("long",!0);case"LLLLL":return c("narrow",!0);case"M":return n?o({month:"numeric"},"month"):this.num(t.month);case"MM":return n?o({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return c("short",!1);case"MMMM":return c("long",!1);case"MMMMM":return c("narrow",!1);case"y":return n?o({year:"numeric"},"year"):this.num(t.year);case"yy":return n?o({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return n?o({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return n?o({year:"numeric"},"year"):this.num(t.year,6);case"G":return m("short");case"GG":return m("long");case"GGGGG":return m("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return p(g)}};return Od(ge.parseFormat(r),y)}formatDurationFromString(t,r){const s=c=>{switch(c[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},n=c=>d=>{const p=s(d);return p?this.num(c.get(p),d.length):d},o=ge.parseFormat(r),a=o.reduce((c,{literal:d,val:p})=>d?c:c.concat(p),[]),l=t.shiftTo(...a.map(s).filter(c=>c));return Od(o,n(l))}}class Ze{constructor(t,r){this.reason=t,this.explanation=r}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const Mm=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Cs(...e){const t=e.reduce((r,s)=>r+s.source,"");return RegExp(`^${t}$`)}function ks(...e){return t=>e.reduce(([r,s,n],o)=>{const[a,l,c]=o(t,n);return[{...r,...a},l||s,c]},[{},null,1]).slice(0,2)}function Ds(e,...t){if(e==null)return[null,null];for(const[r,s]of t){const n=r.exec(e);if(n)return s(n)}return[null,null]}function Em(...e){return(t,r)=>{const s={};let n;for(n=0;n<e.length;n++)s[e[n]]=rr(t[r+n]);return[s,null,r+n]}}const Am=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,F$=`(?:${Am.source}?(?:\\[(${Mm.source})\\])?)?`,Bc=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Pm=RegExp(`${Bc.source}${F$}`),Wc=RegExp(`(?:T${Pm.source})?`),L$=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,j$=/(\d{4})-?W(\d\d)(?:-?(\d))?/,U$=/(\d{4})-?(\d{3})/,z$=Em("weekYear","weekNumber","weekDay"),G$=Em("year","ordinal"),q$=/(\d{4})-(\d\d)-(\d\d)/,Nm=RegExp(`${Bc.source} ?(?:${Am.source}|(${Mm.source}))?`),V$=RegExp(`(?: ${Nm.source})?`);function ws(e,t,r){const s=e[t];return I(s)?r:rr(s)}function B$(e,t){return[{year:ws(e,t),month:ws(e,t+1,1),day:ws(e,t+2,1)},null,t+3]}function Rs(e,t){return[{hours:ws(e,t,0),minutes:ws(e,t+1,0),seconds:ws(e,t+2,0),milliseconds:qc(e[t+3])},null,t+4]}function si(e,t){const r=!e[t]&&!e[t+1],s=ca(e[t+1],e[t+2]),n=r?null:ve.instance(s);return[{},n,t+3]}function ni(e,t){const r=e[t]?kt.create(e[t]):null;return[{},r,t+1]}const W$=RegExp(`^T?${Bc.source}$`),H$=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Z$(e){const[t,r,s,n,o,a,l,c,d]=e,p=t[0]==="-",m=c&&c[0]==="-",y=(g,b=!1)=>g!==void 0&&(b||g&&p)?-g:g;return[{years:y(yr(r)),months:y(yr(s)),weeks:y(yr(n)),days:y(yr(o)),hours:y(yr(a)),minutes:y(yr(l)),seconds:y(yr(c),c==="-0"),milliseconds:y(qc(d),m)}]}const J$={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Hc(e,t,r,s,n,o,a){const l={year:t.length===2?Bl(rr(t)):rr(t),month:bm.indexOf(r)+1,day:rr(s),hour:rr(n),minute:rr(o)};return a&&(l.second=rr(a)),e&&(l.weekday=e.length>3?_m.indexOf(e)+1:Sm.indexOf(e)+1),l}const Y$=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function K$(e){const[,t,r,s,n,o,a,l,c,d,p,m]=e,y=Hc(t,n,s,r,o,a,l);let g;return c?g=J$[c]:d?g=0:g=ca(p,m),[y,new ve(g)]}function Q$(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const X$=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,e_=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,t_=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Md(e){const[,t,r,s,n,o,a,l]=e;return[Hc(t,n,s,r,o,a,l),ve.utcInstance]}function r_(e){const[,t,r,s,n,o,a,l]=e;return[Hc(t,l,r,s,n,o,a),ve.utcInstance]}const s_=Cs(L$,Wc),n_=Cs(j$,Wc),i_=Cs(U$,Wc),o_=Cs(Pm),Im=ks(B$,Rs,si,ni),a_=ks(z$,Rs,si,ni),l_=ks(G$,Rs,si,ni),u_=ks(Rs,si,ni);function c_(e){return Ds(e,[s_,Im],[n_,a_],[i_,l_],[o_,u_])}function h_(e){return Ds(Q$(e),[Y$,K$])}function d_(e){return Ds(e,[X$,Md],[e_,Md],[t_,r_])}function f_(e){return Ds(e,[H$,Z$])}const p_=ks(Rs);function m_(e){return Ds(e,[W$,p_])}const y_=Cs(q$,V$),g_=Cs(Nm),w_=ks(Rs,si,ni);function v_(e){return Ds(e,[y_,Im],[g_,w_])}const Ed="Invalid Duration",Cm={weeks:{days:7,hours:168,minutes:10080,seconds:10080*60,milliseconds:10080*60*1e3},days:{hours:24,minutes:1440,seconds:1440*60,milliseconds:1440*60*1e3},hours:{minutes:60,seconds:3600,milliseconds:3600*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},b_={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:2184*60,seconds:2184*60*60,milliseconds:2184*60*60*1e3},months:{weeks:4,days:30,hours:720,minutes:720*60,seconds:720*60*60,milliseconds:720*60*60*1e3},...Cm},Ie=146097/400,ts=146097/4800,$_={years:{quarters:4,months:12,weeks:Ie/7,days:Ie,hours:Ie*24,minutes:Ie*24*60,seconds:Ie*24*60*60,milliseconds:Ie*24*60*60*1e3},quarters:{months:3,weeks:Ie/28,days:Ie/4,hours:Ie*24/4,minutes:Ie*24*60/4,seconds:Ie*24*60*60/4,milliseconds:Ie*24*60*60*1e3/4},months:{weeks:ts/7,days:ts,hours:ts*24,minutes:ts*24*60,seconds:ts*24*60*60,milliseconds:ts*24*60*60*1e3},...Cm},Fr=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],__=Fr.slice(0).reverse();function Gt(e,t,r=!1){const s={values:r?t.values:{...e.values,...t.values||{}},loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new R(s)}function km(e,t){let r=t.milliseconds??0;for(const s of __.slice(1))t[s]&&(r+=t[s]*e[s].milliseconds);return r}function Ad(e,t){const r=km(e,t)<0?-1:1;Fr.reduceRight((s,n)=>{if(I(t[n]))return s;if(s){const o=t[s]*r,a=e[n][s],l=Math.floor(o/a);t[n]+=l*r,t[s]-=l*a*r}return n},null),Fr.reduce((s,n)=>{if(I(t[n]))return s;if(s){const o=t[s]%1;t[s]-=o,t[n]+=o*e[s][n]}return n},null)}function S_(e){const t={};for(const[r,s]of Object.entries(e))s!==0&&(t[r]=s);return t}class R{constructor(t){const r=t.conversionAccuracy==="longterm"||!1;let s=r?$_:b_;t.matrix&&(s=t.matrix),this.values=t.values,this.loc=t.loc||J.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=s,this.isLuxonDuration=!0}static fromMillis(t,r){return R.fromObject({milliseconds:t},r)}static fromObject(t,r={}){if(t==null||typeof t!="object")throw new Fe(`Duration.fromObject: argument expected to be an object, got ${t===null?"null":typeof t}`);return new R({values:Lo(t,R.normalizeUnit),loc:J.fromObject(r),conversionAccuracy:r.conversionAccuracy,matrix:r.matrix})}static fromDurationLike(t){if(Ur(t))return R.fromMillis(t);if(R.isDuration(t))return t;if(typeof t=="object")return R.fromObject(t);throw new Fe(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,r){const[s]=f_(t);return s?R.fromObject(s,r):R.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,r){const[s]=m_(t);return s?R.fromObject(s,r):R.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,r=null){if(!t)throw new Fe("need to specify a reason the Duration is invalid");const s=t instanceof Ze?t:new Ze(t,r);if(se.throwOnInvalid)throw new e$(s);return new R({invalid:s})}static normalizeUnit(t){const r={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t&&t.toLowerCase()];if(!r)throw new K0(t);return r}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,r={}){const s={...r,floor:r.round!==!1&&r.floor!==!1};return this.isValid?ge.create(this.loc,s).formatDurationFromString(this,t):Ed}toHuman(t={}){if(!this.isValid)return Ed;const r=Fr.map(s=>{const n=this.values[s];return I(n)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...t,unit:s.slice(0,-1)}).format(n)}).filter(s=>s);return this.loc.listFormatter({type:"conjunction",style:t.listStyle||"narrow",...t}).format(r)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let t="P";return this.years!==0&&(t+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(t+=this.months+this.quarters*3+"M"),this.weeks!==0&&(t+=this.weeks+"W"),this.days!==0&&(t+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(t+="T"),this.hours!==0&&(t+=this.hours+"H"),this.minutes!==0&&(t+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(t+=Vc(this.seconds+this.milliseconds/1e3,3)+"S"),t==="P"&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;const r=this.toMillis();return r<0||r>=864e5?null:(t={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...t,includeOffset:!1},E.fromMillis(r,{zone:"UTC"}).toISOTime(t))}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.isValid?km(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;const r=R.fromDurationLike(t),s={};for(const n of Fr)(Ms(r.values,n)||Ms(this.values,n))&&(s[n]=r.get(n)+this.get(n));return Gt(this,{values:s},!0)}minus(t){if(!this.isValid)return this;const r=R.fromDurationLike(t);return this.plus(r.negate())}mapUnits(t){if(!this.isValid)return this;const r={};for(const s of Object.keys(this.values))r[s]=vm(t(this.values[s],s));return Gt(this,{values:r},!0)}get(t){return this[R.normalizeUnit(t)]}set(t){if(!this.isValid)return this;const r={...this.values,...Lo(t,R.normalizeUnit)};return Gt(this,{values:r})}reconfigure({locale:t,numberingSystem:r,conversionAccuracy:s,matrix:n}={}){const a={loc:this.loc.clone({locale:t,numberingSystem:r}),matrix:n,conversionAccuracy:s};return Gt(this,a)}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;const t=this.toObject();return Ad(this.matrix,t),Gt(this,{values:t},!0)}rescale(){if(!this.isValid)return this;const t=S_(this.normalize().shiftToAll().toObject());return Gt(this,{values:t},!0)}shiftTo(...t){if(!this.isValid)return this;if(t.length===0)return this;t=t.map(a=>R.normalizeUnit(a));const r={},s={},n=this.toObject();let o;for(const a of Fr)if(t.indexOf(a)>=0){o=a;let l=0;for(const d in s)l+=this.matrix[d][a]*s[d],s[d]=0;Ur(n[a])&&(l+=n[a]);const c=Math.trunc(l);r[a]=c,s[a]=(l*1e3-c*1e3)/1e3}else Ur(n[a])&&(s[a]=n[a]);for(const a in s)s[a]!==0&&(r[o]+=a===o?s[a]:s[a]/this.matrix[o][a]);return Ad(this.matrix,r),Gt(this,{values:r},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const t={};for(const r of Object.keys(this.values))t[r]=this.values[r]===0?0:-this.values[r];return Gt(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid||!this.loc.equals(t.loc))return!1;function r(s,n){return s===void 0||s===0?n===void 0||n===0:s===n}for(const s of Fr)if(!r(this.values[s],t.values[s]))return!1;return!0}}const rs="Invalid Interval";function x_(e,t){return!e||!e.isValid?X.invalid("missing or invalid start"):!t||!t.isValid?X.invalid("missing or invalid end"):t<e?X.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null}class X{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,r=null){if(!t)throw new Fe("need to specify a reason the Interval is invalid");const s=t instanceof Ze?t:new Ze(t,r);if(se.throwOnInvalid)throw new Xb(s);return new X({invalid:s})}static fromDateTimes(t,r){const s=qs(t),n=qs(r),o=x_(s,n);return o??new X({start:s,end:n})}static after(t,r){const s=R.fromDurationLike(r),n=qs(t);return X.fromDateTimes(n,n.plus(s))}static before(t,r){const s=R.fromDurationLike(r),n=qs(t);return X.fromDateTimes(n.minus(s),n)}static fromISO(t,r){const[s,n]=(t||"").split("/",2);if(s&&n){let o,a;try{o=E.fromISO(s,r),a=o.isValid}catch{a=!1}let l,c;try{l=E.fromISO(n,r),c=l.isValid}catch{c=!1}if(a&&c)return X.fromDateTimes(o,l);if(a){const d=R.fromISO(n,r);if(d.isValid)return X.after(o,d)}else if(c){const d=R.fromISO(s,r);if(d.isValid)return X.before(l,d)}}return X.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds"){if(!this.isValid)return NaN;const r=this.start.startOf(t),s=this.end.startOf(t);return Math.floor(s.diff(r,t).get(t))+(s.valueOf()!==this.end.valueOf())}hasSame(t){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,t):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return this.isValid?this.s>t:!1}isBefore(t){return this.isValid?this.e<=t:!1}contains(t){return this.isValid?this.s<=t&&this.e>t:!1}set({start:t,end:r}={}){return this.isValid?X.fromDateTimes(t||this.s,r||this.e):this}splitAt(...t){if(!this.isValid)return[];const r=t.map(qs).filter(a=>this.contains(a)).sort(),s=[];let{s:n}=this,o=0;for(;n<this.e;){const a=r[o]||this.e,l=+a>+this.e?this.e:a;s.push(X.fromDateTimes(n,l)),n=l,o+=1}return s}splitBy(t){const r=R.fromDurationLike(t);if(!this.isValid||!r.isValid||r.as("milliseconds")===0)return[];let{s}=this,n=1,o;const a=[];for(;s<this.e;){const l=this.start.plus(r.mapUnits(c=>c*n));o=+l>+this.e?this.e:l,a.push(X.fromDateTimes(s,o)),s=o,n+=1}return a}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return this.isValid?+this.e==+t.s:!1}abutsEnd(t){return this.isValid?+t.e==+this.s:!1}engulfs(t){return this.isValid?this.s<=t.s&&this.e>=t.e:!1}equals(t){return!this.isValid||!t.isValid?!1:this.s.equals(t.s)&&this.e.equals(t.e)}intersection(t){if(!this.isValid)return this;const r=this.s>t.s?this.s:t.s,s=this.e<t.e?this.e:t.e;return r>=s?null:X.fromDateTimes(r,s)}union(t){if(!this.isValid)return this;const r=this.s<t.s?this.s:t.s,s=this.e>t.e?this.e:t.e;return X.fromDateTimes(r,s)}static merge(t){const[r,s]=t.sort((n,o)=>n.s-o.s).reduce(([n,o],a)=>o?o.overlaps(a)||o.abutsStart(a)?[n,o.union(a)]:[n.concat([o]),a]:[n,a],[[],null]);return s&&r.push(s),r}static xor(t){let r=null,s=0;const n=[],o=t.map(c=>[{time:c.s,type:"s"},{time:c.e,type:"e"}]),a=Array.prototype.concat(...o),l=a.sort((c,d)=>c.time-d.time);for(const c of l)s+=c.type==="s"?1:-1,s===1?r=c.time:(r&&+r!=+c.time&&n.push(X.fromDateTimes(r,c.time)),r=null);return X.merge(n)}difference(...t){return X.xor([this].concat(t)).map(r=>this.intersection(r)).filter(r=>r&&!r.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} â€“ ${this.e.toISO()})`:rs}toLocaleString(t=Do,r={}){return this.isValid?ge.create(this.s.loc.clone(r),t).formatInterval(this):rs}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:rs}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:rs}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:rs}toFormat(t,{separator:r=" â€“ "}={}){return this.isValid?`${this.s.toFormat(t)}${r}${this.e.toFormat(t)}`:rs}toDuration(t,r){return this.isValid?this.e.diff(this.s,t,r):R.invalid(this.invalidReason)}mapEndpoints(t){return X.fromDateTimes(t(this.s),t(this.e))}}class Mi{static hasDST(t=se.defaultZone){const r=E.now().setZone(t).set({month:12});return!t.isUniversal&&r.offset!==r.set({month:6}).offset}static isValidIANAZone(t){return kt.isValidZone(t)}static normalizeZone(t){return ir(t,se.defaultZone)}static months(t="long",{locale:r=null,numberingSystem:s=null,locObj:n=null,outputCalendar:o="gregory"}={}){return(n||J.create(r,s,o)).months(t)}static monthsFormat(t="long",{locale:r=null,numberingSystem:s=null,locObj:n=null,outputCalendar:o="gregory"}={}){return(n||J.create(r,s,o)).months(t,!0)}static weekdays(t="long",{locale:r=null,numberingSystem:s=null,locObj:n=null}={}){return(n||J.create(r,s,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:r=null,numberingSystem:s=null,locObj:n=null}={}){return(n||J.create(r,s,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return J.create(t).meridiems()}static eras(t="short",{locale:r=null}={}){return J.create(r,null,"gregory").eras(t)}static features(){return{relative:gm()}}}function Pd(e,t){const r=n=>n.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),s=r(t)-r(e);return Math.floor(R.fromMillis(s).as("days"))}function T_(e,t,r){const s=[["years",(c,d)=>d.year-c.year],["quarters",(c,d)=>d.quarter-c.quarter+(d.year-c.year)*4],["months",(c,d)=>d.month-c.month+(d.year-c.year)*12],["weeks",(c,d)=>{const p=Pd(c,d);return(p-p%7)/7}],["days",Pd]],n={},o=e;let a,l;for(const[c,d]of s)r.indexOf(c)>=0&&(a=c,n[c]=d(e,t),l=o.plus(n),l>t?(n[c]--,e=o.plus(n),e>t&&(l=e,n[c]--,e=o.plus(n))):e=l);return[e,n,l,a]}function O_(e,t,r,s){let[n,o,a,l]=T_(e,t,r);const c=t-n,d=r.filter(m=>["hours","minutes","seconds","milliseconds"].indexOf(m)>=0);d.length===0&&(a<t&&(a=n.plus({[l]:1})),a!==n&&(o[l]=(o[l]||0)+c/(a-n)));const p=R.fromObject(o,s);return d.length>0?R.fromMillis(c,s).shiftTo(...d).plus(p):p}const Zc={arab:"[Ù -Ù©]",arabext:"[Û°-Û¹]",bali:"[á­-á­™]",beng:"[à§¦-à§¯]",deva:"[à¥¦-à¥¯]",fullwide:"[ï¼-ï¼™]",gujr:"[à«¦-à«¯]",hanidec:"[ã€‡|ä¸€|äºŒ|ä¸‰|å››|äº”|å…­|ä¸ƒ|å…«|ä¹]",khmr:"[áŸ -áŸ©]",knda:"[à³¦-à³¯]",laoo:"[à»-à»™]",limb:"[á¥†-á¥]",mlym:"[àµ¦-àµ¯]",mong:"[á -á ™]",mymr:"[á€-á‰]",orya:"[à­¦-à­¯]",tamldec:"[à¯¦-à¯¯]",telu:"[à±¦-à±¯]",thai:"[à¹-à¹™]",tibt:"[à¼ -à¼©]",latn:"\\d"},Nd={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},M_=Zc.hanidec.replace(/[\[|\]]/g,"").split("");function E_(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let r=0;r<e.length;r++){const s=e.charCodeAt(r);if(e[r].search(Zc.hanidec)!==-1)t+=M_.indexOf(e[r]);else for(const n in Nd){const[o,a]=Nd[n];s>=o&&s<=a&&(t+=s-o)}}return parseInt(t,10)}else return t}function ze({numberingSystem:e},t=""){return new RegExp(`${Zc[e||"latn"]}${t}`)}const A_="missing Intl.DateTimeFormat.formatToParts support";function j(e,t=r=>r){return{regex:e,deser:([r])=>t(E_(r))}}const P_="Â ",Dm=`[ ${P_}]`,Rm=new RegExp(Dm,"g");function N_(e){return e.replace(/\./g,"\\.?").replace(Rm,Dm)}function Id(e){return e.replace(/\./g,"").replace(Rm," ").toLowerCase()}function Ge(e,t){return e===null?null:{regex:RegExp(e.map(N_).join("|")),deser:([r])=>e.findIndex(s=>Id(r)===Id(s))+t}}function Cd(e,t){return{regex:e,deser:([,r,s])=>ca(r,s),groups:t}}function Ei(e){return{regex:e,deser:([t])=>t}}function I_(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function C_(e,t){const r=ze(t),s=ze(t,"{2}"),n=ze(t,"{3}"),o=ze(t,"{4}"),a=ze(t,"{6}"),l=ze(t,"{1,2}"),c=ze(t,"{1,3}"),d=ze(t,"{1,6}"),p=ze(t,"{1,9}"),m=ze(t,"{2,4}"),y=ze(t,"{4,6}"),g=x=>({regex:RegExp(I_(x.val)),deser:([M])=>M,literal:!0}),S=(x=>{if(e.literal)return g(x);switch(x.val){case"G":return Ge(t.eras("short"),0);case"GG":return Ge(t.eras("long"),0);case"y":return j(d);case"yy":return j(m,Bl);case"yyyy":return j(o);case"yyyyy":return j(y);case"yyyyyy":return j(a);case"M":return j(l);case"MM":return j(s);case"MMM":return Ge(t.months("short",!0),1);case"MMMM":return Ge(t.months("long",!0),1);case"L":return j(l);case"LL":return j(s);case"LLL":return Ge(t.months("short",!1),1);case"LLLL":return Ge(t.months("long",!1),1);case"d":return j(l);case"dd":return j(s);case"o":return j(c);case"ooo":return j(n);case"HH":return j(s);case"H":return j(l);case"hh":return j(s);case"h":return j(l);case"mm":return j(s);case"m":return j(l);case"q":return j(l);case"qq":return j(s);case"s":return j(l);case"ss":return j(s);case"S":return j(c);case"SSS":return j(n);case"u":return Ei(p);case"uu":return Ei(l);case"uuu":return j(r);case"a":return Ge(t.meridiems(),0);case"kkkk":return j(o);case"kk":return j(m,Bl);case"W":return j(l);case"WW":return j(s);case"E":case"c":return j(r);case"EEE":return Ge(t.weekdays("short",!1),1);case"EEEE":return Ge(t.weekdays("long",!1),1);case"ccc":return Ge(t.weekdays("short",!0),1);case"cccc":return Ge(t.weekdays("long",!0),1);case"Z":case"ZZ":return Cd(new RegExp(`([+-]${l.source})(?::(${s.source}))?`),2);case"ZZZ":return Cd(new RegExp(`([+-]${l.source})(${s.source})?`),2);case"z":return Ei(/[a-z_+-/]{1,256}?/i);case" ":return Ei(/[^\S\n\r]/);default:return g(x)}})(e)||{invalidReason:A_};return S.token=e,S}const k_={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function D_(e,t,r){const{type:s,value:n}=e;if(s==="literal"){const c=/^\s+$/.test(n);return{literal:!c,val:c?" ":n}}const o=t[s];let a=s;s==="hour"&&(t.hour12!=null?a=t.hour12?"hour12":"hour24":t.hourCycle!=null?t.hourCycle==="h11"||t.hourCycle==="h12"?a="hour12":a="hour24":a=r.hour12?"hour12":"hour24");let l=k_[a];if(typeof l=="object"&&(l=l[o]),l)return{literal:!1,val:l}}function R_(e){return[`^${e.map(r=>r.regex).reduce((r,s)=>`${r}(${s.source})`,"")}$`,e]}function F_(e,t,r){const s=e.match(t);if(s){const n={};let o=1;for(const a in r)if(Ms(r,a)){const l=r[a],c=l.groups?l.groups+1:1;!l.literal&&l.token&&(n[l.token.val[0]]=l.deser(s.slice(o,o+c))),o+=c}return[s,n]}else return[s,{}]}function L_(e){const t=o=>{switch(o){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let r=null,s;return I(e.z)||(r=kt.create(e.z)),I(e.Z)||(r||(r=new ve(e.Z)),s=e.Z),I(e.q)||(e.M=(e.q-1)*3+1),I(e.h)||(e.h<12&&e.a===1?e.h+=12:e.h===12&&e.a===0&&(e.h=0)),e.G===0&&e.y&&(e.y=-e.y),I(e.u)||(e.S=qc(e.u)),[Object.keys(e).reduce((o,a)=>{const l=t(a);return l&&(o[l]=e[a]),o},{}),r,s]}let Ua=null;function j_(){return Ua||(Ua=E.fromMillis(1555555555555)),Ua}function U_(e,t){if(e.literal)return e;const r=ge.macroTokenToFormatOpts(e.val),s=jm(r,t);return s==null||s.includes(void 0)?e:s}function Fm(e,t){return Array.prototype.concat(...e.map(r=>U_(r,t)))}function Lm(e,t,r){const s=Fm(ge.parseFormat(r),e),n=s.map(a=>C_(a,e)),o=n.find(a=>a.invalidReason);if(o)return{input:t,tokens:s,invalidReason:o.invalidReason};{const[a,l]=R_(n),c=RegExp(a,"i"),[d,p]=F_(t,c,l),[m,y,g]=p?L_(p):[null,null,void 0];if(Ms(p,"a")&&Ms(p,"H"))throw new Xs("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:s,regex:c,rawMatches:d,matches:p,result:m,zone:y,specificOffset:g}}}function z_(e,t,r){const{result:s,zone:n,specificOffset:o,invalidReason:a}=Lm(e,t,r);return[s,n,o,a]}function jm(e,t){if(!e)return null;const s=ge.create(t,e).dtFormatter(j_()),n=s.formatToParts(),o=s.resolvedOptions();return n.map(a=>D_(a,e,o))}const Um=[0,31,59,90,120,151,181,212,243,273,304,334],zm=[0,31,60,91,121,152,182,213,244,274,305,335];function Le(e,t){return new Ze("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function Gm(e,t,r){const s=new Date(Date.UTC(e,t-1,r));e<100&&e>=0&&s.setUTCFullYear(s.getUTCFullYear()-1900);const n=s.getUTCDay();return n===0?7:n}function qm(e,t,r){return r+(ri(e)?zm:Um)[t-1]}function Vm(e,t){const r=ri(e)?zm:Um,s=r.findIndex(o=>o<t),n=t-r[s];return{month:s+1,day:n}}function Wl(e){const{year:t,month:r,day:s}=e,n=qm(t,r,s),o=Gm(t,r,s);let a=Math.floor((n-o+10)/7),l;return a<1?(l=t-1,a=Fo(l)):a>Fo(t)?(l=t+1,a=1):l=t,{weekYear:l,weekNumber:a,weekday:o,...ha(e)}}function kd(e){const{weekYear:t,weekNumber:r,weekday:s}=e,n=Gm(t,1,4),o=Mn(t);let a=r*7+s-n-3,l;a<1?(l=t-1,a+=Mn(l)):a>o?(l=t+1,a-=Mn(t)):l=t;const{month:c,day:d}=Vm(l,a);return{year:l,month:c,day:d,...ha(e)}}function za(e){const{year:t,month:r,day:s}=e,n=qm(t,r,s);return{year:t,ordinal:n,...ha(e)}}function Dd(e){const{year:t,ordinal:r}=e,{month:s,day:n}=Vm(t,r);return{year:t,month:s,day:n,...ha(e)}}function G_(e){const t=la(e.weekYear),r=At(e.weekNumber,1,Fo(e.weekYear)),s=At(e.weekday,1,7);return t?r?s?!1:Le("weekday",e.weekday):Le("week",e.week):Le("weekYear",e.weekYear)}function q_(e){const t=la(e.year),r=At(e.ordinal,1,Mn(e.year));return t?r?!1:Le("ordinal",e.ordinal):Le("year",e.year)}function Bm(e){const t=la(e.year),r=At(e.month,1,12),s=At(e.day,1,Ro(e.year,e.month));return t?r?s?!1:Le("day",e.day):Le("month",e.month):Le("year",e.year)}function Wm(e){const{hour:t,minute:r,second:s,millisecond:n}=e,o=At(t,0,23)||t===24&&r===0&&s===0&&n===0,a=At(r,0,59),l=At(s,0,59),c=At(n,0,999);return o?a?l?c?!1:Le("millisecond",n):Le("second",s):Le("minute",r):Le("hour",t)}const Ga="Invalid DateTime",Rd=864e13;function Ai(e){return new Ze("unsupported zone",`the zone "${e.name}" is not supported`)}function qa(e){return e.weekData===null&&(e.weekData=Wl(e.c)),e.weekData}function gr(e,t){const r={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new E({...r,...t,old:r})}function Hm(e,t,r){let s=e-t*60*1e3;const n=r.offset(s);if(t===n)return[s,t];s-=(n-t)*60*1e3;const o=r.offset(s);return n===o?[s,n]:[e-Math.min(n,o)*60*1e3,Math.max(n,o)]}function Pi(e,t){e+=t*60*1e3;const r=new Date(e);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function Vi(e,t,r){return Hm(ua(e),t,r)}function Fd(e,t){const r=e.o,s=e.c.year+Math.trunc(t.years),n=e.c.month+Math.trunc(t.months)+Math.trunc(t.quarters)*3,o={...e.c,year:s,month:n,day:Math.min(e.c.day,Ro(s,n))+Math.trunc(t.days)+Math.trunc(t.weeks)*7},a=R.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),l=ua(o);let[c,d]=Hm(l,r,e.zone);return a!==0&&(c+=a,d=e.zone.offset(c)),{ts:c,o:d}}function Gs(e,t,r,s,n,o){const{setZone:a,zone:l}=r;if(e&&Object.keys(e).length!==0||t){const c=t||l,d=E.fromObject(e,{...r,zone:c,specificOffset:o});return a?d:d.setZone(l)}else return E.invalid(new Ze("unparsable",`the input "${n}" can't be parsed as ${s}`))}function Ni(e,t,r=!0){return e.isValid?ge.create(J.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(e,t):null}function Va(e,t){const r=e.c.year>9999||e.c.year<0;let s="";return r&&e.c.year>=0&&(s+="+"),s+=ne(e.c.year,r?6:4),t?(s+="-",s+=ne(e.c.month),s+="-",s+=ne(e.c.day)):(s+=ne(e.c.month),s+=ne(e.c.day)),s}function Ld(e,t,r,s,n,o){let a=ne(e.c.hour);return t?(a+=":",a+=ne(e.c.minute),(e.c.millisecond!==0||e.c.second!==0||!r)&&(a+=":")):a+=ne(e.c.minute),(e.c.millisecond!==0||e.c.second!==0||!r)&&(a+=ne(e.c.second),(e.c.millisecond!==0||!s)&&(a+=".",a+=ne(e.c.millisecond,3))),n&&(e.isOffsetFixed&&e.offset===0&&!o?a+="Z":e.o<0?(a+="-",a+=ne(Math.trunc(-e.o/60)),a+=":",a+=ne(Math.trunc(-e.o%60))):(a+="+",a+=ne(Math.trunc(e.o/60)),a+=":",a+=ne(Math.trunc(e.o%60)))),o&&(a+="["+e.zone.ianaName+"]"),a}const Zm={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},V_={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},B_={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Jm=["year","month","day","hour","minute","second","millisecond"],W_=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],H_=["year","ordinal","hour","minute","second","millisecond"];function jd(e){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new K0(e);return t}function Ud(e,t){const r=ir(t.zone,se.defaultZone),s=J.fromObject(t),n=se.now();let o,a;if(I(e.year))o=n;else{for(const d of Jm)I(e[d])&&(e[d]=Zm[d]);const l=Bm(e)||Wm(e);if(l)return E.invalid(l);const c=r.offset(n);[o,a]=Vi(e,c,r)}return new E({ts:o,zone:r,loc:s,o:a})}function zd(e,t,r){const s=I(r.round)?!0:r.round,n=(a,l)=>(a=Vc(a,s||r.calendary?0:2,!0),t.loc.clone(r).relFormatter(r).format(a,l)),o=a=>r.calendary?t.hasSame(e,a)?0:t.startOf(a).diff(e.startOf(a),a).get(a):t.diff(e,a).get(a);if(r.unit)return n(o(r.unit),r.unit);for(const a of r.units){const l=o(a);if(Math.abs(l)>=1)return n(l,a)}return n(e>t?-0:0,r.units[r.units.length-1])}function Gd(e){let t={},r;return e.length>0&&typeof e[e.length-1]=="object"?(t=e[e.length-1],r=Array.from(e).slice(0,e.length-1)):r=Array.from(e),[t,r]}class E{constructor(t){const r=t.zone||se.defaultZone;let s=t.invalid||(Number.isNaN(t.ts)?new Ze("invalid input"):null)||(r.isValid?null:Ai(r));this.ts=I(t.ts)?se.now():t.ts;let n=null,o=null;if(!s)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(r))[n,o]=[t.old.c,t.old.o];else{const l=r.offset(this.ts);n=Pi(this.ts,l),s=Number.isNaN(n.year)?new Ze("invalid input"):null,n=s?null:n,o=s?null:l}this._zone=r,this.loc=t.loc||J.create(),this.invalid=s,this.weekData=null,this.c=n,this.o=o,this.isLuxonDateTime=!0}static now(){return new E({})}static local(){const[t,r]=Gd(arguments),[s,n,o,a,l,c,d]=r;return Ud({year:s,month:n,day:o,hour:a,minute:l,second:c,millisecond:d},t)}static utc(){const[t,r]=Gd(arguments),[s,n,o,a,l,c,d]=r;return t.zone=ve.utcInstance,Ud({year:s,month:n,day:o,hour:a,minute:l,second:c,millisecond:d},t)}static fromJSDate(t,r={}){const s=$$(t)?t.valueOf():NaN;if(Number.isNaN(s))return E.invalid("invalid input");const n=ir(r.zone,se.defaultZone);return n.isValid?new E({ts:s,zone:n,loc:J.fromObject(r)}):E.invalid(Ai(n))}static fromMillis(t,r={}){if(Ur(t))return t<-Rd||t>Rd?E.invalid("Timestamp out of range"):new E({ts:t,zone:ir(r.zone,se.defaultZone),loc:J.fromObject(r)});throw new Fe(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,r={}){if(Ur(t))return new E({ts:t*1e3,zone:ir(r.zone,se.defaultZone),loc:J.fromObject(r)});throw new Fe("fromSeconds requires a numerical input")}static fromObject(t,r={}){t=t||{};const s=ir(r.zone,se.defaultZone);if(!s.isValid)return E.invalid(Ai(s));const n=se.now(),o=I(r.specificOffset)?s.offset(n):r.specificOffset,a=Lo(t,jd),l=!I(a.ordinal),c=!I(a.year),d=!I(a.month)||!I(a.day),p=c||d,m=a.weekYear||a.weekNumber,y=J.fromObject(r);if((p||l)&&m)throw new Xs("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(d&&l)throw new Xs("Can't mix ordinal dates with month/day");const g=m||a.weekday&&!p;let b,S,x=Pi(n,o);g?(b=W_,S=V_,x=Wl(x)):l?(b=H_,S=B_,x=za(x)):(b=Jm,S=Zm);let M=!1;for(const q of b){const wt=a[q];I(wt)?M?a[q]=S[q]:a[q]=x[q]:M=!0}const P=g?G_(a):l?q_(a):Bm(a),F=P||Wm(a);if(F)return E.invalid(F);const W=g?kd(a):l?Dd(a):a,[z,be]=Vi(W,o,s),xe=new E({ts:z,zone:s,o:be,loc:y});return a.weekday&&p&&t.weekday!==xe.weekday?E.invalid("mismatched weekday",`you can't specify both a weekday of ${a.weekday} and a date of ${xe.toISO()}`):xe}static fromISO(t,r={}){const[s,n]=c_(t);return Gs(s,n,r,"ISO 8601",t)}static fromRFC2822(t,r={}){const[s,n]=h_(t);return Gs(s,n,r,"RFC 2822",t)}static fromHTTP(t,r={}){const[s,n]=d_(t);return Gs(s,n,r,"HTTP",r)}static fromFormat(t,r,s={}){if(I(t)||I(r))throw new Fe("fromFormat requires an input string and a format");const{locale:n=null,numberingSystem:o=null}=s,a=J.fromOpts({locale:n,numberingSystem:o,defaultToEN:!0}),[l,c,d,p]=z_(a,t,r);return p?E.invalid(p):Gs(l,c,s,`format ${r}`,t,d)}static fromString(t,r,s={}){return E.fromFormat(t,r,s)}static fromSQL(t,r={}){const[s,n]=v_(t);return Gs(s,n,r,"SQL",t)}static invalid(t,r=null){if(!t)throw new Fe("need to specify a reason the DateTime is invalid");const s=t instanceof Ze?t:new Ze(t,r);if(se.throwOnInvalid)throw new Qb(s);return new E({invalid:s})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}static parseFormatForOpts(t,r={}){const s=jm(t,J.fromObject(r));return s?s.map(n=>n?n.val:null).join(""):null}static expandFormat(t,r={}){return Fm(ge.parseFormat(t),J.fromObject(r)).map(n=>n.val).join("")}get(t){return this[t]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?qa(this).weekYear:NaN}get weekNumber(){return this.isValid?qa(this).weekNumber:NaN}get weekday(){return this.isValid?qa(this).weekday:NaN}get ordinal(){return this.isValid?za(this.c).ordinal:NaN}get monthShort(){return this.isValid?Mi.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Mi.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Mi.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Mi.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const t=864e5,r=6e4,s=ua(this.c),n=this.zone.offset(s-t),o=this.zone.offset(s+t),a=this.zone.offset(s-n*r),l=this.zone.offset(s-o*r);if(a===l)return[this];const c=s-a*r,d=s-l*r,p=Pi(c,a),m=Pi(d,l);return p.hour===m.hour&&p.minute===m.minute&&p.second===m.second&&p.millisecond===m.millisecond?[gr(this,{ts:c}),gr(this,{ts:d})]:[this]}get isInLeapYear(){return ri(this.year)}get daysInMonth(){return Ro(this.year,this.month)}get daysInYear(){return this.isValid?Mn(this.year):NaN}get weeksInWeekYear(){return this.isValid?Fo(this.weekYear):NaN}resolvedLocaleOptions(t={}){const{locale:r,numberingSystem:s,calendar:n}=ge.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:r,numberingSystem:s,outputCalendar:n}}toUTC(t=0,r={}){return this.setZone(ve.instance(t),r)}toLocal(){return this.setZone(se.defaultZone)}setZone(t,{keepLocalTime:r=!1,keepCalendarTime:s=!1}={}){if(t=ir(t,se.defaultZone),t.equals(this.zone))return this;if(t.isValid){let n=this.ts;if(r||s){const o=t.offset(this.ts),a=this.toObject();[n]=Vi(a,o,t)}return gr(this,{ts:n,zone:t})}else return E.invalid(Ai(t))}reconfigure({locale:t,numberingSystem:r,outputCalendar:s}={}){const n=this.loc.clone({locale:t,numberingSystem:r,outputCalendar:s});return gr(this,{loc:n})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;const r=Lo(t,jd),s=!I(r.weekYear)||!I(r.weekNumber)||!I(r.weekday),n=!I(r.ordinal),o=!I(r.year),a=!I(r.month)||!I(r.day),l=o||a,c=r.weekYear||r.weekNumber;if((l||n)&&c)throw new Xs("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(a&&n)throw new Xs("Can't mix ordinal dates with month/day");let d;s?d=kd({...Wl(this.c),...r}):I(r.ordinal)?(d={...this.toObject(),...r},I(r.day)&&(d.day=Math.min(Ro(d.year,d.month),d.day))):d=Dd({...za(this.c),...r});const[p,m]=Vi(d,this.o,this.zone);return gr(this,{ts:p,o:m})}plus(t){if(!this.isValid)return this;const r=R.fromDurationLike(t);return gr(this,Fd(this,r))}minus(t){if(!this.isValid)return this;const r=R.fromDurationLike(t).negate();return gr(this,Fd(this,r))}startOf(t){if(!this.isValid)return this;const r={},s=R.normalizeUnit(t);switch(s){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0;break}if(s==="weeks"&&(r.weekday=1),s==="quarters"){const n=Math.ceil(this.month/3);r.month=(n-1)*3+1}return this.set(r)}endOf(t){return this.isValid?this.plus({[t]:1}).startOf(t).minus(1):this}toFormat(t,r={}){return this.isValid?ge.create(this.loc.redefaultToEN(r)).formatDateTimeFromString(this,t):Ga}toLocaleString(t=Do,r={}){return this.isValid?ge.create(this.loc.clone(r),t).formatDateTime(this):Ga}toLocaleParts(t={}){return this.isValid?ge.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:r=!1,suppressMilliseconds:s=!1,includeOffset:n=!0,extendedZone:o=!1}={}){if(!this.isValid)return null;const a=t==="extended";let l=Va(this,a);return l+="T",l+=Ld(this,a,r,s,n,o),l}toISODate({format:t="extended"}={}){return this.isValid?Va(this,t==="extended"):null}toISOWeekDate(){return Ni(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:r=!1,includeOffset:s=!0,includePrefix:n=!1,extendedZone:o=!1,format:a="extended"}={}){return this.isValid?(n?"T":"")+Ld(this,a==="extended",r,t,s,o):null}toRFC2822(){return Ni(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Ni(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Va(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:r=!1,includeOffsetSpace:s=!0}={}){let n="HH:mm:ss.SSS";return(r||t)&&(s&&(n+=" "),r?n+="z":t&&(n+="ZZ")),Ni(this,n,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():Ga}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};const r={...this.c};return t.includeConfig&&(r.outputCalendar=this.outputCalendar,r.numberingSystem=this.loc.numberingSystem,r.locale=this.loc.locale),r}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,r="milliseconds",s={}){if(!this.isValid||!t.isValid)return R.invalid("created by diffing an invalid DateTime");const n={locale:this.locale,numberingSystem:this.numberingSystem,...s},o=_$(r).map(R.normalizeUnit),a=t.valueOf()>this.valueOf(),l=a?this:t,c=a?t:this,d=O_(l,c,o,n);return a?d.negate():d}diffNow(t="milliseconds",r={}){return this.diff(E.now(),t,r)}until(t){return this.isValid?X.fromDateTimes(this,t):this}hasSame(t,r){if(!this.isValid)return!1;const s=t.valueOf(),n=this.setZone(t.zone,{keepLocalTime:!0});return n.startOf(r)<=s&&s<=n.endOf(r)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;const r=t.base||E.fromObject({},{zone:this.zone}),s=t.padding?this<r?-t.padding:t.padding:0;let n=["years","months","days","hours","minutes","seconds"],o=t.unit;return Array.isArray(t.unit)&&(n=t.unit,o=void 0),zd(r,this.plus(s),{...t,numeric:"always",units:n,unit:o})}toRelativeCalendar(t={}){return this.isValid?zd(t.base||E.fromObject({},{zone:this.zone}),this,{...t,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...t){if(!t.every(E.isDateTime))throw new Fe("min requires all arguments be DateTimes");return Td(t,r=>r.valueOf(),Math.min)}static max(...t){if(!t.every(E.isDateTime))throw new Fe("max requires all arguments be DateTimes");return Td(t,r=>r.valueOf(),Math.max)}static fromFormatExplain(t,r,s={}){const{locale:n=null,numberingSystem:o=null}=s,a=J.fromOpts({locale:n,numberingSystem:o,defaultToEN:!0});return Lm(a,t,r)}static fromStringExplain(t,r,s={}){return E.fromFormatExplain(t,r,s)}static get DATE_SHORT(){return Do}static get DATE_MED(){return Q0}static get DATE_MED_WITH_WEEKDAY(){return t$}static get DATE_FULL(){return X0}static get DATE_HUGE(){return em}static get TIME_SIMPLE(){return tm}static get TIME_WITH_SECONDS(){return rm}static get TIME_WITH_SHORT_OFFSET(){return sm}static get TIME_WITH_LONG_OFFSET(){return nm}static get TIME_24_SIMPLE(){return im}static get TIME_24_WITH_SECONDS(){return om}static get TIME_24_WITH_SHORT_OFFSET(){return am}static get TIME_24_WITH_LONG_OFFSET(){return lm}static get DATETIME_SHORT(){return um}static get DATETIME_SHORT_WITH_SECONDS(){return cm}static get DATETIME_MED(){return hm}static get DATETIME_MED_WITH_SECONDS(){return dm}static get DATETIME_MED_WITH_WEEKDAY(){return r$}static get DATETIME_FULL(){return fm}static get DATETIME_FULL_WITH_SECONDS(){return pm}static get DATETIME_HUGE(){return mm}static get DATETIME_HUGE_WITH_SECONDS(){return ym}}function qs(e){if(E.isDateTime(e))return e;if(e&&e.valueOf&&Ur(e.valueOf()))return E.fromJSDate(e);if(e&&typeof e=="object")return E.fromObject(e);throw new Fe(`Unknown datetime argument: ${e}, of type ${typeof e}`)}const da="system",Ym="unknown",Gn="UTC",Z_=Intl.DateTimeFormat().resolvedOptions().timeZone,J_="shortOffset";function Y_(e){return"timeZoneIANA"in e}function K_(e){return e.startsWith("UTC")}function N4(e,t=!1){return{json:{read:{source:e,reader:(r,s)=>s[e]?Q_(s[e]):null},write:!!t&&{allowNull:!0,writer(r,s){s[e]=r?X_(r):null}}}}}function Q_(e,t=da){return e?Y_(e)?e.timeZoneIANA:eS(e,t):t}function X_(e){return{timeZoneIANA:e}}function eS(e,t=da){if(!e||!yd.has(e.timeZone))return t;const r=yd.get(e.timeZone);return K_(e.timeZone)||e.respectsDaylightSaving?r:tS(r)}function tS(e){const t=E.local().setZone(e),r=Math.min(t.set({month:1,day:1}).offset,t.set({month:5}).offset);return r===0?"Etc/UTC":`Etc/GMT${ve.instance(-r).formatOffset(0,"narrow")}`}function I4(e,t,r,s,n){if(t&&n==="date")return{timeZone:Gn,timeZoneName:void 0};const o=s.timeStyle||s.hour,a=r===Ym;return{timeZone:a?n==="timestamp-offset"?void 0:e??Gn:r,timeZoneName:a&&o?J_:void 0}}const rS={year:void 0,month:void 0,day:void 0,weekday:void 0},sS={hour:void 0,minute:void 0,second:void 0},Km={timeZone:Gn},st={year:"numeric",month:"numeric",day:"numeric"},Vs={year:"numeric",month:"long",day:"numeric"},Bs={year:"numeric",month:"short",day:"numeric"},Ws={year:"numeric",month:"long",weekday:"long",day:"numeric"},sr={hour:"numeric",minute:"numeric"},br={...sr,second:"numeric"},Qm={hourCycle:"h23"},Hs={...sr,...Qm},Zs={...br,...Qm},Xm={"short-date":st,"short-date-short-time":{...st,...sr},"short-date-short-time-24":{...st,...Hs},"short-date-long-time":{...st,...br},"short-date-long-time-24":{...st,...Zs},"short-date-le":st,"short-date-le-short-time":{...st,...sr},"short-date-le-short-time-24":{...st,...Hs},"short-date-le-long-time":{...st,...br},"short-date-le-long-time-24":{...st,...Zs},"long-month-day-year":Vs,"long-month-day-year-short-time":{...Vs,...sr},"long-month-day-year-short-time-24":{...Vs,...Hs},"long-month-day-year-long-time":{...Vs,...br},"long-month-day-year-long-time-24":{...Vs,...Zs},"day-short-month-year":Bs,"day-short-month-year-short-time":{...Bs,...sr},"day-short-month-year-short-time-24":{...Bs,...Hs},"day-short-month-year-long-time":{...Bs,...br},"day-short-month-year-long-time-24":{...Bs,...Zs},"long-date":Ws,"long-date-short-time":{...Ws,...sr},"long-date-short-time-24":{...Ws,...Hs},"long-date-long-time":{...Ws,...br},"long-date-long-time-24":{...Ws,...Zs},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":sr,"long-time":br},nS=tt()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),ey={ar:"ar-u-nu-latn-ca-gregory"};let Hl=new WeakMap;const fa=Xm["short-date-short-time"];function iS(e){let t=Hl.get(e);if(!t){const r=Nt(),s=ey[r]||r,n=oS(e.timeZone??da),o={...e,timeZone:n};t=new Intl.DateTimeFormat(s,o),Hl.set(e,t)}return t}function C4(e){return Xm[e]}function Yr(e,t=fa){return iS(t).format(e)}function k4(e,t=fa){return Yr(new Date(e),{...t,...Km,...sS})}function D4(e,t=fa){return Yr(new Date(`1970-01-01T${e}Z`),{...t,...Km,...rS})}function R4(e,t=fa){if(t.timeZone)return Yr(new Date(e),t);const r=E.fromISO(e,{setZone:!0}),s=Nt(),n=ey[s]??s,o=r.offset===0?Gn:t.timeZone,a={...t,timeZone:o};return r.toLocaleString(a,{locale:n})}function oS(e){switch(e){case da:return Z_;case Ym:return Gn;default:return e}}Nc((()=>{Hl=new WeakMap}));const aS={ar:"ar-u-nu-latn"};let Bi=new WeakMap,ty={};function lS(e){const t=e||ty;if(!Bi.has(t)){const r=Nt(),s=aS[Nt()]||r;Bi.set(t,new Intl.NumberFormat(s,e))}return Bi.get(t)}function F4(e={}){const t={};return e.digitSeparator!=null&&(t.useGrouping=e.digitSeparator),e.places!=null&&(t.minimumFractionDigits=t.maximumFractionDigits=e.places),t}function jo(e,t){return Object.is(e,-0)&&(e=0),lS(t).format(e)}Nc((()=>{Bi=new WeakMap,ty={}}));const ry=V.getLogger("esri.intl.substitute");function L4(e,t,r={}){const{format:s={}}=r;return ic(e,(n=>uS(n,t,s)))}function uS(e,t,r){let s,n;const o=e.indexOf(":");if(o===-1?s=e.trim():(s=e.slice(0,o).trim(),n=e.slice(o+1).trim()),!s)return"";const a=Yo(s,t);if(a==null)return"";const l=(n?r?.[n]:null)??r?.[s];return l?cS(a,l):n?hS(a,n):Jc(a)}function cS(e,t){switch(t.type){case"date":return Yr(e,t.intlOptions);case"number":return jo(e,t.intlOptions);default:return ry.warn("missing format descriptor for key {key}"),Jc(e)}}function hS(e,t){switch(t.toLowerCase()){case"dateformat":return Yr(e);case"numberformat":return jo(e);default:return ry.warn(`inline format is unsupported since 4.12: ${t}`),/^(dateformat|datestring)/i.test(t)?Yr(e):/^numberformat/i.test(t)?jo(e):Jc(e)}}function Jc(e){switch(typeof e){case"string":return e;case"number":return jo(e);case"boolean":return""+e;default:return e instanceof Date?Yr(e):""}}async function dS(e,t,r,s){const n=t.exec(r);if(!n)throw new G("esri-intl:invalid-bundle",`Bundle id "${r}" is not compatible with the pattern "${t}"`);const o=n[1]?`${n[1]}/`:"",a=n[2],l=Rw(s),c=`${o}${a}.json`,d=l?`${o}${a}_${l}.json`:c;let p;try{p=await qd(e(d))}catch(m){if(d===c)throw new G("intl:unknown-bundle",`Bundle "${r}" cannot be loaded`,{error:m});try{p=await qd(e(c))}catch(y){throw new G("intl:unknown-bundle",`Bundle "${r}" cannot be loaded`,{error:y})}}return p}async function qd(e){if(Vd.fetchBundleAsset!=null)return Vd.fetchBundleAsset(e);const t=await Qe(e,{responseType:"text"});return JSON.parse(t.data)}let fS=class{constructor({base:t="",pattern:r,location:s=new URL(window.location.href)}){let n;n=typeof s=="string"?o=>new URL(o,new URL(s,window.location.href)).href:s instanceof URL?o=>new URL(o,s).href:s,this.pattern=typeof r=="string"?new RegExp(`^${r}`):r,this.getAssetUrl=n,t=t?t.endsWith("/")?t:t+"/":"",this.matcher=new RegExp(`^${t}(?:(.*)/)?(.*)$`)}fetchMessageBundle(t,r){return dS(this.getAssetUrl,this.matcher,t,r)}};function pS(e){return new fS(e)}const Vd={};Dw(pS({pattern:"esri/",location:Pp}));async function mS(e,t){const{WhereClause:r}=await pt(()=>import("./WhereClause-BcQt-S-F.js").then(s=>s.W),__vite__mapDeps([29,30]),import.meta.url);return r.create(e,t)}function U4(e,t){return e!=null?t!=null?`(${e}) AND (${t})`:e:t}function ss(e){return typeof e=="string"||e instanceof String}const yS="yyyy-MM-dd",gS="TT";var An;(function(e){e.HM="HH:mm",e.HMS="HH:mm:ss",e.HMS_MS="HH:mm:ss.SSS"})(An||(An={}));const wS=[An.HMS_MS,An.HMS,An.HM,gS];function Bd(e){return E.fromFormat(e,yS)}function Wd(e){let t=null;return wS.find((r=>(t=E.fromFormat(e,r),t.isValid))),t}function Hd(e){return E.fromISO(e)}var Es;(function(e){e.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",e.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(Es||(Es={}));const vS=new Set(["integer","small-integer","big-integer","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"]);function bS(e){return e!=null&&vS.has(e.type)}function sy(e){return e!=null&&(e.type==="date-only"||e.type==="esriFieldTypeDateOnly")}function ny(e){return e!=null&&(e.type==="timestamp-offset"||e.type==="esriFieldTypeTimestampOffset")}function iy(e){return e!=null&&(e.type==="time-only"||e.type==="esriFieldTypeTimeOnly")}function $S(e,t){const r=e?.domain;if(!r)return null;switch(r.type){case"range":{const{min:s,max:n}=_S(e);if(s!=null&&+t<s||n!=null&&+t>n)return Es.VALUE_OUT_OF_RANGE;break}case"coded-value":case"codedValue":if(r.codedValues==null||r.codedValues.every((s=>s==null||s.code!==t)))return Es.INVALID_CODED_VALUE}return null}function _S(e,t){const r=e?.domain;if(!r||r.type!=="range")return;const s="range"in r?r.range[0]:r.minValue,n="range"in r?r.range[1]:r.maxValue,o=bS(e);return sy(e)||iy(e)||ny(e)?{...SS(e,n,s),isInteger:o}:{min:s!=null&&typeof s=="number"?s:null,max:n!=null&&typeof n=="number"?n:null,rawMin:s,rawMax:n,isInteger:o}}function SS(e,t,r){return sy(e)?{min:r!=null&&ss(r)?Bd(r).toMillis():null,max:t!=null&&ss(t)?Bd(t).toMillis():null,rawMin:r,rawMax:t}:iy(e)?{min:r!=null&&ss(r)?Wd(r).toMillis():null,max:t!=null&&ss(t)?Wd(t).toMillis():null,rawMin:r,rawMax:t}:ny(e)?{min:r!=null&&ss(r)?Hd(r).toMillis():null,max:t!=null&&ss(t)?Hd(t).toMillis():null,rawMin:r,rawMax:t}:{max:null,min:null}}const xS=V.getLogger("esri.support.arcadeOnDemand");let Ba;function oy(){return Ba||(Ba=(async()=>{const e=await pt(()=>import("./arcadeUtils-n9cXjWJA.js").then(t=>t.aD),__vite__mapDeps([31,1,30,32,33,34,35,36,37,38]),import.meta.url);return{arcade:e.arcade,arcadeUtils:e,Dictionary:e.Dictionary,Feature:e.arcadeFeature}})()),Ba}const z4=(e,t,r)=>Yc.create(e,t,r,null,["$feature","$view"],[]),G4=(e,t,r)=>Yc.create(e,t,r,null,["$feature","$view"],[]),q4=(e,t,r,s)=>Yc.create(e,t,r,s,["$feature","$view"],[]);let Yc=class ay{constructor(t,r,s,n,o,a,l){this.services=null,this.script=t,this.evaluate=n;const c=Array.isArray(a)?a:a.fields;this.fields=c,this._syntaxTree=s,this._arcade=r,this._arcadeFeature=o,this._spatialReference=l,this._referencesGeometry=r.scriptTouchesGeometry(this._syntaxTree),this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}static async create(t,r,s,n,o,a){const{arcade:l,Feature:c,Dictionary:d}=await oy(),p=fe.fromJSON(r);let m;try{m=l.parseScript(t,a)}catch(q){return xS.error(new G("arcade-bad-expression","Failed to parse arcade script",{script:t,error:q})),null}const y=o.reduce(((q,wt)=>({...q,[wt]:null})),{});let g=null;n!=null&&(g=new d(n),g.immutable=!0,y.$config=null);const b=l.scriptUsesGeometryEngine(m),S=b&&l.enableGeometrySupport(),x=l.scriptUsesFeatureSet(m)&&l.enableFeatureSetSupport(),M=l.scriptIsAsync(m),P=M&&l.enableAsyncSupport(),F={vars:y,spatialReference:p,useAsync:!!P};await Promise.all([S,x,P]);const W=new Set;await l.loadDependentModules(W,m,null,M,b);const z=new d;z.immutable=!1,z.setField("scale",0);const be=l.compileScript(m,F),xe=(q,wt)=>{const ui=q.$view?.timeZone;return"$view"in q&&q.$view&&(z.setField("scale",typeof q.$view=="object"&&"scale"in q.$view?q.$view.scale:void 0),q.$view=z),g&&(q.$config=g),be({vars:q,spatialReference:p,services:wt,timeZone:ui})};return new ay(t,l,m,xe,new c,s,p)}repurposeFeature(t){return t.geometry&&!t.geometry.spatialReference&&(t.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(t.geometry,t.attributes,{fields:this.fields}),this._arcadeFeature}referencesGeometry(){return this._referencesGeometry}referencesScale(){return this._referencesScale}};const TS=/^([0-9_])/,OS=/[^a-z0-9_\u0080-\uffff]+/gi;function V4(e){return e==null?null:e.trim().replaceAll(OS,"_").replace(TS,"F$1")||null}const MS=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],ES=["field","normalizationField"];function B4(e,t){if(e!=null&&t!=null){for(const r of Array.isArray(e)?e:[e])if(Zd(MS,r,t),"visualVariables"in r&&r.visualVariables)for(const s of r.visualVariables)Zd(ES,s,t)}}function Zd(e,t,r){if(e)for(const s of e){const n=Yo(s,t),o=n&&typeof n!="function"&&r.get(n);o&&As(s,o.name,t)}}function W4(e,t){if(e!=null&&t?.fields?.length)if("startField"in e){const r=t.get(e.startField),s=t.get(e.endField);e.startField=r?.name??null,e.endField=s?.name??null}else{const r=t.get(e.startTimeField),s=t.get(e.endTimeField);e.startTimeField=r?.name??null,e.endTimeField=s?.name??null}}const Wa=new Set;function ly(e,t){return e&&t?(Wa.clear(),qn(Wa,e,t),Array.from(Wa).sort()):[]}function qn(e,t,r){if(r)if(t?.fields?.length)if(r.includes("*"))for(const{name:s}of t.fields)e.add(s);else for(const s of r)pa(e,t,s);else{if(r.includes("*"))return e.clear(),void e.add("*");for(const s of r)s!=null&&e.add(s)}}function pa(e,t,r){if(typeof r=="string")if(t){const s=t.get(r);s&&e.add(s.name)}else e.add(r)}function H4(e,t){return t==null||e==null?[]:t.includes("*")?(e.fields??[]).map((r=>r.name)):t}async function Kr(e,t,r){if(!r)return;const{arcadeUtils:s}=await oy(),n=s.extractFieldNames(r,t?.fields?.map((o=>o.name)));for(const o of n)pa(e,t,o)}async function uy(e,t,r){if(r&&r!=="1=1"){const s=await mS(r,t);if(!s.isStandardized)throw new G("fieldUtils:collectFilterFields","Where clause is not standardized",{where:r});qn(e,t,s.fieldNames)}}function Z4({displayField:e,fields:t}){return e||(t?.length?Ha(t,"name-or-title")||Ha(t,"unique-identifier")||Ha(t,"type-or-category")||AS(t):null)}function AS(e){for(const t of e){if(!t?.name)continue;const r=t.name.toLowerCase();if(r.includes("name")||r.includes("title"))return t.name}return null}function Ha(e,t){for(const r of e)if(r?.valueType&&r.valueType===t)return r.name;return null}async function J4(e,t){if(!t)return;const r=t.elevationInfo?.featureExpressionInfo;return r?r.collectRequiredFields(e,t.fieldsIndex):void 0}function PS(e,t,r){r.onStatisticExpression?Kr(e,t,r.onStatisticExpression.expression):e.add(r.onStatisticField)}async function Y4(e,t,r){if(!t||!r||!("fields"in r))return;const s=[],n=r.popupTemplate;s.push(NS(e,t,n)),r.fields&&s.push(...r.fields.map((async o=>PS(e,t.fieldsIndex,o)))),await Promise.all(s)}async function NS(e,t,r){const s=[];r?.expressionInfos&&s.push(...r.expressionInfos.map((o=>Kr(e,t.fieldsIndex,o.expression))));const n=r?.content;if(Array.isArray(n))for(const o of n)o.type==="expression"&&o.expressionInfo&&s.push(Kr(e,t.fieldsIndex,o.expressionInfo.expression));await Promise.all(s)}async function K4(e,t,r){t&&(t.timeInfo&&r?.timeExtent&&qn(e,t.fieldsIndex,[t.timeInfo.startField,t.timeInfo.endField]),t.floorInfo&&qn(e,t.fieldsIndex,[t.floorInfo.floorField]),r?.where!=null&&await uy(e,t.fieldsIndex,r.where))}async function Q4(e,t,r){t&&r&&await Promise.all(r.map((s=>IS(e,t,s))))}async function IS(e,t,r){t&&r&&(r.valueExpression?await Kr(e,t.fieldsIndex,r.valueExpression):r.field&&pa(e,t.fieldsIndex,r.field))}function X4(e){return e?ly(e.fieldsIndex,cy(e)):[]}function CS(e){if(!e)return[];const t=e.geometryFieldsInfo;return t?ly(e.fieldsIndex,[t.shapeAreaField,t.shapeLengthField]):[]}const kS=new Set(["oid","global-id","guid"]),DS=new Set(["oid","global-id"]),RS=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/shape/i,/perimeter/i,/objectid/i,/_i$/i];function FS(e){const t=new Set;hy(e).forEach((s=>t.add(s))),CS(e).forEach((s=>t.add(s.toLowerCase())));const r=e&&"infoFor3D"in e?e.infoFor3D:void 0;return r&&(Object.values(r.assetMapFieldRoles).forEach((s=>t.add(s.toLowerCase()))),Object.values(r.transformFieldRoles).forEach((s=>t.add(s.toLowerCase())))),Array.from(t)}function cy(e){if(!e)return[];const t="editFieldsInfo"in e&&e.editFieldsInfo;if(!t)return[];const{creationDateField:r,creatorField:s,editDateField:n,editorField:o}=t;return[r,s,n,o].filter(Boolean)}function hy(e){return cy(e).map((t=>t.toLowerCase()))}function eO(e,t){return e.editable&&!kS.has(e.type)&&!hy(t).includes(e.name?.toLowerCase()??"")}function tO(e,t){const r=e.name?.toLowerCase()??"";return!(t?.objectIdField!=null&&r===t.objectIdField.toLowerCase()||t?.globalIdField!=null&&r===t.globalIdField.toLowerCase()||FS(t).includes(r)||DS.has(e.type)||RS.some((s=>s.test(r))))}async function rO(e,t){const{labelingInfo:r,fieldsIndex:s}=t;r?.length&&await Promise.all(r.map((n=>LS(e,s,n))))}async function LS(e,t,r){if(!r)return;const s=r.getLabelExpression(),n=r.where;if(s.type==="arcade")await Kr(e,t,s.expression);else{const o=s.expression.match(/{[^}]*}/g);o&&o.forEach((a=>{pa(e,t,a.slice(1,-1))}))}await uy(e,t,n)}function sO(e){const t=e.defaultValue;return t!==void 0&&py(e,t)?t:e.nullable?null:void 0}function nO(e){const t=typeof e=="string"?{type:e}:e;return KS(t)?255:t.type==="esriFieldTypeDate"||t.type==="date"?8:void 0}function dy(e){return typeof e=="number"&&!isNaN(e)&&isFinite(e)}function jS(e){return e===null||dy(e)}function US(e){return e===null||Number.isInteger(e)}function fy(e){return e!=null&&typeof e=="string"}function zS(e){return e===null||fy(e)}function GS(){return!0}function py(e,t){let r;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"big-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":case"esriFieldTypeBigInteger":r=e.nullable?US:Number.isInteger;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":r=e.nullable?jS:dy;break;case"string":case"esriFieldTypeString":r=e.nullable?zS:fy;break;default:r=GS}return arguments.length===1?r:r(t)}const qS=["integer","small-integer","big-integer"],VS=["single","double"],BS=["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"],WS=["esriFieldTypeSingle","esriFieldTypeDouble"],HS=new Set([...qS,...BS]),ZS=new Set([...VS,...WS]),JS=lg(HS,ZS);function YS(e){return e!=null&&JS.has(e.type)}function KS(e){return e!=null&&(e.type==="string"||e.type==="esriFieldTypeString")}function iO(e){return e!=null&&(e.type==="date"||e.type==="esriFieldTypeDate")}function oO(e){return e!=null&&(e.type==="date-only"||e.type==="esriFieldTypeDateOnly")}function aO(e){return e!=null&&(e.type==="timestamp-offset"||e.type==="esriFieldTypeTimestampOffset")}function lO(e){return e!=null&&(e.type==="time-only"||e.type==="esriFieldTypeTimeOnly")}function uO(e){return e!=null&&(e.type==="oid"||e.type==="esriFieldTypeOID")}function cO(e){return e!=null&&(e.type==="global-id"||e.type==="esriFieldTypeGlobalID")}function hO(e,t){return QS(e,t)===null}var Uo,zo;function dO(e){return e==null||typeof e=="number"&&isNaN(e)?null:e}function QS(e,t){return e==null||e.nullable&&t===null?null:YS(e)&&!XS(e.type,Number(t))?Uo.OUT_OF_RANGE:py(e,t)?e.domain?$S(e,t):null:zo.INVALID_TYPE}function XS(e,t){const r=typeof e=="string"?my(e):e;if(!r)return!1;const s=r.min,n=r.max;return r.isInteger?Number.isInteger(t)&&t>=s&&t<=n:t>=s&&t<=n}function my(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return e5;case"esriFieldTypeInteger":case"integer":return t5;case"esriFieldTypeBigInteger":case"big-integer":return r5;case"esriFieldTypeSingle":case"single":return s5;case"esriFieldTypeDouble":case"double":return n5}}(function(e){e.OUT_OF_RANGE="numeric-range-validation-error::out-of-range"})(Uo||(Uo={})),(function(e){e.INVALID_TYPE="type-validation-error::invalid-type"})(zo||(zo={}));const e5={min:-32768,max:32767,isInteger:!0,rawMin:-32768,rawMax:32767},t5={min:-2147483648,max:2147483647,isInteger:!0,rawMin:-2147483648,rawMax:2147483647},r5={min:-Number.MAX_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,isInteger:!0,rawMin:-Number.MAX_SAFE_INTEGER,rawMax:Number.MAX_SAFE_INTEGER},s5={min:-34e37,max:12e37,isInteger:!1,rawMin:-34e37,rawMax:12e37},n5={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1,rawMin:-Number.MAX_VALUE,rawMax:Number.MAX_VALUE};function fO(e,t,r){switch(e){case Es.INVALID_CODED_VALUE:return`Value ${r} is not in the coded domain - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case Es.VALUE_OUT_OF_RANGE:return`Value ${r} is out of the range of valid values - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case zo.INVALID_TYPE:return`Value ${r} is not a valid value for the field type - field: ${t.name}, type: ${t.type}, nullable: ${t.nullable}`;case Uo.OUT_OF_RANGE:{const{min:s,max:n}=my(t.type);return`Value ${r} is out of range for the number type - field: ${t.name}, type: ${t.type}, value range is ${s} to ${n}`}}}function pO(e,t){return!i5(e,t,null)}function i5(e,t,r){if(!t?.attributes||!e)return!0;const s=new Set(Object.keys(t.attributes));let n=!1;for(const o of e)if(!s.has(o)&&(n=!0,r==null))break;return n}function mO(e){return!!e&&["raster.itempixelvalue","raster.servicepixelvalue"].some((t=>e.toLowerCase().startsWith(t)))}let Wi=class extends N{constructor(t){super(t),this.type=null}};u([h({type:["attachments","custom","fields","media","text","expression","relationship"],readOnly:!0,json:{read:!1,write:!0}})],Wi.prototype,"type",void 0),Wi=u([v("esri.popup.content.Content")],Wi);const pr=Wi;var Zl;let $r=Zl=class extends pr{constructor(e){super(e),this.description=null,this.displayType="auto",this.title=null,this.type="attachments"}clone(){return new Zl({description:this.description,displayType:this.displayType,title:this.title})}};u([h({type:String,json:{write:!0}})],$r.prototype,"description",void 0),u([h({type:["auto","preview","list"],json:{write:!0}})],$r.prototype,"displayType",void 0),u([h({type:String,json:{write:!0}})],$r.prototype,"title",void 0),u([h({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],$r.prototype,"type",void 0),$r=Zl=u([v("esri.popup.content.AttachmentsContent")],$r);const Go=$r;var Jl;let _r=Jl=class extends pr{constructor(e){super(e),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new Jl({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?T(this.outFields):null})}};u([h()],_r.prototype,"creator",void 0),u([h()],_r.prototype,"destroyer",void 0),u([h()],_r.prototype,"outFields",void 0),u([h({type:["custom"],readOnly:!0})],_r.prototype,"type",void 0),_r=Jl=u([v("esri.popup.content.CustomContent")],_r);const o5=_r;var Yl;let ns=Yl=class extends N{constructor(e){super(e),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new Yl({title:this.title,expression:this.expression})}};u([h({type:String,json:{write:!0}})],ns.prototype,"title",void 0),u([h({type:String,json:{write:!0}})],ns.prototype,"expression",void 0),u([h({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],ns.prototype,"returnType",void 0),ns=Yl=u([v("esri.popup.ElementExpressionInfo")],ns);const a5=ns;var Kl;let tn=Kl=class extends pr{constructor(e){super(e),this.expressionInfo=null,this.type="expression"}clone(){return new Kl({expressionInfo:this.expressionInfo?.clone()})}};u([h({type:a5,json:{write:!0}})],tn.prototype,"expressionInfo",void 0),u([h({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],tn.prototype,"type",void 0),tn=Kl=u([v("esri.popup.content.ExpressionContent")],tn);const Kc=tn;let is=class extends Xr(N){constructor(t){super(t),this.dateFormat=null,this.digitSeparator=!1,this.places=null}};u([k(nS)],is.prototype,"dateFormat",void 0),u([h({type:Boolean,json:{write:!0}})],is.prototype,"digitSeparator",void 0),u([h({type:we,json:{write:!0}})],is.prototype,"places",void 0),is=u([v("esri.popup.support.FieldInfoFormat")],is);const l5=is;var Ql;let qe=Ql=class extends N{constructor(e){super(e),this.fieldName=null,this.format=null,this.isEditable=!0,this.label=null,this.stringFieldOption="text-box",this.statisticType=null,this.tooltip=null,this.visible=!0}clone(){return new Ql({fieldName:this.fieldName,format:this.format?T(this.format):null,isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};u([h({type:String,json:{write:!0}})],qe.prototype,"fieldName",void 0),u([h({type:l5,json:{write:!0}})],qe.prototype,"format",void 0),u([h({type:Boolean,json:{write:{alwaysWriteDefaults:!0},default:!0}})],qe.prototype,"isEditable",void 0),u([h({type:String,json:{write:!0}})],qe.prototype,"label",void 0),u([k(new It({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],qe.prototype,"stringFieldOption",void 0),u([h({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],qe.prototype,"statisticType",void 0),u([h({type:String,json:{write:!0}})],qe.prototype,"tooltip",void 0),u([h({type:Boolean,json:{write:!0}})],qe.prototype,"visible",void 0),qe=Ql=u([v("esri.popup.FieldInfo")],qe);const yy=qe;var Xl;let _t=Xl=class extends pr{constructor(e){super(e),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}writeFieldInfos(e,t){t.fieldInfos=e&&e.map((r=>r.toJSON()))}clone(){return new Xl(T({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};u([h({type:Object,json:{write:!0}})],_t.prototype,"attributes",void 0),u([h({type:String,json:{write:!0}})],_t.prototype,"description",void 0),u([h({type:[yy]})],_t.prototype,"fieldInfos",void 0),u([ee("fieldInfos")],_t.prototype,"writeFieldInfos",null),u([h({type:String,json:{write:!0}})],_t.prototype,"title",void 0),u([h({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],_t.prototype,"type",void 0),_t=Xl=u([v("esri.popup.content.FieldsContent")],_t);const qo=_t;let Sr=class extends N{constructor(t){super(t),this.altText=null,this.caption="",this.title="",this.type=null}};u([h({type:String,json:{write:!0}})],Sr.prototype,"altText",void 0),u([h({type:String,json:{write:!0}})],Sr.prototype,"caption",void 0),u([h({type:String,json:{write:!0}})],Sr.prototype,"title",void 0),u([h({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],Sr.prototype,"type",void 0),Sr=u([v("esri.popup.content.mixins.MediaInfo")],Sr);const Qc=Sr;var eu;let xr=eu=class extends Ae{constructor(e){super(e),this.color=null,this.fieldName=null,this.tooltip=null,this.value=null}clone(){return new eu({fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}};u([h()],xr.prototype,"color",void 0),u([h()],xr.prototype,"fieldName",void 0),u([h()],xr.prototype,"tooltip",void 0),u([h()],xr.prototype,"value",void 0),xr=eu=u([v("esri.popup.content.support.ChartMediaInfoValueSeries")],xr);const u5=xr;var tu;let Ht=tu=class extends N{constructor(e){super(e),this.colors=null,this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new tu({colors:T(this.colors),fields:T(this.fields),normalizeField:this.normalizeField,tooltipField:this.tooltipField})}};u([h({type:[Y],json:{type:[[we]],write:!0}})],Ht.prototype,"colors",void 0),u([h({type:[String],json:{write:!0}})],Ht.prototype,"fields",void 0),u([h({type:String,json:{write:!0}})],Ht.prototype,"normalizeField",void 0),u([h({type:[u5],json:{read:!1}})],Ht.prototype,"series",void 0),u([h({type:String,json:{write:!0}})],Ht.prototype,"tooltipField",void 0),Ht=tu=u([v("esri.popup.content.support.ChartMediaInfoValue")],Ht);const c5=Ht;let rn=class extends Qc{constructor(t){super(t),this.type=null,this.value=null}};u([h({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],rn.prototype,"type",void 0),u([h({type:c5,json:{write:!0}})],rn.prototype,"value",void 0),rn=u([v("esri.popup.content.mixins.ChartMediaInfo")],rn);const ma=rn,ya=tt()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});var ru;let Hi=ru=class extends ma{constructor(e){super(e),this.type="bar-chart"}clone(){return new ru({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};u([h({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:ya.write}})],Hi.prototype,"type",void 0),Hi=ru=u([v("esri.popup.content.BarChartMediaInfo")],Hi);const gy=Hi;var su;let Zi=su=class extends ma{constructor(e){super(e),this.type="column-chart"}clone(){return new su({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};u([h({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:ya.write}})],Zi.prototype,"type",void 0),Zi=su=u([v("esri.popup.content.ColumnChartMediaInfo")],Zi);const wy=Zi;var nu;let sn=nu=class extends N{constructor(e){super(e),this.linkURL=null,this.sourceURL=null}clone(){return new nu({linkURL:this.linkURL,sourceURL:this.sourceURL})}};u([h({type:String,json:{write:!0}})],sn.prototype,"linkURL",void 0),u([h({type:String,json:{write:!0}})],sn.prototype,"sourceURL",void 0),sn=nu=u([v("esri.popup.content.support.ImageMediaInfoValue")],sn);const h5=sn;var iu;let os=iu=class extends Qc{constructor(e){super(e),this.refreshInterval=null,this.type="image",this.value=null}clone(){return new iu({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?this.value.clone():null})}};u([h({type:Number,json:{write:!0}})],os.prototype,"refreshInterval",void 0),u([h({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],os.prototype,"type",void 0),u([h({type:h5,json:{write:!0}})],os.prototype,"value",void 0),os=iu=u([v("esri.popup.content.ImageMediaInfo")],os);const vy=os;var ou;let Ji=ou=class extends ma{constructor(e){super(e),this.type="line-chart"}clone(){return new ou({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};u([h({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:ya.write}})],Ji.prototype,"type",void 0),Ji=ou=u([v("esri.popup.content.LineChartMediaInfo")],Ji);const by=Ji;var au;let Yi=au=class extends ma{constructor(e){super(e),this.type="pie-chart"}clone(){return new au({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};u([h({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:ya.write}})],Yi.prototype,"type",void 0),Yi=au=u([v("esri.popup.content.PieChartMediaInfo")],Yi);const $y=Yi,_y={base:Qc,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":gy,"column-chart":wy,"line-chart":by,"pie-chart":$y,image:vy}};var lu;let Ve=lu=class extends pr{constructor(e){super(e),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(e){return e&&e.map((t=>t.type==="image"?vy.fromJSON(t):t.type==="barchart"?gy.fromJSON(t):t.type==="columnchart"?wy.fromJSON(t):t.type==="linechart"?by.fromJSON(t):t.type==="piechart"?$y.fromJSON(t):void 0)).filter(Boolean)}writeMediaInfos(e,t){t.mediaInfos=e&&e.map((r=>r.toJSON()))}clone(){return new lu(T({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};u([h()],Ve.prototype,"activeMediaInfoIndex",void 0),u([h({type:Object,json:{write:!0}})],Ve.prototype,"attributes",void 0),u([h({type:String,json:{write:!0}})],Ve.prototype,"description",void 0),u([h({types:[_y]})],Ve.prototype,"mediaInfos",void 0),u([he("mediaInfos")],Ve.prototype,"readMediaInfos",null),u([ee("mediaInfos")],Ve.prototype,"writeMediaInfos",null),u([h({type:String,json:{write:!0}})],Ve.prototype,"title",void 0),u([h({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],Ve.prototype,"type",void 0),Ve=lu=u([v("esri.popup.content.MediaContent")],Ve);const Vo=Ve;var uu;let nn=uu=class extends N{constructor(e){super(e),this.field=null,this.order=null}clone(){return new uu({field:this.field,order:this.order})}};u([h({type:String,json:{write:!0}})],nn.prototype,"field",void 0),u([h({type:["asc","desc"],json:{write:!0}})],nn.prototype,"order",void 0),nn=uu=u([v("esri.popup.support.RelatedRecordsInfoFieldOrder")],nn);const Sy=nn;let at=class extends Xr(pr){constructor(t){super(t),this.description=null,this.displayCount=null,this.displayType="list",this.orderByFields=null,this.relationshipId=null,this.title=null,this.type="relationship"}};u([h({type:String,json:{write:!0}})],at.prototype,"description",void 0),u([h({type:Number,json:{type:we,write:!0}})],at.prototype,"displayCount",void 0),u([h({type:["list"],json:{write:!0}})],at.prototype,"displayType",void 0),u([h({type:[Sy],json:{write:!0}})],at.prototype,"orderByFields",void 0),u([h({type:Number,json:{type:we,write:!0}})],at.prototype,"relationshipId",void 0),u([h({type:String,json:{write:!0}})],at.prototype,"title",void 0),u([h({type:["relationship"],readOnly:!0,json:{read:!1,write:!0}})],at.prototype,"type",void 0),at=u([v("esri.popup.content.RelationshipContent")],at);const Bo=at;var cu;let on=cu=class extends pr{constructor(e){super(e),this.text=null,this.type="text"}clone(){return new cu({text:this.text})}};u([h({type:String,json:{write:!0}})],on.prototype,"text",void 0),u([h({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],on.prototype,"type",void 0),on=cu=u([v("esri.popup.content.TextContent")],on);const Wo=on,d5={base:null,key:"type",typeMap:{attachment:Go,media:Vo,text:Wo,expression:Kc,field:qo,relationship:Bo}};var hu;let Tr=hu=class extends N{constructor(e){super(e),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new hu({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};u([h({type:String,json:{write:!0}})],Tr.prototype,"name",void 0),u([h({type:String,json:{write:!0}})],Tr.prototype,"title",void 0),u([h({type:String,json:{write:!0}})],Tr.prototype,"expression",void 0),u([h({type:["string","number"],json:{write:!0}})],Tr.prototype,"returnType",void 0),Tr=hu=u([v("esri.popup.ExpressionInfo")],Tr);const f5=Tr;var du;let an=du=class extends N{constructor(e){super(e),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new du({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};u([h({type:Boolean,json:{write:!0}})],an.prototype,"returnTopmostRaster",void 0),u([h({type:Boolean,json:{write:!0}})],an.prototype,"showNoDataRecords",void 0),an=du=u([v("esri.popup.LayerOptions")],an);const p5=an;var fu;let ln=fu=class extends N{constructor(e){super(e),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new fu({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?T(this.orderByFields):null})}};u([h({type:Boolean,json:{write:!0}})],ln.prototype,"showRelatedRecords",void 0),u([h({type:[Sy],json:{write:!0}})],ln.prototype,"orderByFields",void 0),ln=fu=u([v("esri.popup.RelatedRecordsInfo")],ln);const m5=ln;var pu;let De=pu=class extends Z0(Ae){constructor(e){super(e),this.active=!1,this.className=null,this.disabled=!1,this.icon=null,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new pu({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};u([h()],De.prototype,"active",void 0),u([h()],De.prototype,"className",void 0),u([h()],De.prototype,"disabled",void 0),u([h()],De.prototype,"icon",void 0),u([h()],De.prototype,"id",void 0),u([h()],De.prototype,"indicator",void 0),u([h()],De.prototype,"title",void 0),u([h()],De.prototype,"type",void 0),u([h()],De.prototype,"visible",void 0),De=pu=u([v("esri.support.actions.ActionBase")],De);const Xc=De;var mu;let Ki=mu=class extends Xc{constructor(e){super(e),this.image=null,this.type="button"}clone(){return new mu({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};u([h()],Ki.prototype,"image",void 0),Ki=mu=u([v("esri.support.Action.ActionButton")],Ki);const y5=Ki;var yu;let un=yu=class extends Xc{constructor(e){super(e),this.image=null,this.type="toggle",this.value=!1}clone(){return new yu({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};u([h()],un.prototype,"image",void 0),u([h()],un.prototype,"value",void 0),un=yu=u([v("esri.support.Action.ActionToggle")],un);const g5=un,w5="esri.PopupTemplate",v5=V.getLogger(w5),Js="relationships/",Jd="expression/",b5=te.ofType({key:"type",defaultKeyValue:"button",base:Xc,typeMap:{button:y5,toggle:g5}}),$5={base:pr,key:"type",typeMap:{media:Vo,custom:o5,text:Wo,attachments:Go,fields:qo,expression:Kc,relationship:Bo}},_5=new Set(["attachments","fields","media","text","expression","relationship"]);let ae=class extends Xr(N){constructor(){super(...arguments),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title=""}castContent(e){return Array.isArray(e)?e.map((t=>Vr($5,t))):typeof e=="string"||typeof e=="function"||e instanceof HTMLElement||Uf(e)?e:(v5.error("content error","unsupported content value",{value:e}),null)}readContent(e,t){const{popupElements:r}=t;return Array.isArray(r)&&r.length>0?this._readPopupInfoElements(t.description,t.mediaInfos,r):this._readPopupInfo(t)}writeContent(e,t,r,s){typeof e!="string"?Array.isArray(e)&&(t.popupElements=e.filter((n=>_5.has(n.type))).map((n=>n?.toJSON(s))),t.popupElements.forEach((n=>{n.type==="attachments"?this._writeAttachmentContent(t):n.type==="media"?this._writeMediaContent(n,t):n.type==="text"?this._writeTextContent(n,t):n.type==="relationship"&&this._writeRelationshipContent(n,t)}))):t.description=e}writeFieldInfos(e,t,r,s){const{content:n}=this,o=Array.isArray(n)?n:null;if(e){const a=o?o.filter((c=>c.type==="fields")):[],l=a.length&&a.every((c=>c.fieldInfos?.length));t.fieldInfos=e.filter(Boolean).map((c=>{const d=c.toJSON(s);return l&&(d.visible=!1),d}))}if(o)for(const a of o)a.type==="fields"&&this._writeFieldsContent(a,t)}writeLayerOptions(e,t,r,s){t[r]=!e||e.showNoDataRecords===null&&e.returnTopmostRaster===null?null:e.toJSON(s)}writeTitle(e,t){t.title=e||""}async collectRequiredFields(e,t){const r=this.expressionInfos||[];await this._collectExpressionInfoFields(e,t,[...r,...this._getContentExpressionInfos(this.content,r)]),qn(e,t,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(e){const t=new Set;return await this.collectRequiredFields(t,e),[...t].sort()}_writeFieldsContent(e,t){if(!Array.isArray(e.fieldInfos)||!e.fieldInfos.length)return;const r=T(e.fieldInfos);Array.isArray(t.fieldInfos)?r.forEach((s=>{const n=t.fieldInfos.find((o=>o.fieldName.toLowerCase()===s.fieldName.toLowerCase()));n?n.visible=!0:t.fieldInfos.push(s)})):t.fieldInfos=r}_writeAttachmentContent(e){e.showAttachments||(e.showAttachments=!0)}_writeRelationshipContent(e,t){const r=e.orderByFields?.map((n=>this._toFieldOrderJSON(n,e.relationshipId)))||[],s=[...t.relatedRecordsInfo?.orderByFields||[],...r];t.relatedRecordsInfo={showRelatedRecords:!0,...s?.length&&{orderByFields:s}}}_writeTextContent(e,t){!t.description&&e.text&&(t.description=e.text)}_writeMediaContent(e,t){if(!Array.isArray(e.mediaInfos)||!e.mediaInfos.length)return;const r=T(e.mediaInfos);Array.isArray(t.mediaInfos)?t.mediaInfos=[...t.mediaInfos,...r]:t.mediaInfos=r}_readPopupInfoElements(e,t,r){const s={description:!1,mediaInfos:!1};return r.map((n=>n.type==="media"?(n.mediaInfos||!t||s.mediaInfos||(n.mediaInfos=t,s.mediaInfos=!0),Vo.fromJSON(n)):n.type==="text"?(n.text||!e||s.description||(n.text=e,s.description=!0),Wo.fromJSON(n)):n.type==="attachments"?Go.fromJSON(n):n.type==="fields"?qo.fromJSON(n):n.type==="expression"?Kc.fromJSON(n):n.type==="relationship"?Bo.fromJSON(n):void 0)).filter(Boolean)}_toRelationshipContent(e){const{field:t,order:r}=e;if(!t?.startsWith(Js))return null;const s=t.replace(Js,"").split("/");if(s.length!==2)return null;const n=parseInt(s[0],10),o=s[1];return typeof n=="number"&&o?Bo.fromJSON({relationshipId:n,orderByFields:[{field:o,order:r}]}):null}_toFieldOrderJSON(e,t){const{order:r,field:s}=e;return{field:`${Js}${t}/${s}`,order:r}}_readPopupInfo({description:e,mediaInfos:t,showAttachments:r,relatedRecordsInfo:s={showRelatedRecords:!1}}){const n=[];e?n.push(new Wo({text:e})):n.push(new qo),Array.isArray(t)&&t.length&&n.push(Vo.fromJSON({mediaInfos:t})),r&&n.push(Go.fromJSON({displayType:"auto"}));const{showRelatedRecords:o,orderByFields:a}=s;return o&&a?.length&&a.forEach((l=>{const c=this._toRelationshipContent(l);c&&n.push(c)})),n.length?n:e}_getContentElementFields(e){const t=e?.type;if(t==="attachments")return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description)];if(t==="custom")return e.outFields||[];if(t==="fields")return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description),...this._getFieldInfoFields(e.fieldInfos??this.fieldInfos)];if(t==="media"){const r=e.mediaInfos||[];return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description),...r.reduce(((s,n)=>[...s,...this._getMediaInfoFields(n)]),[])]}return t==="text"?this._extractFieldNames(e.text):[]}_getMediaInfoFields(e){const{caption:t,title:r,value:s}=e,n=s||{},{fields:o,normalizeField:a,tooltipField:l,sourceURL:c,linkURL:d}=n,p=[...this._extractFieldNames(r),...this._extractFieldNames(t),...this._extractFieldNames(c),...this._extractFieldNames(d),...o??[]];return a&&p.push(a),l&&p.push(l),p}_getContentExpressionInfos(e,t){return Array.isArray(e)?e.reduce(((r,s)=>[...r,...s.type==="expression"&&s.expressionInfo?[s.expressionInfo]:[]]),t):[]}_getContentFields(e){return typeof e=="string"?this._extractFieldNames(e):Array.isArray(e)?e.reduce(((t,r)=>[...t,...this._getContentElementFields(r)]),[]):[]}async _collectExpressionInfoFields(e,t,r){r&&await Promise.all(r.map((s=>Kr(e,t,s.expression))))}_getFieldInfoFields(e){return e?e.filter((t=>t.visible===void 0||!!t.visible)).map((t=>t.fieldName)).filter((t=>!t.startsWith(Js)&&!t.startsWith(Jd))):[]}_getActionsFields(e){return e?e.toArray().reduce(((t,r)=>[...t,...this._getActionFields(r)]),[]):[]}_getActionFields(e){const{className:t,title:r,type:s}=e,n=s==="button"||s==="toggle"?e.image:"";return[...this._extractFieldNames(r),...this._extractFieldNames(t),...this._extractFieldNames(n)]}_getTitleFields(e){return typeof e=="string"?this._extractFieldNames(e):[]}_extractFieldNames(e){if(!e||typeof e!="string")return[];const t=/{[^}]*}/g,r=e.match(t);if(!r)return[];const s=/\{(\w+):.+\}/,n=r.filter((o=>!(o.indexOf(`{${Js}`)===0||o.indexOf(`{${Jd}`)===0))).map((o=>o.replace(s,"{$1}")));return n?n.map((o=>o.slice(1,-1))):[]}};u([h({type:b5})],ae.prototype,"actions",void 0),u([h()],ae.prototype,"content",void 0),u([Kn("content")],ae.prototype,"castContent",null),u([he("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments","relatedRecordsInfo"])],ae.prototype,"readContent",null),u([ee("content",{popupElements:{type:te.ofType(d5)},showAttachments:{type:Boolean},mediaInfos:{type:te.ofType(_y)},description:{type:String},relatedRecordsInfo:{type:m5}})],ae.prototype,"writeContent",null),u([h({type:[f5],json:{write:!0}})],ae.prototype,"expressionInfos",void 0),u([h({type:[yy]})],ae.prototype,"fieldInfos",void 0),u([ee("fieldInfos")],ae.prototype,"writeFieldInfos",null),u([h({type:p5})],ae.prototype,"layerOptions",void 0),u([ee("layerOptions")],ae.prototype,"writeLayerOptions",null),u([h({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],ae.prototype,"lastEditInfoEnabled",void 0),u([h()],ae.prototype,"outFields",void 0),u([h()],ae.prototype,"overwriteActions",void 0),u([h()],ae.prototype,"returnGeometry",void 0),u([h({json:{type:String}})],ae.prototype,"title",void 0),u([ee("title")],ae.prototype,"writeTitle",null),ae=u([v("esri.PopupTemplate")],ae);const S5=ae,Yd=new It({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let x5=0,as=class extends N{constructor(t){super(t),this.id="sym"+x5++,this.type=null,this.color=new Y([0,0,0,1])}readColor(t){return t?.[0]!=null?[t[0],t[1],t[2],t[3]/255]:t}async collectRequiredFields(t,r){}hash(){return JSON.stringify(this.toJSON())}clone(){}};u([h({type:Yd.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:Yd.write}}})],as.prototype,"type",void 0),u([h({type:Y,json:{write:{allowNull:!0}}})],as.prototype,"color",void 0),u([he("color")],as.prototype,"readColor",null),as=u([v("esri.symbols.Symbol")],as);const Pe=as;var gu;let Zt=gu=class extends Pe{constructor(e){super(e),this.data=null,this.type="cim"}readData(e,t){return t}writeData(e,t){Object.assign(t,e)}async collectRequiredFields(e,t){if(this.data?.type==="CIMSymbolReference"){const r=this.data.primitiveOverrides;if(r){const s=r.map((n=>{const o=n.valueExpressionInfo;return Kr(e,t,o.expression)}));await Promise.all(s)}}}clone(){return new gu({data:T(this.data)})}hash(){return wf(JSON.stringify(this.data)).toString()}};u([h({json:{write:!1}})],Zt.prototype,"color",void 0),u([h({json:{write:!0}})],Zt.prototype,"data",void 0),u([he("data",["symbol"])],Zt.prototype,"readData",null),u([ee("data",{})],Zt.prototype,"writeData",null),u([k({CIMSymbolReference:"cim"},{readOnly:!0})],Zt.prototype,"type",void 0),Zt=gu=u([v("esri.symbols.CIMSymbol")],Zt);const ga=Zt;let ls=class extends N{constructor(t){super(t),this.enabled=!0,this.type=null,this.ignoreDrivers=!1}writeEnabled(t,r,s){t||(r[s]=t)}};u([h({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],ls.prototype,"enabled",void 0),u([ee("enabled")],ls.prototype,"writeEnabled",null),u([h({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0})],ls.prototype,"type",void 0),ls=u([v("esri.symbols.Symbol3DLayer")],ls);const gt=ls;function T5(e,t){const r=t.transparency!=null?yb(t.transparency):1,s=t.color;return s&&Array.isArray(s)?new Y([s[0]||0,s[1]||0,s[2]||0,r]):null}function O5(e,t){t.color=e.toJSON().slice(0,3);const r=mb(e.a);r!==0&&(t.transparency=r)}const mr={type:Y,json:{type:[we],default:null,read:{source:["color","transparency"],reader:T5},write:{target:{color:{type:[we]},transparency:{type:we}},writer:O5}}},mt={type:Number,cast:Q,json:{write:!0}};let Or=class extends N{constructor(t){super(t),this.color=new Y([0,0,0,1]),this.extensionLength=0,this.size=Jr(1)}clone(){}cloneProperties(){return{color:T(this.color),size:this.size,extensionLength:this.extensionLength}}};u([h({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Or.prototype,"type",void 0),u([h(mr)],Or.prototype,"color",void 0),u([h({...mt,json:{write:{overridePolicy:e=>({enabled:!!e})}}})],Or.prototype,"extensionLength",void 0),u([h(mt)],Or.prototype,"size",void 0),Or=u([v("esri.symbols.edges.Edges3D")],Or);const eh=Or;var wu;let Qi=wu=class extends eh{constructor(e){super(e),this.type="sketch"}clone(){return new wu(this.cloneProperties())}};u([k({sketch:"sketch"},{readOnly:!0})],Qi.prototype,"type",void 0),Qi=wu=u([v("esri.symbols.edges.SketchEdges3D")],Qi);const M5=Qi;var vu;let Xi=vu=class extends eh{constructor(e){super(e),this.type="solid"}clone(){return new vu(this.cloneProperties())}};u([k({solid:"solid"},{readOnly:!0})],Xi.prototype,"type",void 0),Xi=vu=u([v("esri.symbols.support.SolidEdges3D")],Xi);const E5=Xi,xy={types:{key:"type",base:eh,typeMap:{solid:E5,sketch:M5}},json:{write:!0}};var bu;let je=bu=class extends N{constructor(e){super(e),this.color=null}clone(){const e={color:this.color!=null?this.color.clone():null};return new bu(e)}};u([h(mr)],je.prototype,"color",void 0),je=bu=u([v("esri.symbols.support.Symbol3DMaterial")],je);var $u;let Jt=$u=class extends gt{constructor(e){super(e),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){return new $u({edges:this.edges&&this.edges.clone(),enabled:this.enabled,material:this.material!=null?this.material.clone():null,castShadows:this.castShadows,size:this.size})}};u([k({Extrude:"extrude"},{readOnly:!0})],Jt.prototype,"type",void 0),u([h({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],Jt.prototype,"size",void 0),u([h({type:je,json:{write:!0}})],Jt.prototype,"material",void 0),u([h({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Jt.prototype,"castShadows",void 0),u([h(xy)],Jt.prototype,"edges",void 0),Jt=$u=u([v("esri.symbols.ExtrudeSymbol3DLayer")],Jt);const Ty=Jt;let cn=class extends Pe{constructor(t){super(t),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};u([k({esriSLS:"simple-line"},{readOnly:!0})],cn.prototype,"type",void 0),u([h({type:Number,cast:Q,json:{write:!0}})],cn.prototype,"width",void 0),cn=u([v("esri.symbols.LineSymbol")],cn);const A5=cn,P5=["begin","end","begin-end"],Oy=["arrow","circle","square","diamond","cross","x"];var _u;let lt=_u=class extends N{constructor(e){super(e),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(e,t,r,s){t[r]=s?.origin==="web-map"?"arrow":e}set color(e){this._set("color",e)}readColor(e){return e?.[0]!=null?[e[0],e[1],e[2],e[3]/255]:e}writeColor(e,t,r,s){s?.origin==="web-map"||(t[r]=e)}clone(){return new _u({color:T(this.color),placement:this.placement,style:this.style})}hash(){return`${this.placement}.${this.color?.hash()}.${this.style}`}};u([h({type:["begin","end","begin-end"],json:{write:!0}})],lt.prototype,"placement",void 0),u([k({"line-marker":"line-marker"},{readOnly:!0}),h({json:{origins:{"web-map":{write:!1}}}})],lt.prototype,"type",void 0),u([h({type:Oy})],lt.prototype,"style",void 0),u([ee("style")],lt.prototype,"writeStyle",null),u([h({type:Y,value:null,json:{write:{allowNull:!0}}})],lt.prototype,"color",null),u([he("color")],lt.prototype,"readColor",null),u([ee("color")],lt.prototype,"writeColor",null),lt=_u=u([v("esri.symbols.LineSymbolMarker")],lt);const N5=lt;var Su;const Za=new It({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSInsideFrame:"inside-frame",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let St=Su=class extends A5{constructor(...e){super(...e),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(e,t,r,s,n,o){if(e&&typeof e!="string")return e;const a={};return e!=null&&(a.style=e),t!=null&&(a.color=t),r!=null&&(a.width=Q(r)),s!=null&&(a.cap=s),n!=null&&(a.join=n),o!=null&&(a.miterLimit=Q(o)),a}clone(){return new Su({color:T(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:this.marker?.clone()})}hash(){return`${super.hash()}.${this.color?.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${this.marker?.hash()}`}};u([k({esriSLS:"simple-line"},{readOnly:!0})],St.prototype,"type",void 0),u([h({type:Za.apiValues,json:{read:Za.read,write:Za.write}})],St.prototype,"style",void 0),u([h({type:["butt","round","square"],json:{write:{overridePolicy:(e,t,r)=>({enabled:e!=="round"&&r?.origin==null})}}})],St.prototype,"cap",void 0),u([h({type:["miter","round","bevel"],json:{write:{overridePolicy:(e,t,r)=>({enabled:e!=="round"&&r?.origin==null})}}})],St.prototype,"join",void 0),u([h({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":N5}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],St.prototype,"marker",void 0),u([h({type:Number,json:{read:!1,write:!1}})],St.prototype,"miterLimit",void 0),St=Su=u([v("esri.symbols.SimpleLineSymbol")],St);const Fs=St;let hn=class extends Pe{constructor(t){super(t),this.outline=null,this.type=null}hash(){return`${this.type}.${this.outline&&this.outline.hash()}`}};u([h({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":Fs}},json:{default:null,write:!0}})],hn.prototype,"outline",void 0),u([h({type:["simple-fill","picture-fill"],readOnly:!0})],hn.prototype,"type",void 0),hn=u([v("esri.symbols.FillSymbol")],hn);const My=hn;let eo=class extends N{constructor(t){super(t)}clone(){}};u([h({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],eo.prototype,"type",void 0),eo=u([v("esri.symbols.patterns.LinePattern3D")],eo);const Ey=eo,I5=["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"];var xu;const C5=tt()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let dn=xu=class extends Ey{constructor(e){super(e),this.type="style",this.style="solid"}clone(){const e={style:this.style};return new xu(e)}};u([h({type:["style"]})],dn.prototype,"type",void 0),u([k(C5),h({type:I5})],dn.prototype,"style",void 0),dn=xu=u([v("esri.symbols.patterns.LineStylePattern3D")],dn);const th=dn;let to=class extends N{constructor(t){super(t)}clone(){}};u([h({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],to.prototype,"type",void 0),to=u([v("esri.symbols.patterns.Pattern3D")],to);const Ay=to,k5=["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"];var Tu;let fn=Tu=class extends Ay{constructor(e){super(e),this.type="style",this.style="solid"}clone(){const e={style:this.style};return new Tu(e)}};u([h({type:["style"]})],fn.prototype,"type",void 0),u([h({type:k5,json:{read:!0,write:!0}})],fn.prototype,"style",void 0),fn=Tu=u([v("esri.symbols.patterns.StylePattern3D")],fn);const Py=fn,D5={types:{key:"type",base:Ay,typeMap:{style:Py}},json:{write:!0}},Ny={types:{key:"type",base:Ey,typeMap:{style:th}},json:{write:!0}},Pn=new Y("white");new Y("black");const R5=new Y([255,255,255,0]);function F5(e){return e.r===0&&e.g===0&&e.b===0}var Ou;let Nn=Ou=class extends je{constructor(e){super(e),this.colorMixMode=null}clone(){const e={color:this.color!=null?this.color.clone():null,colorMixMode:this.colorMixMode};return new Ou(e)}};u([k({multiply:"multiply",replace:"replace",tint:"tint"})],Nn.prototype,"colorMixMode",void 0),Nn=Ou=u([v("esri.symbols.support.Symbol3DFillMaterial")],Nn);function rh(e=G5){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function sh(e,t,r,s,n,o,a=rh()){return a[0]=e,a[1]=t,a[2]=r,a[3]=s,a[4]=n,a[5]=o,a}function EO(e,t){const r=isFinite(e[2])||isFinite(e[5]);return new yt(r?{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],zmin:e[2],zmax:e[5],spatialReference:t}:{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],spatialReference:t})}function AO(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[3]),e[4]=Math.max(e[4],t[4]),e[5]=Math.max(e[5],t[5])}function PO(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[0]),e[4]=Math.max(e[4],t[1]),e[5]=Math.max(e[5],t[2])}function L5(e){return e[0]>=e[3]?0:e[3]-e[0]}function j5(e){return e[1]>=e[4]?0:e[4]-e[1]}function U5(e){return e[2]>=e[5]?0:e[5]-e[2]}function NO(e,t=[0,0,0]){return t[0]=L5(e),t[1]=j5(e),t[2]=U5(e),t}function IO(e,t,r=e){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r!==e&&(r[3]=e[3],r[4]=e[4],r[5]=e[5]),r}function CO(e,t,r=e){return r[3]=t[0],r[4]=t[1],r[5]=t[2],r!==e&&(r[0]=e[0],r[1]=e[1],r[2]=e[2]),e}function z5(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function kO(e){return e?z5(e,Qd):rh(Qd)}function DO(e,t){return e[0]=t[0],e[1]=t[1],e[2]=Number.NEGATIVE_INFINITY,e[3]=t[2],e[4]=t[3],e[5]=Number.POSITIVE_INFINITY,e}function RO(e,t,r,s,n){return e[0]=t,e[1]=r,e[2]=Number.NEGATIVE_INFINITY,e[3]=s,e[4]=n,e[5]=Number.POSITIVE_INFINITY,e}function Kd(e){return e.length===6}function FO(e,t,r){if(e==null||t==null)return e===t;if(!Kd(e)||!Kd(t))return!1;for(let s=0;s<e.length;s++)if(e[s]!==t[s])return!1;return!0}const Qd=[1/0,1/0,1/0,-1/0,-1/0,-1/0],G5=[0,0,0,0,0,0];rh();const q5=sh(-.5,-.5,-.5,.5,.5,.5),V5=sh(-.5,-.5,0,.5,.5,1),B5=sh(-.5,-.5,0,.5,.5,.5);function LO(e){switch(e){case"sphere":case"cube":case"diamond":return q5;case"cylinder":case"cone":case"inverted-cone":return V5;case"tetrahedron":return B5;default:return}}const nh=["butt","square","round"],W5=[...nh,"none"],Iy=["miter","bevel","round"];var Mu;let Mr=Mu=class extends N{constructor(e){super(e),this.color=new Y([0,0,0,1]),this.size=Jr(1),this.pattern=null,this.patternCap="butt"}clone(){const e={color:this.color!=null?this.color.clone():null,size:this.size,pattern:this.pattern!=null?this.pattern.clone():null,patternCap:this.patternCap};return new Mu(e)}};u([h(mr)],Mr.prototype,"color",void 0),u([h(mt)],Mr.prototype,"size",void 0),u([h(Ny)],Mr.prototype,"pattern",void 0),u([h({type:nh,json:{default:"butt",write:{overridePolicy(){return{enabled:this.pattern!=null}}}}})],Mr.prototype,"patternCap",void 0),Mr=Mu=u([v("esri.symbols.support.Symbol3DOutline")],Mr);var ro;let xt=ro=class extends gt{constructor(e){super(e),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const e={edges:this.edges!=null?this.edges.clone():null,enabled:this.enabled,material:this.material!=null?this.material.clone():null,pattern:this.pattern!=null?this.pattern.clone():null,castShadows:this.castShadows,outline:this.outline!=null?this.outline.clone():null};return new ro(e)}static fromSimpleFillSymbol(e){const t=e.outline&&e.outline.style&&e.outline.style!=="inside-frame"&&e.outline.style!=="solid"?new th({style:e.outline.style}):null,r={size:e.outline?.width??0,color:(e.outline?.color??Pn).clone(),pattern:t};return t&&e.outline?.cap&&(r.patternCap=e.outline.cap),new ro({material:new Nn({color:(e.color??R5).clone()}),pattern:e.style&&e.style!=="solid"?new Py({style:e.style}):null,outline:r})}};u([k({Fill:"fill"},{readOnly:!0})],xt.prototype,"type",void 0),u([h({type:Nn,json:{write:!0}})],xt.prototype,"material",void 0),u([h(D5)],xt.prototype,"pattern",void 0),u([h({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],xt.prototype,"castShadows",void 0),u([h({type:Mr,json:{write:!0}})],xt.prototype,"outline",void 0),u([h(xy)],xt.prototype,"edges",void 0),xt=ro=u([v("esri.symbols.FillSymbol3DLayer")],xt);const ii=xt,H5=["none","underline","line-through"],Z5=["normal","italic","oblique"],J5=["normal","lighter","bold","bolder"],Cy={type:Number,cast:e=>{const t=cc(e);return t===0?1:oa(t,.1,4)},nonNullable:!0},Y5=["left","right","center"],K5=["baseline","top","middle","bottom"],ky={type:Y5,nonNullable:!0},Dy={type:K5,nonNullable:!0},jO=8;var Eu;let Tt=Eu=class extends N{constructor(e){super(e),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(e){return Q(e)}clone(){return new Eu({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};u([h({type:H5,json:{default:"none",write:!0}})],Tt.prototype,"decoration",void 0),u([h({type:String,json:{write:!0}})],Tt.prototype,"family",void 0),u([h({type:Number,json:{write:{overridePolicy:(e,t,r)=>({enabled:!r||!r.textSymbol3D})}}})],Tt.prototype,"size",void 0),u([Kn("size")],Tt.prototype,"castSize",null),u([h({type:Z5,json:{default:"normal",write:!0}})],Tt.prototype,"style",void 0),u([h({type:J5,json:{default:"normal",write:!0}})],Tt.prototype,"weight",void 0),Tt=Eu=u([v("esri.symbols.Font")],Tt);const wa=Tt;function oi(e,t){const r=t?.url?.path;if(e&&r&&(e=Yn(e,r,{preserveProtocolRelative:!0}),t.portalItem&&t.readResourcePaths)){const s=bp(e,t.portalItem.itemUrl);s!=null&&Q5.test(s)&&t.readResourcePaths.push(t.portalItem.resourceFromPath(s).path)}return Au(e,t?.portal)}function va(e,t,r=Bn.YES){if(e==null)return e;!Ye(e)&&t?.blockedRelativeUrls&&t.blockedRelativeUrls.push(e);let s=Yn(e);if(t){const n=t.verifyItemRelativeUrls?.rootPath||t.url?.path;if(n){const o=Au(n,t.portal),a=Au(s,t.portal);s=bp(a,o,o),s!=null&&s!==a&&s!==e&&t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.writtenUrls.push(s)}}return s=Fy(s,t?.portal),Ye(s)&&(s=ur(s)),t?.resources&&t?.portalItem&&!Ye(s)&&!Is(s)&&r===Bn.YES&&t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(s),compress:!1}),s}function ih(e,t,r){return oi(e,r)}function Vn(e,t,r,s){const n=va(e,s);n!==void 0&&(t[r]=n)}const Ry=/\/items\/([^\/]+)\/resources\/(.*)/,Q5=/^\.\/resources\//;function X5(e){return(e?.match(Ry)??null)?.[1]??null}function e6(e){const t=e?.match(Ry)??null;if(t==null)return null;const r=t[2],s=r.lastIndexOf("/");if(s===-1){const{path:a,extension:l}=Bh(r);return{prefix:null,filename:a,extension:l}}const{path:n,extension:o}=Bh(r.slice(s+1));return{prefix:r.slice(0,s),filename:n,extension:o}}function Fy(e,t){return t&&!t.isPortal&&t.urlKey&&t.customBaseUrl?gl(e,`${t.urlKey}.${t.customBaseUrl}`,t.portalHostname):e}function Au(e,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return e;const r=`${t.urlKey}.${t.customBaseUrl}`,s=yc();return $s(s,`${s.scheme}://${r}`)?gl(e,t.portalHostname,r):gl(e,r,t.portalHostname)}var Bn;(function(e){e[e.YES=0]="YES",e[e.NO=1]="NO"})(Bn||(Bn={}));const UO=Object.freeze(Object.defineProperty({__proto__:null,get MarkKeep(){return Bn},ensureMainOnlineDomain:Fy,fromJSON:oi,itemIdFromResourceUrl:X5,prefixAndFilenameFromResourceUrl:e6,read:ih,toJSON:va,write:Vn},Symbol.toStringTag,{value:"Module"}));var Pu;const t6=tt()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let Er=Pu=class extends N{constructor(e){super(e)}readHref(e,t,r){return e?oi(e,r):t.dataURI}writeHref(e,t,r,s){e&&(Is(e)?t.dataURI=e:(t.href=va(e,s),Ye(t.href)&&(t.href=ur(t.href))))}clone(){return new Pu({href:this.href,primitive:this.primitive})}};u([h({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],Er.prototype,"href",void 0),u([he("href")],Er.prototype,"readHref",null),u([ee("href",{href:{type:String},dataURI:{type:String}})],Er.prototype,"writeHref",null),u([k(t6)],Er.prototype,"primitive",void 0),Er=Pu=u([v("esri.symbols.support.IconSymbol3DLayerResource")],Er);var Nu;let ds=Nu=class extends Ae{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new Nu({x:this.x,y:this.y})}};u([h({type:Number})],ds.prototype,"x",void 0),u([h({type:Number})],ds.prototype,"y",void 0),ds=Nu=u([v("esri.symbols.support.Symbol3DAnchorPosition2D")],ds);var Iu;let pn=Iu=class extends N{constructor(e){super(e),this.color=new Y([0,0,0,1]),this.size=Jr(1)}clone(){const e={color:this.color!=null?this.color.clone():null,size:this.size};return new Iu(e)}};u([h(mr)],pn.prototype,"color",void 0),u([h(mt)],pn.prototype,"size",void 0),pn=Iu=u([v("esri.symbols.support.Symbol3DIconOutline")],pn);var us;const Ly="esri.symbols.IconSymbol3DLayer";let ut=us=class extends gt{constructor(e){super(e),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=null,this.outline=null}clone(){return new us({anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),enabled:this.enabled,material:this.material!=null?this.material.clone():null,outline:this.outline!=null?this.outline.clone():null,resource:this.resource&&this.resource.clone(),size:this.size})}static fromSimpleMarkerSymbol(e){const t=e.color||Pn,r=Xd(e),s=e.outline&&e.outline.width>0?{size:e.outline.width,color:(e.outline.color||Pn).clone()}:null;return new us({size:e.size,resource:{primitive:s6(e.style)},material:{color:t},outline:s,anchor:r?"relative":void 0,anchorPosition:r})}static fromPictureMarkerSymbol(e){const t=!e.color||F5(e.color)?Pn:e.color,r=Xd(e);return new us({size:e.width<=e.height?e.height:e.width,resource:{href:e.url},material:{color:t.clone()},anchor:r?"relative":void 0,anchorPosition:r})}static fromCIMSymbol(e){return new us({resource:{href:$p({mediaType:"application/json",data:JSON.stringify(e.data)})}})}};function Xd(e){const t="width"in e?e.width:e.size,r="height"in e?e.height:e.size,s=ef(e.xoffset),n=ef(e.yoffset);return(s||n)&&t&&r?{x:-s/t,y:n/r}:null}function ef(e){return isFinite(e)?e:0}u([h({type:je,json:{write:!0}})],ut.prototype,"material",void 0),u([h({type:Er,json:{write:!0}})],ut.prototype,"resource",void 0),u([k({Icon:"icon"},{readOnly:!0})],ut.prototype,"type",void 0),u([h(mt)],ut.prototype,"size",void 0),u([k({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"}),h({json:{default:"center"}})],ut.prototype,"anchor",void 0),u([h({type:ds,json:{type:[Number],read:{reader:e=>new ds({x:e[0],y:e[1]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],ut.prototype,"anchorPosition",void 0),u([h({type:pn,json:{write:!0}})],ut.prototype,"outline",void 0),ut=us=u([v(Ly)],ut);const r6={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function s6(e){return r6[e]||(V.getLogger(Ly).warn(`${e} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}const Lr=ut;let Ar=class extends Xr(N){constructor(t){super(t),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(t){return t!=null&&t.placement===this.placement&&t.style===this.style&&(this.color==null&&t.color==null||this.color!=null&&t.color!=null&&this.color.toJSON()===t.color.toJSON())}};u([h({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Ar.prototype,"type",void 0),u([h({type:P5,json:{default:"begin-end",write:!0}})],Ar.prototype,"placement",void 0),u([h({type:Oy,json:{default:"arrow",write:!0}})],Ar.prototype,"style",void 0),u([h({type:Y,json:{type:[we],default:null,write:!0}})],Ar.prototype,"color",void 0),Ar=u([v("esri.symbols.LineStyleMarker3D")],Ar);const Cu=Ar;var so;let ct=so=class extends gt{constructor(e){super(e),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=Jr(1),this.pattern=null,this.marker=null}clone(){const e={enabled:this.enabled,material:this.material!=null?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:this.pattern!=null?this.pattern.clone():null,marker:this.marker!=null?this.marker.clone():null};return new so(e)}static fromSimpleLineSymbol(e){const t={enabled:!0,size:e.width??Jr(1),cap:e.cap||"butt",join:e.join||"miter",pattern:e.style&&e.style!=="inside-frame"?new th({style:e.style}):null,material:new je({color:(e.color||Pn).clone()}),marker:e.marker?new Cu({placement:e.marker.placement,style:e.marker.style,color:e.marker.color?.clone()??null}):null};return new so(t)}};u([h({type:je,json:{write:!0}})],ct.prototype,"material",void 0),u([k({Line:"line"},{readOnly:!0})],ct.prototype,"type",void 0),u([h({type:Iy,json:{write:!0,default:"miter"}})],ct.prototype,"join",void 0),u([h({type:nh,json:{write:!0,default:"butt"}})],ct.prototype,"cap",void 0),u([h(mt)],ct.prototype,"size",void 0),u([h(Ny)],ct.prototype,"pattern",void 0),u([h({types:{key:"type",base:Cu,typeMap:{style:Cu}},json:{write:!0}})],ct.prototype,"marker",void 0),ct=so=u([v("esri.symbols.LineSymbol3DLayer")],ct);const ai=ct;var ku;const n6=tt()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let mn=ku=class extends N{clone(){return new ku({href:this.href,primitive:this.primitive})}};u([h({type:String,json:{read:ih,write:Vn}})],mn.prototype,"href",void 0),u([k(n6)],mn.prototype,"primitive",void 0),mn=ku=u([v("esri.symbols.support.ObjectSymbol3DLayerResource")],mn);var Du;let Rr=Du=class extends Ae{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new Du({x:this.x,y:this.y,z:this.z})}};u([h({type:Number})],Rr.prototype,"x",void 0),u([h({type:Number})],Rr.prototype,"y",void 0),u([h({type:Number})],Rr.prototype,"z",void 0),Rr=Du=u([v("esri.symbols.support.Symbol3DAnchorPosition3D")],Rr);var Ru;let me=Ru=class extends gt{constructor(e){super(e),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){return new Ru({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition?.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:this.material?.clone()??null,castShadows:this.castShadows,resource:this.resource?.clone(),width:this.width})}get isPrimitive(){return!this.resource||typeof this.resource.href!="string"}};u([h({type:je,json:{write:!0}})],me.prototype,"material",void 0),u([h({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],me.prototype,"castShadows",void 0),u([h({type:mn,json:{write:!0}})],me.prototype,"resource",void 0),u([k({Object:"object"},{readOnly:!0})],me.prototype,"type",void 0),u([h({type:Number,json:{write:!0}})],me.prototype,"width",void 0),u([h({type:Number,json:{write:!0}})],me.prototype,"height",void 0),u([h({type:Number,json:{write:!0}})],me.prototype,"depth",void 0),u([k({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"}),h({json:{default:"origin"}})],me.prototype,"anchor",void 0),u([h({type:Rr,json:{type:[Number],read:{reader:e=>new Rr({x:e[0],y:e[1],z:e[2]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y,e.z]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],me.prototype,"anchorPosition",void 0),u([h({type:Number,json:{write:!0}})],me.prototype,"heading",void 0),u([h({type:Number,json:{write:!0}})],me.prototype,"tilt",void 0),u([h({type:Number,json:{write:!0}})],me.prototype,"roll",void 0),u([h({readOnly:!0})],me.prototype,"isPrimitive",null),me=Ru=u([v("esri.symbols.ObjectSymbol3DLayer")],me);const oh=me;var Fu;let _e=Fu=class extends gt{constructor(e){super(e),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(e,t){return e??(t.height==null&&t.size!=null?t.size:void 0)}readHeight(e,t){return e??(t.width==null&&t.size!=null?t.size:void 0)}clone(){return new Fu({enabled:this.enabled,material:this.material!=null?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};u([h({type:je,json:{write:!0}})],_e.prototype,"material",void 0),u([h({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],_e.prototype,"castShadows",void 0),u([k({Path:"path"},{readOnly:!0})],_e.prototype,"type",void 0),u([h({type:["circle","quad"],json:{write:!0,default:"circle"}})],_e.prototype,"profile",void 0),u([h({type:Iy,json:{write:!0,default:"miter"}})],_e.prototype,"join",void 0),u([h({type:W5,json:{write:!0,default:"butt"}})],_e.prototype,"cap",void 0),u([h({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],_e.prototype,"width",void 0),u([he("width",["width","size","height"])],_e.prototype,"readWidth",null),u([h({type:Number,json:{write:!0}})],_e.prototype,"height",void 0),u([he("height",["height","size","width"])],_e.prototype,"readHeight",null),u([h({type:["center","bottom","top"],json:{write:!0,default:"center"}})],_e.prototype,"anchor",void 0),u([h({type:["heading","all"],json:{write:!0,default:"all"}})],_e.prototype,"profileRotation",void 0),_e=Fu=u([v("esri.symbols.PathSymbol3DLayer")],_e);const ah=_e;var Lu;let fs=Lu=class extends N{constructor(){super(...arguments),this.color=new Y([0,0,0,1]),this.size=0}clone(){const e={color:T(this.color),size:this.size};return new Lu(e)}};u([h(mr)],fs.prototype,"color",void 0),u([h(mt)],fs.prototype,"size",void 0),fs=Lu=u([v("esri.symbols.support.Symbol3DHalo")],fs);let In=class extends Xr(N){constructor(t){super(t),this.color=null}};u([h(mr)],In.prototype,"color",void 0),In=u([v("esri.symbols.support.Symbol3DTextBackground")],In);var no;let Te=no=class extends gt{constructor(e){super(e),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(e){e!=null&&this._userSize!=null&&(e.size=this._userSize),this._set("font",e)}writeFont(e,t,r,s){const n={...s,textSymbol3D:!0};t.font=e.write({},n),delete t.font.size}get size(){return this._userSize!=null?this._userSize:this.font?.size!=null?this.font.size:9}set size(e){this._userSize=e,this.font!=null&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const e=new no({enabled:this.enabled,font:this.font&&T(this.font),halo:this.halo&&T(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:this.material!=null?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:T(this.background)});return e._userSize=this._userSize,e}static fromTextSymbol(e){return new no({font:e.font!=null?e.font.clone():new wa,halo:i6(e.haloColor,e.haloSize),horizontalAlignment:e.horizontalAlignment,lineHeight:e.lineHeight,material:e.color?new je({color:e.color.clone()}):null,text:e.text,verticalAlignment:e.verticalAlignment,background:e.backgroundColor?new In({color:e.backgroundColor.clone()}):null})}};function i6(e,t){return e&&t!=null&&t>0?new fs({color:T(e),size:t}):null}u([h({type:wa,json:{write:!0}})],Te.prototype,"font",null),u([ee("font")],Te.prototype,"writeFont",null),u([h({type:fs,json:{write:!0}})],Te.prototype,"halo",void 0),u([h({...ky,json:{default:"center",write:!0}})],Te.prototype,"horizontalAlignment",void 0),u([h({...Cy,json:{default:1,write:!0}})],Te.prototype,"lineHeight",void 0),u([h({type:je,json:{write:!0}})],Te.prototype,"material",void 0),u([h({type:In,json:{write:!0}})],Te.prototype,"background",void 0),u([h(mt)],Te.prototype,"size",null),u([h({type:String,json:{write:!0}})],Te.prototype,"text",void 0),u([k({Text:"text"},{readOnly:!0})],Te.prototype,"type",void 0),u([h({...Dy,json:{default:"baseline",write:!0}})],Te.prototype,"verticalAlignment",void 0),Te=no=u([v("esri.symbols.TextSymbol3DLayer")],Te);const Ls=Te;var ju;let Yt=ju=class extends gt{constructor(e){super(e),this.color=Uu.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new ju({color:T(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};u([h({type:Y,nonNullable:!0,json:{type:[we],write:(e,t,r)=>t[r]=e.toArray(Y.AlphaMode.UNLESS_OPAQUE),default:()=>Uu.clone(),defaultEquals:e=>e.toCss(!0)===Uu.toCss(!0)}})],Yt.prototype,"color",void 0),u([k({Water:"water"},{readOnly:!0})],Yt.prototype,"type",void 0),u([h({type:["small","medium","large"],json:{write:!0,default:"medium"}})],Yt.prototype,"waterbodySize",void 0),u([h({type:Number,json:{write:!0,default:null}})],Yt.prototype,"waveDirection",void 0),u([h({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],Yt.prototype,"waveStrength",void 0),Yt=ju=u([v("esri.symbols.WaterSymbol3DLayer")],Yt);const Uu=new Y([0,119,190]),jy=Yt;var zu;let Pr=zu=class extends Ae{constructor(e){super(e),this.name=null,this.styleUrl=null,this.styleName=null,this.portal=null}clone(){return new zu({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};u([h({type:String})],Pr.prototype,"name",void 0),u([h({type:String})],Pr.prototype,"styleUrl",void 0),u([h({type:String})],Pr.prototype,"styleName",void 0),u([h({type:ia})],Pr.prototype,"portal",void 0),Pr=zu=u([v("esri.symbols.support.StyleOrigin")],Pr);const Gu=Pr;var qu;let Cn=qu=class extends Ae{constructor(){super(...arguments),this.url=""}clone(){return new qu({url:this.url})}};u([h({type:String})],Cn.prototype,"url",void 0),Cn=qu=u([v("esri.symbols.support.Thumbnail")],Cn);const Uy={icon:Lr,object:oh,line:ai,path:ah,fill:ii,extrude:Ty,text:Ls,water:jy},o6=te.ofType({base:gt,key:"type",typeMap:Uy,errorContext:"symbol-layer"});let ht=class extends Pe{constructor(e){super(e),this.styleOrigin=null,this.thumbnail=null,this.type=null;const t=this.__accessor__&&this.__accessor__.metadatas&&this.__accessor__.metadatas.symbolLayers,r=t?.type,s=r||te;this._set("symbolLayers",new s)}get color(){return null}set color(e){this.constructed&&V.getLogger(this).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(e){b3(e,this._get("symbolLayers"))}readStyleOrigin(e,t,r){if(e.styleUrl&&e.name){const s=oi(e.styleUrl,r);return new Gu({styleUrl:s,name:e.name})}if(e.styleName&&e.name)return new Gu({portal:r?.portal||ia.getDefault(),styleName:e.styleName,name:e.name});r?.messages&&r.messages.push(new Fn("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:r,definition:e}))}writeStyleOrigin(e,t,r,s){if(e.styleUrl&&e.name){let n=va(e.styleUrl,s);Ye(n)&&(n=ur(n)),t.styleOrigin={styleUrl:n,name:e.name}}else e.styleName&&e.name&&(e.portal&&s?.portal&&!N2(e.portal.restUrl,s.portal.restUrl)?s?.messages&&s.messages.push(new Fn("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):t.styleOrigin={styleName:e.styleName,name:e.name})}normalizeCtorArgs(e){return e instanceof gt||e&&Uy[e.type]?{symbolLayers:[e]}:Array.isArray(e)?{symbolLayers:e}:e}};u([h({json:{read:!1,write:!1}})],ht.prototype,"color",null),u([h({type:o6,nonNullable:!0,json:{write:!0}}),Kn($3)],ht.prototype,"symbolLayers",null),u([h({type:Gu})],ht.prototype,"styleOrigin",void 0),u([he("styleOrigin")],ht.prototype,"readStyleOrigin",null),u([ee("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],ht.prototype,"writeStyleOrigin",null),u([h({type:Cn,json:{read:!1}})],ht.prototype,"thumbnail",void 0),u([h({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],ht.prototype,"type",void 0),ht=u([v("esri.symbols.Symbol3D")],ht);const li=ht;let yn=class extends N{constructor(t){super(t),this.visible=!0}clone(){}};u([h({type:["line"],constructOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],yn.prototype,"type",void 0),u([h({readOnly:!0})],yn.prototype,"visible",void 0),yn=u([v("esri.symbols.callouts.Callout3D")],yn);const zy=yn;var Vu;let io=Vu=class extends N{constructor(e){super(e),this.color=new Y("white")}clone(){return new Vu({color:T(this.color)})}};u([h(mr)],io.prototype,"color",void 0),io=Vu=u([v("esri.symbols.callouts.LineCallout3DBorder")],io);const a6=io;var Bu;let Kt=Bu=class extends zy{constructor(e){super(e),this.type="line",this.color=new Y([0,0,0,1]),this.size=Jr(1),this.border=null}get visible(){return this.size>0&&this.color!=null&&this.color.a>0}clone(){return new Bu({color:T(this.color),size:this.size,border:T(this.border)})}};u([k({line:"line"})],Kt.prototype,"type",void 0),u([h(mr)],Kt.prototype,"color",void 0),u([h(mt)],Kt.prototype,"size",void 0),u([h({type:a6,json:{write:!0}})],Kt.prototype,"border",void 0),u([h({readOnly:!0})],Kt.prototype,"visible",null),Kt=Bu=u([v("esri.symbols.callouts.LineCallout3D")],Kt);const Gy=Kt;function lh(e){if(!e)return!1;const t=e.verticalOffset;return!!t&&!(t.screenLength<=0||t.maxWorldLength!=null&&t.maxWorldLength<=0)}function qy(e){if(!e||!e.supportsCallout||!e.supportsCallout())return!1;const t=e.callout;return!!t&&!!t.visible&&!!lh(e)}const Vy={types:{key:"type",base:zy,typeMap:{line:Gy}},json:{write:!0}};var Wu;let cs=Wu=class extends N{constructor(e){super(e),this.screenLength=0,this.minWorldLength=0,this.maxWorldLength=null}clone(){return new Wu({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};u([h(mt)],cs.prototype,"screenLength",void 0),u([h({type:Number,nonNullable:!0,json:{write:!0,default:0}})],cs.prototype,"minWorldLength",void 0),u([h({type:Number,json:{write:!0}})],cs.prototype,"maxWorldLength",void 0),cs=Wu=u([v("esri.symbols.support.Symbol3DVerticalOffset")],cs);const uh=cs;var oo;const By=te.ofType({base:null,key:"type",typeMap:{text:Ls}});let Qt=oo=class extends li{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new By,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return qy(this)}hasVisibleVerticalOffset(){return lh(this)}clone(){return new oo({styleOrigin:T(this.styleOrigin),symbolLayers:T(this.symbolLayers),thumbnail:T(this.thumbnail),callout:T(this.callout),verticalOffset:T(this.verticalOffset)})}static fromTextSymbol(e){return new oo({symbolLayers:new te([Ls.fromTextSymbol(e)])})}};u([h({type:uh,json:{write:!0}})],Qt.prototype,"verticalOffset",void 0),u([h(Vy)],Qt.prototype,"callout",void 0),u([h({json:{read:!1,write:!1}})],Qt.prototype,"styleOrigin",void 0),u([h({type:By})],Qt.prototype,"symbolLayers",void 0),u([k({LabelSymbol3D:"label-3d"},{readOnly:!0})],Qt.prototype,"type",void 0),Qt=oo=u([v("esri.symbols.LabelSymbol3D")],Qt);const ch=Qt;var ao;const Wy=te.ofType({base:null,key:"type",typeMap:{line:ai,path:ah}}),l6=te.ofType({base:null,key:"type",typeMap:{line:ai,path:ah}});let gn=ao=class extends li{constructor(e){super(e),this.symbolLayers=new Wy,this.type="line-3d"}clone(){return new ao({styleOrigin:T(this.styleOrigin),symbolLayers:T(this.symbolLayers),thumbnail:T(this.thumbnail)})}static fromSimpleLineSymbol(e){return new ao({symbolLayers:new te([ai.fromSimpleLineSymbol(e)])})}};u([h({type:Wy,json:{type:l6}})],gn.prototype,"symbolLayers",void 0),u([k({LineSymbol3D:"line-3d"},{readOnly:!0})],gn.prototype,"type",void 0),gn=ao=u([v("esri.symbols.LineSymbol3D")],gn);const hh=gn;let Xt=class extends Pe{constructor(t){super(t),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};u([h({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],Xt.prototype,"angle",void 0),u([h({type:["simple-marker","picture-marker"],readOnly:!0})],Xt.prototype,"type",void 0),u([h({type:Number,cast:Q,json:{write:!0}})],Xt.prototype,"xoffset",void 0),u([h({type:Number,cast:Q,json:{write:!0}})],Xt.prototype,"yoffset",void 0),u([h({type:Number,cast:e=>e==="auto"?e:Q(e),json:{write:!0}})],Xt.prototype,"size",void 0),Xt=u([v("esri.symbols.MarkerSymbol")],Xt);const Hy=Xt;var lo;const Zy=te.ofType({base:null,key:"type",typeMap:{fill:ii}});let wn=lo=class extends li{constructor(e){super(e),this.symbolLayers=new Zy,this.type="mesh-3d"}clone(){return new lo({styleOrigin:T(this.styleOrigin),symbolLayers:T(this.symbolLayers),thumbnail:T(this.thumbnail)})}static fromSimpleFillSymbol(e){return new lo({symbolLayers:new te([ii.fromSimpleFillSymbol(e)])})}};u([h({type:Zy})],wn.prototype,"symbolLayers",void 0),u([k({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],wn.prototype,"type",void 0),wn=lo=u([v("esri.symbols.MeshSymbol3D")],wn);const dh=wn;function u6(e,t,r){return t.imageData?$p({mediaType:t.contentType||"image/png",isBase64:!0,data:t.imageData}):Jy(t.url,r)}function Jy(e,t){return h6(t)&&!Ye(e)&&t?.layer?.parsedUrl?bc(t.layer.parsedUrl.path,"images",e):oi(e,t)}function c6(e,t,r,s){if(Is(e)){const n=Un(e);if(!n)return;t.contentType=n.mediaType,t.imageData=n.data,r&&r.imageData===t.imageData&&r.url&&Vn(r.url,t,"url",s)}else Vn(e,t,"url",s)}const Yy={json:{read:{source:["imageData","url"],reader:u6},write:{writer(e,t,r,s){c6(e,t,this.source,s)}}}},Ky={readOnly:!0,json:{read:{source:["imageData","url"],reader(e,t,r){const s={};return t.imageData&&(s.imageData=t.imageData),t.contentType&&(s.contentType=t.contentType),t.url&&(s.url=Jy(t.url,r)),s}}}};function h6(e){return!(e==null||e.origin!=="service"&&e.origin!=="portal-item"||e.layer?.type!=="feature"&&e.layer?.type!=="stream")}var Hu;let Re=Hu=class extends My{constructor(...e){super(...e),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(e,t,r,s){if(e&&typeof e!="string"&&e.imageData==null)return e;const n={};return e&&(n.url=e),t&&(n.outline=t),r!=null&&(n.width=Q(r)),s!=null&&(n.height=Q(s)),n}clone(){const e=new Hu({color:T(this.color),height:this.height,outline:this.outline&&this.outline.clone(),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return e._set("source",T(this.source)),e}hash(){return`${super.hash()}.${this.color?.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};u([k({esriPFS:"picture-fill"},{readOnly:!0})],Re.prototype,"type",void 0),u([h(Yy)],Re.prototype,"url",void 0),u([h({type:Number,json:{write:!0}})],Re.prototype,"xscale",void 0),u([h({type:Number,json:{write:!0}})],Re.prototype,"yscale",void 0),u([h({type:Number,cast:Q,json:{write:!0}})],Re.prototype,"width",void 0),u([h({type:Number,cast:Q,json:{write:!0}})],Re.prototype,"height",void 0),u([h({type:Number,cast:Q,json:{write:!0}})],Re.prototype,"xoffset",void 0),u([h({type:Number,cast:Q,json:{write:!0}})],Re.prototype,"yoffset",void 0),u([h(Ky)],Re.prototype,"source",void 0),Re=Hu=u([v("esri.symbols.PictureFillSymbol")],Re);const Qy=Re;var Zu;let Be=Zu=class extends Hy{constructor(...e){super(...e),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(e,t,r){if(e&&typeof e!="string"&&e.imageData==null)return e;const s={};return e&&(s.url=e),t!=null&&(s.width=Q(t)),r!=null&&(s.height=Q(r)),s}readHeight(e,t){return t.size||e}readWidth(e,t){return t.size||e}clone(){const e=new Zu({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return e._set("source",T(this.source)),e}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};u([h({json:{write:!1}})],Be.prototype,"color",void 0),u([k({esriPMS:"picture-marker"},{readOnly:!0})],Be.prototype,"type",void 0),u([h(Yy)],Be.prototype,"url",void 0),u([h(Ky)],Be.prototype,"source",void 0),u([h({type:Number,cast:Q,json:{write:!0}})],Be.prototype,"height",void 0),u([he("height",["height","size"])],Be.prototype,"readHeight",null),u([h({type:Number,cast:Q,json:{write:!0}})],Be.prototype,"width",void 0),u([h({json:{write:!1}})],Be.prototype,"size",void 0),Be=Zu=u([v("esri.symbols.PictureMarkerSymbol")],Be);const fh=Be;var Nr;const Xy=te.ofType({base:null,key:"type",typeMap:{icon:Lr,object:oh,text:Ls}});let Ir=Nr=class extends li{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.symbolLayers=new Xy,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const e of this.symbolLayers.items)switch(e.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return qy(this)}hasVisibleVerticalOffset(){return lh(this)}clone(){return new Nr({verticalOffset:T(this.verticalOffset),callout:T(this.callout),styleOrigin:T(this.styleOrigin),symbolLayers:T(this.symbolLayers),thumbnail:T(this.thumbnail)})}static fromSimpleMarkerSymbol(e){return new Nr({symbolLayers:new te([Lr.fromSimpleMarkerSymbol(e)])})}static fromPictureMarkerSymbol(e){return new Nr({symbolLayers:new te([Lr.fromPictureMarkerSymbol(e)])})}static fromCIMSymbol(e){if(e.data?.symbol?.type!=="CIMPointSymbol")return null;const r=e.data.symbol;return new Nr(r?.callout?{symbolLayers:new te([Lr.fromCIMSymbol(e)]),callout:new Gy({size:.5,color:new Y([0,0,0])}),verticalOffset:new uh({screenLength:40})}:{symbolLayers:new te([Lr.fromCIMSymbol(e)])})}static fromTextSymbol(e){return new Nr({symbolLayers:new te([Ls.fromTextSymbol(e)])})}};u([h({type:uh,json:{write:!0}})],Ir.prototype,"verticalOffset",void 0),u([h(Vy)],Ir.prototype,"callout",void 0),u([h({type:Xy,json:{origins:{"web-scene":{write:!0}}}})],Ir.prototype,"symbolLayers",void 0),u([k({PointSymbol3D:"point-3d"},{readOnly:!0})],Ir.prototype,"type",void 0),Ir=Nr=u([v("esri.symbols.PointSymbol3D")],Ir);const ph=Ir;var vn;const e1=te.ofType({base:null,key:"type",typeMap:{extrude:Ty,fill:ii,icon:Lr,line:ai,object:oh,text:Ls,water:jy}});let bn=vn=class extends li{constructor(e){super(e),this.symbolLayers=new e1,this.type="polygon-3d"}initialize(){const e=t=>{t.type==="line"&&uo(V.getLogger(this),"LineSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use FillSymbol3DLayer.outline instead.",version:"4.28"}),t.type==="text"&&uo(V.getLogger(this),"TextSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use Labels instead.",version:"4.28"})};for(const t of this.symbolLayers)e(t);this.addHandles(Jb((()=>this.symbolLayers),"after-add",(({item:t})=>e(t)),Kb))}clone(){return new vn({styleOrigin:T(this.styleOrigin),symbolLayers:T(this.symbolLayers),thumbnail:T(this.thumbnail)})}static fromJSON(e){const t=new vn;if(t.read(e),t.symbolLayers.length===2&&t.symbolLayers.at(0).type==="fill"&&t.symbolLayers.at(1).type==="line"){const r=t.symbolLayers.at(0),s=t.symbolLayers.at(1);!s.enabled||e.symbolLayers?.[1]&&e.symbolLayers[1].enable===!1||(r.outline={size:s.size,color:s.material!=null?s.material.color:null}),t.symbolLayers.removeAt(1)}return t}static fromSimpleFillSymbol(e){return new vn({symbolLayers:new te([ii.fromSimpleFillSymbol(e)])})}};u([h({type:e1,json:{write:!0}})],bn.prototype,"symbolLayers",void 0),u([k({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],bn.prototype,"type",void 0),bn=vn=u([v("esri.symbols.PolygonSymbol3D")],bn);const mh=bn;var Ju;const Ja=new It({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let Cr=Ju=class extends My{constructor(...e){super(...e),this.color=new Y([0,0,0,.25]),this.outline=new Fs,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(e,t,r){if(e&&typeof e!="string")return e;const s={};return e&&(s.style=e),t&&(s.outline=t),r&&(s.color=r),s}clone(){return new Ju({color:T(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};u([h()],Cr.prototype,"color",void 0),u([h()],Cr.prototype,"outline",void 0),u([k({esriSFS:"simple-fill"},{readOnly:!0})],Cr.prototype,"type",void 0),u([h({type:Ja.apiValues,json:{read:Ja.read,write:Ja.write}})],Cr.prototype,"style",void 0),Cr=Ju=u([v("esri.symbols.SimpleFillSymbol")],Cr);const t1=Cr;var Yu;const Ya=new It({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let dt=Yu=class extends Hy{constructor(...e){super(...e),this.color=new Y([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new Fs}normalizeCtorArgs(e,t,r,s){if(e&&typeof e!="string")return e;const n={};return e&&(n.style=e),t!=null&&(n.size=Q(t)),r&&(n.outline=r),s&&(n.color=s),n}writeColor(e,t){e&&this.style!=="x"&&this.style!=="cross"&&(t.color=e.toJSON()),e===null&&(t.color=null)}set path(e){this.style="path",this._set("path",e)}clone(){return new Yu({angle:this.angle,color:T(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${this.outline?.hash()}`}};u([h()],dt.prototype,"color",void 0),u([ee("color")],dt.prototype,"writeColor",null),u([k({esriSMS:"simple-marker"},{readOnly:!0})],dt.prototype,"type",void 0),u([h()],dt.prototype,"size",void 0),u([h({type:Ya.apiValues,json:{read:Ya.read,write:Ya.write}})],dt.prototype,"style",void 0),u([h({type:String,json:{write:!0}})],dt.prototype,"path",null),u([h({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":Fs}},json:{default:null,write:!0}})],dt.prototype,"outline",void 0),dt=Yu=u([v("esri.symbols.SimpleMarkerSymbol")],dt);const yh=dt;var Ku;let H=Ku=class extends Pe{constructor(...e){super(...e),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new wa,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(e,t,r){if(e&&typeof e!="string")return e;const s={};return e&&(s.text=e),t&&(s.font=t),r&&(s.color=r),s}writeLineWidth(e,t,r,s){s&&typeof s!="string"?s.origin:t[r]=e}castLineWidth(e){return Q(e)}writeLineHeight(e,t,r,s){s&&typeof s!="string"?s.origin:t[r]=e}clone(){return new Ku({angle:this.angle,backgroundColor:T(this.backgroundColor),borderLineColor:T(this.borderLineColor),borderLineSize:this.borderLineSize,color:T(this.color),font:this.font&&this.font.clone(),haloColor:T(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${this.backgroundColor?.hash()}.${this.borderLineColor}.${this.borderLineSize}.${this.color?.hash()}.${this.font&&this.font.hash()}.${this.haloColor?.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};u([h({type:Y,json:{write:!0}})],H.prototype,"backgroundColor",void 0),u([h({type:Y,json:{write:!0}})],H.prototype,"borderLineColor",void 0),u([h({type:Number,json:{write:!0},cast:Q})],H.prototype,"borderLineSize",void 0),u([h({type:wa,json:{write:!0}})],H.prototype,"font",void 0),u([h({...ky,json:{write:!0}})],H.prototype,"horizontalAlignment",void 0),u([h({type:Boolean,json:{write:!0}})],H.prototype,"kerning",void 0),u([h({type:Y,json:{write:!0}})],H.prototype,"haloColor",void 0),u([h({type:Number,cast:Q,json:{write:!0}})],H.prototype,"haloSize",void 0),u([h({type:Boolean,json:{write:!0}})],H.prototype,"rightToLeft",void 0),u([h({type:Boolean,json:{write:!0}})],H.prototype,"rotated",void 0),u([h({type:String,json:{write:!0}})],H.prototype,"text",void 0),u([k({esriTS:"text"},{readOnly:!0})],H.prototype,"type",void 0),u([h({...Dy,json:{write:!0}})],H.prototype,"verticalAlignment",void 0),u([h({type:Number,cast:Q,json:{write:!0}})],H.prototype,"xoffset",void 0),u([h({type:Number,cast:Q,json:{write:!0}})],H.prototype,"yoffset",void 0),u([h({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],H.prototype,"angle",void 0),u([h({type:Number,json:{write:!0}})],H.prototype,"width",void 0),u([h({type:Number})],H.prototype,"lineWidth",void 0),u([ee("lineWidth")],H.prototype,"writeLineWidth",null),u([Kn("lineWidth")],H.prototype,"castLineWidth",null),u([h(Cy)],H.prototype,"lineHeight",void 0),u([ee("lineHeight")],H.prototype,"writeLineHeight",null),H=Ku=u([v("esri.symbols.TextSymbol")],H);const ba=H;var Qu;let We=Qu=class extends Pe{constructor(e){super(e),this.color=null,this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}get _fetchCacheKey(){const e=this.portal!=null?this.portal:ia.getDefault(),t=e.user?e.user.username:null;return`${this.styleName}:${this.styleUrl}:${this.name}:${t}:${e.url}`}read(e,t){this.portal=t?.portal,super.read(e,t)}clone(){return new Qu({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(e){return this._fetchSymbol("webRef",e)}fetchCIMSymbol(e){return this._fetchSymbol("cimRef",e)}async _fetchSymbol(e,t){const r=t!=null?t.cache:null,s=r?this._fetchCacheKey:null;if(r!=null){const l=s&&r.get(s);if(l)return l.clone()}const{resolveWebStyleSymbol:n}=await pt(()=>import("./webStyleSymbolUtils-CdLvx_A5.js"),__vite__mapDeps([39,40,41,11,42,1]),import.meta.url);kn(t);const o=n(this,{portal:this.portal},e,t);o.catch((l=>{V.getLogger(this).error("#fetchSymbol()","Failed to create symbol from style",l)}));const a=await o;return e==="webRef"&&a.type==="point-3d"||e==="cimRef"&&a.type==="cim"?(r?.set(s,a.clone()),a):null}};u([h({json:{write:!1}})],We.prototype,"color",void 0),u([h({type:String,json:{write:!0}})],We.prototype,"styleName",void 0),u([h({type:ia,json:{write:!1}})],We.prototype,"portal",void 0),u([h({type:String,json:{read:ih,write:Vn}})],We.prototype,"styleUrl",void 0),u([h({type:Cn,json:{read:!1}})],We.prototype,"thumbnail",void 0),u([h({type:String,json:{write:!0}})],We.prototype,"name",void 0),u([k({styleSymbolReference:"web-style"},{readOnly:!0})],We.prototype,"type",void 0),u([h()],We.prototype,"_fetchCacheKey",null),We=Qu=u([v("esri.symbols.WebStyleSymbol")],We);const $a=We;function BO(e){if(!e)return!1;switch(e.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function WO(e){if(!e)return!1;switch(e.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}const gh={base:Pe,key:"type",typeMap:{"simple-fill":t1,"picture-fill":Qy,"picture-marker":fh,"simple-line":Fs,"simple-marker":yh,text:ba,"label-3d":ch,"line-3d":hh,"mesh-3d":dh,"point-3d":ph,"polygon-3d":mh,"web-style":$a,cim:ga},errorContext:"symbol"},HO={base:Pe,key:"type",typeMap:{"picture-marker":fh,"simple-marker":yh,text:ba,"web-style":$a,cim:ga},errorContext:"symbol"},ZO=rp({types:gh}),JO={base:Pe,key:"type",typeMap:{"simple-fill":t1,"picture-fill":Qy,"picture-marker":fh,"simple-line":Fs,"simple-marker":yh,text:ba,"line-3d":hh,"mesh-3d":dh,"point-3d":ph,"polygon-3d":mh,"web-style":$a,cim:ga},errorContext:"symbol"},YO={base:Pe,key:"type",typeMap:{text:ba,"label-3d":ch},errorContext:"symbol"},KO={base:Pe,key:"type",typeMap:{"line-3d":hh,"mesh-3d":dh,"point-3d":ph,"polygon-3d":mh,"web-style":$a,cim:ga},errorContext:"symbol"},QO={base:Pe,key:"type",typeMap:{"label-3d":ch},errorContext:"symbol"},XO=Vr(gh);var Xu;function d6(e){if(!e)return null;const t={};for(const r in e){const s=B0(e[r]);s&&(t[r]=s)}return Object.keys(t).length!==0?t:null}function f6(e){if(e==null)return null;const t={};for(const r in e){const s=e[r];s&&(t[r]=s.toJSON())}return Object.keys(t).length!==0?t:null}let Oe=Xu=class extends Xr(N){constructor(...e){super(...e),this.isAggregate=!1,this.layer=null,this.popupTemplate=null,this.sourceLayer=null,Object.defineProperty(this,"uid",{value:_n(),configurable:!0})}normalizeCtorArgs(e,t,r,s){return e&&!e.declaredClass?e:{geometry:e,symbol:t,attributes:r,popupTemplate:s}}set aggregateGeometries(e){const t=this._get("aggregateGeometries");JSON.stringify(t)!==JSON.stringify(e)&&this._set("aggregateGeometries",e)}set attributes(e){const t=this._get("attributes");t!==e&&(this._set("attributes",e),this._notifyLayer("attributes",t,e))}set geometry(e){const t=this._get("geometry");t!==e&&(this._set("geometry",e),this._notifyLayer("geometry",t,e))}set symbol(e){const t=this._get("symbol");t!==e&&(this._set("symbol",e),this._notifyLayer("symbol",t,e))}set visible(e){const t=this._get("visible");t!==e&&(this._set("visible",e),this._notifyLayer("visible",t,e))}cloneShallow(){return new Xu({aggregateGeometries:this.aggregateGeometries,attributes:this.attributes,geometry:this.geometry,isAggregate:this.isAggregate,layer:this.layer,popupTemplate:this.popupTemplate,sourceLayer:this.sourceLayer,symbol:this.symbol,visible:this.visible})}getEffectivePopupTemplate(e=!1){if(this.popupTemplate)return this.popupTemplate;for(const t of[this.sourceLayer,this.layer])if(t){if("popupTemplate"in t&&t.popupTemplate)return t.popupTemplate;if(e&&"defaultPopupTemplate"in t&&t.defaultPopupTemplate!=null)return t.defaultPopupTemplate}return null}getAttribute(e){return this.attributes?.[e]}setAttribute(e,t){if(this.attributes){const r=this.getAttribute(e);this.attributes[e]=t,this._notifyLayer("attributes",r,t,e)}else this.attributes={[e]:t},this._notifyLayer("attributes",void 0,t,e)}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){return{aggregateGeometries:f6(this.aggregateGeometries),geometry:this.geometry!=null?this.geometry.toJSON():null,symbol:this.symbol!=null?this.symbol.toJSON():null,attributes:ml(this.attributes)?this.attributes.toJSON():{...this.attributes},popupTemplate:this.popupTemplate?.toJSON()??null}}notifyGeometryChanged(){this._notifyLayer("geometry",this.geometry,this.geometry)}notifyMeshTransformChanged(e={}){const{geometry:t}=this;if(t?.type==="mesh"){const r={origin:t.origin,transform:t.transform};this._notifyLayer("origin-transform",r,r,e.action)}}_notifyLayer(e,t,r,s){if(!this.layer||!("graphicChanged"in this.layer))return;const n={graphic:this,property:e,oldValue:t,newValue:r};e==="origin-transform"&&(n.action=s),e==="attributes"&&(n.attributeName=s),this.layer.graphicChanged(n)}};u([h({value:null,json:{read:d6}})],Oe.prototype,"aggregateGeometries",null),u([h({value:null})],Oe.prototype,"attributes",null),u([h({value:null,types:W0,json:{read:B0}})],Oe.prototype,"geometry",null),u([h({type:Boolean})],Oe.prototype,"isAggregate",void 0),u([h({clonable:"reference"})],Oe.prototype,"layer",void 0),u([h({type:S5})],Oe.prototype,"popupTemplate",void 0),u([h({clonable:"reference"})],Oe.prototype,"sourceLayer",void 0),u([h({value:null,types:gh})],Oe.prototype,"symbol",null),u([h({type:Boolean,value:!0})],Oe.prototype,"visible",null),Oe=Xu=u([v("esri.Graphic")],Oe),(function(e){e.generateUID=_n})(Oe||(Oe={}));const eM=Oe;function tM(e,t){return t?{...t,query:{...e??{},...t.query}}:{query:e}}function rM(e){return typeof e=="string"?dr(e):T(e)}function p6(e,t,r){const s={};for(const n in e){if(n==="declaredClass")continue;const o=e[n];if(o!=null&&typeof o!="function")if(Array.isArray(o)){s[n]=[];for(let a=0;a<o.length;a++)s[n][a]=p6(o[a])}else if(typeof o=="object")if(o.toJSON){const a=o.toJSON(r?.[n]);s[n]=JSON.stringify(a)}else s[n]=JSON.stringify(o);else s[n]=o}return s}function sM(e){return{geometryType:Bb(e[0]),geometries:e.map((t=>t.toJSON()))}}function nM(e,t,r){const s=Hb(t);return e.map((n=>{const o=s.fromJSON(n);return o.spatialReference=r,o}))}const m6="randomUUID"in crypto;function y6(){if(m6)return crypto.randomUUID();const e=crypto.getRandomValues(new Uint16Array(8));e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768;const t=r=>e[r].toString(16).padStart(4,"0");return t(0)+t(1)+"-"+t(2)+"-"+t(3)+"-"+t(4)+"-"+t(5)+t(6)+t(7)}function iM(){return`{${y6()}}`}export{ur as $,ue as A,Cc as B,Qn as C,Ae as D,M4 as E,Kb as F,zf as G,kc as H,oa as I,h1 as J,m3 as K,A as L,zc as M,fe as N,V0 as O,A4 as P,N as Q,It as R,yt as S,he as T,ee as U,te as V,kn as W,jf as X,Ux as Y,ia as Z,lT as _,u as a,hs as a$,Kp as a0,N2 as a1,dr as a2,Xr as a3,ly as a4,$ as a5,Fn as a6,B0 as a7,W0 as a8,yy as a9,rM as aA,$1 as aB,G0 as aC,q0 as aD,z0 as aE,Kd as aF,RO as aG,o4 as aH,Zn as aI,we as aJ,Y as aK,K3 as aL,ST as aM,Xe as aN,na as aO,_T as aP,Ra as aQ,Un as aR,g2 as aS,Li as aT,Ss as aU,U0 as aV,w4 as aW,ei as aX,xb as aY,Dt as aZ,ji as a_,tO as aa,eO as ab,Z4 as ac,qo as ad,Go as ae,l5 as af,mO as ag,cx as ah,As as ai,gi as aj,Yv as ak,YT as al,Jr as am,cr as an,iO as ao,YS as ap,uO as aq,cO as ar,sO as as,Gn as at,Ym as au,lO as av,ml as aw,Q_ as ax,V4 as ay,ic as az,Jn as b,cT as b$,xn as b0,bs as b1,GT as b2,Is as b3,Rc as b4,Uc as b5,le as b6,oO as b7,aO as b8,I4 as b9,Ka as bA,tf as bB,UT as bC,Dp as bD,Rp as bE,Fp as bF,Lp as bG,G3 as bH,vT as bI,Xn as bJ,k as bK,tb as bL,v0 as bM,Fv as bN,Vv as bO,Zv as bP,w0 as bQ,rb as bR,Jv as bS,Rv as bT,Lv as bU,d0 as bV,fv as bW,kv as bX,Fl as bY,j3 as bZ,nO as b_,C4 as ba,Yr as bb,R4 as bc,D4 as bd,k4 as be,X4 as bf,C as bg,_l as bh,Z as bi,Ao as bj,$l as bk,xl as bl,Ma as bm,rh as bn,b4 as bo,AO as bp,FO as bq,Qd as br,U4 as bs,bc as bt,Yx as bu,Wx as bv,y4 as bw,Nt as bx,R6 as by,Rf as bz,v as c,l4 as c$,Bb as c0,Po as c1,QS as c2,fO as c3,dO as c4,KS as c5,HT as c6,Bp as c7,zw as c8,Rl as c9,hx as cA,y6 as cB,lx as cC,Xo as cD,yp as cE,Z0 as cF,Fs as cG,Pe as cH,yh as cI,fh as cJ,t1 as cK,ep as cL,UO as cM,Ko as cN,va as cO,Bn as cP,Ef as cQ,Ye as cR,X5 as cS,$c as cT,ih as cU,e6 as cV,Gx as cW,mT as cX,N4 as cY,ba as cZ,c4 as c_,o0 as ca,h0 as cb,tv as cc,uv as cd,Ov as ce,G6 as cf,z6 as cg,F2 as ch,$s as ci,Sc as cj,_4 as ck,oi as cl,Bx as cm,WO as cn,Cn as co,Gu as cp,$6 as cq,xp as cr,Ho as cs,iM as ct,hO as cu,tM as cv,p6 as cw,Mg as cx,NO as cy,LO as cz,Ct as d,Vn as d$,g4 as d0,dd as d1,jn as d2,Yn as d3,Kn as d4,D6 as d5,mS as d6,z4 as d7,_S as d8,jo as d9,dh as dA,mh as dB,ch as dC,ZO as dD,li as dE,Nx as dF,nM as dG,q6 as dH,Pp as dI,Q1 as dJ,sx as dK,a4 as dL,i0 as dM,vv as dN,L3 as dO,u1 as dP,P6 as dQ,E6 as dR,bv as dS,nx as dT,nv as dU,ov as dV,Av as dW,Dc as dX,cv as dY,iv as dZ,a0 as d_,Qr as da,Uf as db,jx as dc,Xx as dd,$f as de,gc as df,H2 as dg,oc as dh,p3 as di,Dx as dj,kx as dk,f3 as dl,ux as dm,ix as dn,rp as dp,JO as dq,uT as dr,wf as ds,oy as dt,q4 as du,ga as dv,Et as dw,$a as dx,ph as dy,hh as dz,de as e,hf as e$,B4 as e0,W4 as e1,P4 as e2,F6 as e3,S4 as e4,ys as e5,G2 as e6,fr as e7,Ff as e8,zT as e9,QO as eA,YO as eB,Kr as eC,B6 as eD,tt as eE,BO as eF,oT as eG,je as eH,Bw as eI,xT as eJ,DO as eK,_n as eL,OT as eM,Kx as eN,X1 as eO,hc as eP,pv as eQ,c0 as eR,d4 as eS,m4 as eT,HO as eU,Xp as eV,jT as eW,jw as eX,LT as eY,Uw as eZ,cf as e_,KT as ea,Hp as eb,_g as ec,$w as ed,FT as ee,CT as ef,df as eg,kp as eh,bp as ei,k6 as ej,sM as ek,Ca as el,Z6 as em,n2 as en,u2 as eo,tl as ep,d2 as eq,zr as er,A6 as es,S6 as et,vs as eu,wx as ev,Gr as ew,Ee as ex,yb as ey,Q as ez,Zb as f,uf as f$,_6 as f0,n1 as f1,V6 as f2,G4 as f3,rc as f4,sc as f5,H4 as f6,BT as f7,JT as f8,Ps as f9,Pl as fA,$4 as fB,Gp as fC,ww as fD,Tw as fE,Wp as fF,IT as fG,x6 as fH,WT as fI,Ev as fJ,kf as fK,qw as fL,ko as fM,wv as fN,ZT as fO,qn as fP,Vr as fQ,b6 as fR,c1 as fS,Ww as fT,Hw as fU,Zw as fV,Gw as fW,NT as fX,gT as fY,Vw as fZ,f5 as f_,er as fa,x3 as fb,gh as fc,mb as fd,ti as fe,E as ff,kt as fg,ve as fh,u0 as fi,md as fj,cc as fk,sh as fl,PO as fm,EO as fn,f as fo,bT as fp,dx as fq,fx as fr,_a as fs,VT as ft,da as fu,XT as fv,v4 as fw,Rb as fx,s4 as fy,_b as fz,eM as g,bl as g$,Hx as g0,Lx as g1,U3 as g2,qh as g3,Fy as g4,L4 as g5,zx as g6,y2 as g7,ta as g8,Qx as g9,pa as gA,ra as gB,sa as gC,V3 as gD,wT as gE,_s as gF,hb as gG,$T as gH,k3 as gI,pT as gJ,I3 as gK,oS as gL,Q3 as gM,TT as gN,O6 as gO,Jx as gP,xy as gQ,yT as gR,I6 as gS,C6 as gT,N6 as gU,k2 as gV,ax as gW,lf as gX,KO as gY,m1 as gZ,XO as g_,p4 as ga,lg as gb,$x as gc,bx as gd,_x as ge,vx as gf,h4 as gg,M6 as gh,l1 as gi,qT as gj,Qw as gk,x4 as gl,qx as gm,Lf as gn,L0 as go,Tb as gp,r4 as gq,Df as gr,b1 as gs,Ch as gt,z5 as gu,Tg as gv,Vx as gw,Z2 as gx,I2 as gy,U6 as gz,i1 as h,o1 as h$,rO as h0,J4 as h1,K4 as h2,Y4 as h3,Q4 as h4,pO as h5,ox as h6,w6 as h7,f4 as h8,i4 as h9,Yc as hA,cd as hB,El as hC,F4 as hD,v6 as hE,u5 as hF,Vo as hG,Wo as hH,a5 as hI,L6 as hJ,g5 as hK,y5 as hL,Xc as hM,W1 as hN,Mx as hO,Ex as hP,uo as hQ,Ax as hR,Y1 as hS,e4 as hT,pw as hU,xh as hV,Iv as hW,Y2 as hX,IO as hY,CO as hZ,av as h_,Cb as ha,kb as hb,t4 as hc,Xw as hd,cb as he,l0 as hf,x0 as hg,kT as hh,rx as hi,uc as hj,hr as hk,v1 as hl,lc as hm,ET as hn,MT as ho,AT as hp,Dg as hq,gx as hr,Zx as hs,Sy as ht,QT as hu,bb as hv,n4 as hw,jO as hx,u4 as hy,wa as hz,Tx as i,kO as i0,Ke as j,S5 as k,K as l,E3 as m,b3 as n,G as o,aT as p,T as q,Bg as r,V as s,$3 as t,Ii as u,Jb as v,E4 as w,Yo as x,h as y,Qe as z};
