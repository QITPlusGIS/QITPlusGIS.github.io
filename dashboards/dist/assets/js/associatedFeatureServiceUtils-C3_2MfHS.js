const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./BingMapsLayer-Cv4bTag3.js","./uuid-De2V3pkO.js","./index-OAJD89tD.js","./MultiOriginJSONSupport-Df7Mn0iX.js","./arcgisLayerUrl-DMpJLG2u.js","./BlendLayer-4Nq3kFEk.js","./jsonUtils-Ds9cu0Qh.js","./parser-CQvYRaWk.js","./mat4f32-BYh1DbDV.js","./mat4-DR7ljCfE.js","./RefreshableLayer-BEFOmf5k.js","./commonProperties-7y88ic0r.js","./ElevationInfo-C7w4yfnq.js","./lengthUtils-C4EPlNSZ.js","./ScaleRangeLayer-cDV6S-UX.js","./imageBitmapUtils-BnCa4AMk.js","./TileInfo-ybWiFFHA.js","./OperationalLayer-Bx6pTHh7.js","./BuildingSceneLayer-DglLwnKR.js","./CollectionFlattener-BEJgaFwb.js","./loadAll-Cim39wYP.js","./UniqueValueRenderer-DdZymv08.js","./LegendOptions-FRTnoArL.js","./diffUtils-B9GaWVUW.js","./SizeVariable-CEwBbtT1.js","./colorRamps-BC6MwlXc.js","./compilerUtils-BndV9QTL.js","./ColorStop-B_V1vtMl.js","./jsonUtils-CqYY9-3B.js","./layerUtils-D8dZn4eh.js","./styleUtils-IlLdeGfy.js","./jsonUtils-CshCi2EU.js","./DictionaryLoader-Bl9OQ4Ss.js","./LRUCache-DMLtX-OB.js","./FieldsIndex-dTLkFgHd.js","./heatmapUtils-DncJMPvQ.js","./vec4f64-Jk3PXxMO.js","./FeatureLayer-XPLTGHtu.js","./FeatureLayerBase-Vxy7-5Ka.js","./Field-CpwGNSHU.js","./fieldType-CQ9t6Wui.js","./featureLayerUtils-JQb3hLRE.js","./Query-CEg5oX17.js","./FullTextSearch-C1te3nF2.js","./QuantizationParameters-DrrRb5JH.js","./AttachmentQuery-BX_2HFsg.js","./RelationshipQuery-CSVnFDD7.js","./LayerFloorInfo-DRZBdyCP.js","./serviceCapabilitiesUtils-BVYFxrwG.js","./workers-Dp_XhR59.js","./queryZScale-BHsgP0Ac.js","./FeatureSet-B32diVNL.js","./APIKeyMixin-CcEMCMh8.js","./ArcGISService-B9AkhE_C.js","./CustomParametersMixin-B-WvQlLz.js","./EditBusLayer-Z-bxRsy2.js","./FeatureEffectLayer-C-VkqhLI.js","./FeatureEffect-D6mxFSco.js","./FeatureReductionLayer-CMPQavUU.js","./clusterUtils-CBl3uOAm.js","./MD5-MtSiOt06.js","./FeatureReductionSelection-BdTwQHJB.js","./LabelClass-5BgkMgGD.js","./labelUtils-Dph0uXsk.js","./defaultsJSON-CHAaurhX.js","./OrderedLayer-CDjvvtKC.js","./PortalLayer-DU1TFOEn.js","./PortalItem-C8IOgJp9.js","./portalItemUtils-2ng-Kvae.js","./TemporalLayer-B6MVRSR-.js","./FeatureTemplate-CuIcCtQS.js","./FeatureType-okWbna3M.js","./fieldProperties-BBmuKf7F.js","./labelingInfo-C5rI8Tdf.js","./versionUtils-go49xXEj.js","./styleUtils-CfnOzvk7.js","./TopFeaturesQuery-BR6kql40.js","./popupUtils-tKvJKde2.js","./interfaces-CL2NbQte.js","./I3SUtil-z8tzPouG.js","./mat3-Riwg5JNu.js","./mat3f64-BVJGbF0t.js","./mat4f64-D0ba0WBC.js","./quat-LWK6AbpX.js","./quatf64-QCogZAoR.js","./spatialReferenceEllipsoidUtils-COt3KA6H.js","./I3SBinaryReader-BOhAOq47.js","./VertexAttribute-CY64ESNu.js","./orientedBoundingBox-B8S_pb4B.js","./plane-DK1ThsFw.js","./sphere-s22IC7kl.js","./ByteSizeUnit-BsxeN7wM.js","./vec2f64-BuJjW9A-.js","./ViewingMode-HRfKv6NR.js","./SceneService-CD_FkuRQ.js","./originUtils-Bf8nVymy.js","./multiOriginJSONSupportUtils-C0wm8_Yw.js","./saveAPIKeyUtils-C5NwgnmH.js","./saveUtils-D7ich0BP.js","./resourceUtils-C3XmBys0.js","./I3SLayerDefinitions-BHguyG9I.js","./popupUtils-mFT2nLUz.js","./elevationInfoUtils-BJaXNsRE.js","./CSVLayer-DWDHW1HH.js","./clientSideDefaults-Y_HJrJZ_.js","./QueryEngineCapabilities-CTDe3LlQ.js","./DimensionLayer-DtxqNwV7.js","./Analysis-DwlK-tOS.js","./Cyclical-bCBpTSsi.js","./ElevationLayer-CtF3_GgC.js","./ArcGISCachedService-CHDe8X9F.js","./TileInfoTilemapCache-wvFoUecP.js","./TilemapCache-o0RXLCzh.js","./GeoJSONLayer-DSUFlphI.js","./GeoRSSLayer-BNbSArjj.js","./GroupLayer-BGeayg3S.js","./TablesMixin-BAh-Tdsn.js","./writeUtils-993Cp9iz.js","./ImageryLayer-BvwPHStm.js","./ImageHistogramParameters-Ldhk8Uju.js","./multidimensionalUtils-CynorzW1.js","./dataUtils-BM_TjxhE.js","./RasterSymbolizer-CZMo06ex.js","./commonjsHelpers-DCkdB7M8.js","./colorUtils-bSyxvcHP.js","./normalizeUtils-CHaYFzrc.js","./normalizeUtilsCommon-vfKhPTnw.js","./utils-BcODNpzI.js","./utils-pl3RUk3K.js","./generateRendererUtils-tTmocmL_.js","./executeQueryJSON-BPmRxjW1.js","./query-Dc0QFYci.js","./pbfQueryUtils-CF_kx7yC.js","./pbf-Jel0b315.js","./OptimizedFeature-CuDeWVOV.js","./OptimizedFeatureSet-Blu9Ckm7.js","./featureConversionUtils-BBvLZPS5.js","./AttachmentInfo-CH3MnwK5.js","./executeForIds-DVUzyPe5.js","./ImageryTileLayer-xMwWknw-.js","./RawBlockCache-Fz4ivh25.js","./rasterProjectionHelper-BJzNlP4b.js","./utils-d6vmDuMr.js","./IntegratedMeshLayer-DDSg76ga.js","./persistable-DXMSUnvx.js","./resourceExtension-CWMJOO_6.js","./KMLLayer-Dzaa1j2N.js","./kmlUtils-VyARLP4J.js","./LineOfSightLayer-NwQaVkls.js","./LinkChartLayer-BJKdCvnO.js","./geohashUtils-Cqa8IiVT.js","./FeatureStore-B3Urtl4T.js","./BoundsStore-CQM2nx2C.js","./PooledRBush-CX2j6vTP.js","./quickselect-Dsa-MazW.js","./timeSupport-CtP07R_0.js","./projectionSupport-DtScbnKU.js","./json-Wa8cmqdu.js","./QueryEngine-D4CxY1QY.js","./WhereClause-BcQt-S-F.js","./TimeOnly-LdAwpTO1.js","./quantizationUtils-D3whBd2n.js","./utils-DY_zN2Bw.js","./utils-DJeV_78j.js","./basemapUtils-BPWzFCB8.js","./Basemap-DVlQKLRn.js","./signal-C4o35hpO.js","./RenderState-DaVlEYWY.js","./MapImageLayer-BObuEGbD.js","./scaleUtils-ApfxRMLk.js","./SublayersOwner-kh1ntnV3.js","./QueryTask-Gy5mxTux.js","./infoFor3D-CKoUGm1M.js","./executeQueryPBF-cAc13GFo.js","./sublayerUtils-CPqqyyW4.js","./ExportImageParameters-ud3URlJR.js","./floorFilterUtils-n6UOt7ty.js","./MapNotesLayer-BSD8Wi_f.js","./GraphicsLayer-Nb5aKwM4.js","./GraphicsCollection-DbKTAY2Z.js","./objectIdUtils-BmFjqQA3.js","./MediaLayer-Bc2ZQfHD.js","./imageUtils-ovHacyJN.js","./perspectiveUtils-BLP7e9-9.js","./normalizeUtilsSync-BoYPclmC.js","./vec2-C6Y96AwR.js","./OGCFeatureLayer-Dd_xwlTR.js","./ogcFeatureUtils-DUNjXK1t.js","./geojson-kH90CrLw.js","./date-DO1D9_KE.js","./OpenStreetMapLayer-CBj8puGH.js","./WebTileLayer-DnybOK5D.js","./OrientedImageryLayer-BseLndBH.js","./PointCloudLayer-CMQf8BGt.js","./PointCloudUniqueValueRenderer-ermevk0a.js","./RouteLayer-CjMWRW9O.js","./Stop-RvV2ilMY.js","./commonProperties-DHiB1uzW.js","./SceneLayer-BwK55iLx.js","./StreamLayer-CsRgW1LI.js","./SubtypeGroupLayer-oO41KkqE.js","./TileLayer-BRGBasrT.js","./UnknownLayer-DDouw2W5.js","./UnsupportedLayer-CBi51ad3.js","./VectorTileLayer-RufPJo4S.js","./TileInfoView-CccucBWX.js","./jsonContext-BvsZzvt8.js","./StyleRepository-C2xL7OfV.js","./StyleDefinition-C8U8LdH5.js","./enums-lYQiQBYo.js","./enums-6B-yx_R-.js","./enums-BFYfP9qy.js","./VertexElementDescriptor-BLyltQyJ.js","./GeometryUtils-D08nBgDv.js","./unitBezier-C3UyU2rI.js","./definitions-DYuD04dF.js","./capabilities-BeSycj8J.js","./VoxelLayer-jK_Rij1_.js","./WFSLayer-DUHE37A9.js","./wfsUtils-D39CbOXI.js","./xmlUtils-CtUoQO7q.js","./WMSLayer-QQD3sJNY.js","./crsUtils-SSpm1R02.js","./ExportWMSImageParameters-DX7XCClq.js","./WMTSLayer-CRMWFjHy.js"])))=>i.map(i=>d[i]);
import{_ as a}from"./index-OAJD89tD.js";import{o as d,Z as T,X as s,z as f,A as D}from"./uuid-De2V3pkO.js";import{p}from"./arcgisLayerUrl-DMpJLG2u.js";import v from"./PortalItem-C8IOgJp9.js";const g={BingMapsLayer:async()=>(await a(async()=>{const{default:t}=await import("./BingMapsLayer-Cv4bTag3.js");return{default:t}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17]),import.meta.url)).default,BuildingSceneLayer:async()=>(await a(async()=>{const{default:t}=await import("./BuildingSceneLayer-DglLwnKR.js");return{default:t}},__vite__mapDeps([18,1,2,19,20,3,4,21,22,23,24,25,26,13,27,28,29,30,31,32,33,34,35,36,37,11,12,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,5,6,7,8,9,54,55,56,57,58,59,60,61,62,63,64,17,65,66,67,68,10,14,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102]),import.meta.url)).default,CSVLayer:async()=>(await a(async()=>{const{default:t}=await import("./CSVLayer-DWDHW1HH.js");return{default:t}},__vite__mapDeps([103,1,2,37,21,22,23,24,25,26,13,27,28,29,30,31,32,33,34,35,36,3,11,4,12,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,5,6,7,8,9,54,55,56,57,58,59,60,61,62,63,64,17,65,66,67,68,10,14,69,70,71,72,73,74,75,76,77,78,104,105]),import.meta.url)).default,DimensionLayer:async()=>(await a(async()=>{const{default:t}=await import("./DimensionLayer-DtxqNwV7.js");return{default:t}},__vite__mapDeps([106,1,2,107,108,4,3,17,11,12,13]),import.meta.url)).default,ElevationLayer:async()=>(await a(async()=>{const{default:t}=await import("./ElevationLayer-CtF3_GgC.js");return{default:t}},__vite__mapDeps([109,2,1,3,4,110,16,111,112,91,33,53,17,11,12,13,66,29,67,68,49]),import.meta.url)).default,FeatureLayer:async()=>(await a(async()=>{const{default:t}=await import("./FeatureLayer-XPLTGHtu.js").then(r=>r.F);return{default:t}},__vite__mapDeps([37,2,1,21,22,23,24,25,26,13,27,28,29,30,31,32,33,34,35,36,3,11,4,12,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,5,6,7,8,9,54,55,56,57,58,59,60,61,62,63,64,17,65,66,67,68,10,14,69,70,71,72,73,74,75,76,77,78]),import.meta.url)).default,GeoJSONLayer:async()=>(await a(async()=>{const{default:t}=await import("./GeoJSONLayer-DSUFlphI.js");return{default:t}},__vite__mapDeps([113,2,1,21,22,23,24,25,26,13,27,28,29,30,31,32,33,34,35,36,3,4,49,104,105,64,51,39,40,5,6,7,8,9,54,56,57,42,43,44,58,59,60,11,12,61,41,45,46,62,63,17,65,66,67,68,10,14,69,70,71,72,73,77]),import.meta.url)).default,GeoRSSLayer:async()=>(await a(async()=>{const{default:t}=await import("./GeoRSSLayer-BNbSArjj.js");return{default:t}},__vite__mapDeps([114,1,2,3,4,5,6,7,8,9,17,11,12,13,66,29,67,68,10,14]),import.meta.url)).default,GroupLayer:async()=>(await a(async()=>{const{default:t}=await import("./GroupLayer-BGeayg3S.js");return{default:t}},__vite__mapDeps([115,2,1,19,20,3,4,5,6,7,8,9,17,11,12,13,66,29,67,68,14,116,78,98,99,117]),import.meta.url)).default,ImageryLayer:async()=>(await a(async()=>{const{default:t}=await import("./ImageryLayer-BvwPHStm.js");return{default:t}},__vite__mapDeps([118,2,1,3,4,119,120,49,121,21,22,23,24,25,26,13,27,28,29,30,122,123,124,36,125,126,127,7,8,9,128,33,39,40,129,51,11,12,34,15,42,43,44,130,131,132,133,134,135,50,136,137,45,138,46,76,53,5,6,54,17,66,67,68,10,14,69,74,77,78]),import.meta.url)).default,ImageryTileLayer:async()=>(await a(async()=>{const{default:t}=await import("./ImageryTileLayer-xMwWknw-.js");return{default:t}},__vite__mapDeps([139,2,1,3,4,53,5,6,7,8,9,54,119,120,49,121,21,22,23,24,25,26,13,27,28,29,30,122,123,124,36,125,126,127,128,33,39,40,129,51,11,12,16,140,141,142,17,66,67,68,10,14,69,112,91,77,78]),import.meta.url)).default,IntegratedMeshLayer:async()=>(await a(async()=>{const{default:t}=await import("./IntegratedMeshLayer-DDSg76ga.js");return{default:t}},__vite__mapDeps([143,1,2,3,144,60,96,145,4,52,53,17,11,12,13,66,29,67,68,14,94,95,97,98,99,100,102]),import.meta.url)).default,KMLLayer:async()=>(await a(async()=>{const{default:t}=await import("./KMLLayer-Dzaa1j2N.js");return{default:t}},__vite__mapDeps([146,1,2,19,3,4,5,6,7,8,9,17,11,12,13,66,29,67,68,10,14,147,31,21,22,23,24,25,26,27,28,30,32,33,34,35,36,51,39,40]),import.meta.url)).default,LineOfSightLayer:async()=>(await a(async()=>{const{default:t}=await import("./LineOfSightLayer-NwQaVkls.js");return{default:t}},__vite__mapDeps([148,1,2,107,144,60,96,145,12,13,4,102,3,17,11]),import.meta.url)).default,LinkChartLayer:async()=>(await a(async()=>{const{default:t}=await import("./LinkChartLayer-BJKdCvnO.js");return{default:t}},__vite__mapDeps([149,1,2,150,4,136,134,135,42,39,40,43,44,21,22,23,24,25,26,13,27,28,29,30,31,32,33,34,35,36,49,151,152,153,154,123,155,125,126,156,157,158,159,160,105,161,162,163,164,165,20,67,117,8,9,129,166,167,104,64,72,5,6,7,58,59,60,11,12,61,41,45,46,62,63,10,14,51,77]),import.meta.url)).default,MapImageLayer:async()=>(await a(async()=>{const{default:t}=await import("./MapImageLayer-BObuEGbD.js");return{default:t}},__vite__mapDeps([168,1,2,4,20,3,169,52,170,32,33,34,11,12,13,68,19,21,22,23,24,25,26,27,28,29,30,31,35,36,171,172,42,39,40,43,44,138,131,125,126,132,133,134,135,50,130,51,173,136,71,70,62,63,64,73,47,48,45,77,174,53,5,6,7,8,9,54,17,66,67,10,14,69,175,176,15,74]),import.meta.url)).default,MapNotesLayer:async()=>(await a(async()=>{const{default:t}=await import("./MapNotesLayer-BSD8Wi_f.js");return{default:t}},__vite__mapDeps([177,1,2,3,4,125,126,37,21,22,23,24,25,26,13,27,28,29,30,31,32,33,34,35,36,11,12,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,5,6,7,8,9,54,55,56,57,58,59,60,61,62,63,64,17,65,66,67,68,10,14,69,70,71,72,73,74,75,76,77,78,178,179,180]),import.meta.url)).default,MediaLayer:async()=>(await a(async()=>{const{default:t}=await import("./MediaLayer-Bc2ZQfHD.js");return{default:t}},__vite__mapDeps([181,1,2,3,4,5,6,7,8,9,17,11,12,13,14,182,183,184,126,80,81,185,92,145,152,153,154,123]),import.meta.url)).default,OGCFeatureLayer:async()=>(await a(async()=>{const{default:t}=await import("./OGCFeatureLayer-Dd_xwlTR.js");return{default:t}},__vite__mapDeps([186,1,2,21,22,23,24,25,26,13,27,28,29,30,31,32,33,34,35,36,3,4,187,136,134,135,188,189,104,105,64,40,51,39,52,5,6,7,8,9,54,56,57,42,43,44,58,59,60,11,12,61,41,45,46,62,63,17,65,66,67,68,10,14,69,71,70,72,73,77]),import.meta.url)).default,OpenStreetMapLayer:async()=>(await a(async()=>{const{default:t}=await import("./OpenStreetMapLayer-CBj8puGH.js");return{default:t}},__vite__mapDeps([190,1,2,191,3,4,5,6,7,8,9,17,11,12,13,66,29,67,68,10,14,15,16]),import.meta.url)).default,OrientedImageryLayer:async()=>(await a(async()=>{const{default:t}=await import("./OrientedImageryLayer-BseLndBH.js");return{default:t}},__vite__mapDeps([192,1,2,37,21,22,23,24,25,26,13,27,28,29,30,31,32,33,34,35,36,3,11,4,12,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,5,6,7,8,9,54,55,56,57,58,59,60,61,62,63,64,17,65,66,67,68,10,14,69,70,71,72,73,74,75,76,77,78]),import.meta.url)).default,PointCloudLayer:async()=>(await a(async()=>{const{default:t}=await import("./PointCloudLayer-CMQf8BGt.js");return{default:t}},__vite__mapDeps([193,1,2,3,4,52,53,17,11,12,13,66,29,67,68,14,94,95,96,97,98,99,39,40,72,34,194,22,27,102,77]),import.meta.url)).default,RouteLayer:async()=>(await a(async()=>{const{default:t}=await import("./RouteLayer-CjMWRW9O.js");return{default:t}},__vite__mapDeps([195,1,2,21,22,23,24,25,26,13,27,28,29,30,31,32,33,34,35,36,3,95,96,4,5,6,7,8,9,17,11,12,66,67,68,14,196,125,126,51,39,40,197]),import.meta.url)).default,SceneLayer:async()=>(await a(async()=>{const{default:t}=await import("./SceneLayer-BwK55iLx.js");return{default:t}},__vite__mapDeps([198,2,1,21,22,23,24,25,26,13,27,28,29,30,31,32,33,34,35,36,3,4,52,53,55,17,11,12,66,67,68,14,94,95,96,97,98,99,79,80,81,9,82,83,84,85,42,39,40,43,44,86,87,88,89,90,91,92,93,41,45,46,61,72,100,62,63,64,73,47,144,60,145,75,102,77,101]),import.meta.url)).default,StreamLayer:async()=>(await a(async()=>{const{default:t}=await import("./StreamLayer-CsRgW1LI.js");return{default:t}},__vite__mapDeps([199,2,1,21,22,23,24,25,26,13,27,28,29,30,31,32,33,34,35,36,3,4,53,5,6,7,8,9,54,56,57,42,39,40,43,44,58,59,60,11,12,61,41,45,46,62,63,64,17,66,67,68,10,14,69,72,73,75,77,78]),import.meta.url)).default,SubtypeGroupLayer:async()=>(await a(async()=>{const{default:t}=await import("./SubtypeGroupLayer-oO41KkqE.js");return{default:t}},__vite__mapDeps([200,2,1,20,3,4,52,53,5,6,7,8,9,54,55,38,39,40,11,12,13,41,42,43,44,29,31,21,22,23,24,25,26,27,28,30,32,33,34,35,36,45,46,47,48,17,66,67,68,10,14,69,72,70,62,63,64,73,77,74,78]),import.meta.url)).default,TileLayer:async()=>(await a(async()=>{const{default:t}=await import("./TileLayer-BRGBasrT.js");return{default:t}},__vite__mapDeps([201,1,2,20,3,4,52,110,16,111,112,91,33,170,32,34,11,12,13,68,19,21,22,23,24,25,26,27,28,29,30,31,35,36,171,172,42,39,40,43,44,138,131,125,126,132,133,134,135,50,130,51,173,136,71,70,62,63,64,73,47,48,45,77,174,53,5,6,7,8,9,54,17,66,67,10,14,15]),import.meta.url)).default,UnknownLayer:async()=>(await a(async()=>{const{default:t}=await import("./UnknownLayer-DDouw2W5.js");return{default:t}},__vite__mapDeps([202,1,2,3,4,66,29,67,68]),import.meta.url)).default,UnsupportedLayer:async()=>(await a(async()=>{const{default:t}=await import("./UnsupportedLayer-CBi51ad3.js");return{default:t}},__vite__mapDeps([203,1,2,3,4,66,29,67,68]),import.meta.url)).default,VectorTileLayer:async()=>(await a(async()=>{const{default:t}=await import("./VectorTileLayer-RufPJo4S.js");return{default:t}},__vite__mapDeps([204,1,2,3,4,52,110,16,111,112,91,33,53,5,6,7,8,9,54,17,11,12,13,66,29,67,68,14,205,206,207,208,209,210,211,212,124,36,213,214,215,216]),import.meta.url)).default,VoxelLayer:async()=>(await a(async()=>{const{default:t}=await import("./VoxelLayer-jK_Rij1_.js");return{default:t}},__vite__mapDeps([217,1,2,3,4,52,53,17,11,12,13,66,29,67,68,14,94,95,96,97,98,99,39,40,108,144,60,145,83,81,84,77]),import.meta.url)).default,WFSLayer:async()=>(await a(async()=>{const{default:t}=await import("./WFSLayer-DUHE37A9.js");return{default:t}},__vite__mapDeps([218,1,2,21,22,23,24,25,26,13,27,28,29,30,31,32,33,34,35,36,3,4,49,104,105,64,219,188,189,134,220,39,40,51,5,6,7,8,9,54,56,57,42,43,44,58,59,60,11,12,61,41,45,46,62,63,17,65,66,67,68,10,14,69,72,73,77]),import.meta.url)).default,WMSLayer:async()=>(await a(async()=>{const{default:t}=await import("./WMSLayer-QQD3sJNY.js");return{default:t}},__vite__mapDeps([221,1,2,19,3,169,4,5,6,7,8,9,17,11,12,13,66,29,67,68,10,14,69,222,223,15]),import.meta.url)).default,WMTSLayer:async()=>(await a(async()=>{const{default:t}=await import("./WMTSLayer-CRMWFjHy.js");return{default:t}},__vite__mapDeps([224,1,2,3,4,191,5,6,7,8,9,17,11,12,13,66,29,67,68,10,14,15,16,111,222,220]),import.meta.url)).default,WebTileLayer:async()=>(await a(async()=>{const{default:t}=await import("./WebTileLayer-DnybOK5D.js").then(r=>r.W);return{default:t}},__vite__mapDeps([191,1,2,3,4,5,6,7,8,9,17,11,12,13,66,29,67,68,10,14,15,16]),import.meta.url)).default};async function U(t,r){const _=p(t);if(!_)throw new d("invalid-url","Invalid scene service url");const e={...r,sceneServerUrl:_.url.path,layerId:_.sublayer??void 0};if(e.sceneLayerItem??=await A(e),e.sceneLayerItem==null)return m(e.sceneServerUrl.replace("/SceneServer","/FeatureServer"),e);const i=await P(e);if(!i?.url)throw new d("related-service-not-found","Could not find feature service through portal item relationship");const l=await m(i.url,e);return l.portalItem=i,l}async function A(t){const r=(await w(t)).serviceItemId;if(!r)return null;const _=new v({id:r,apiKey:t.apiKey}),e=await O(t);e!=null&&(_.portal=new T({url:e}));try{return _.load({signal:t.signal})}catch(i){return s(i),null}}async function w(t){if(t.rootDocument)return t.rootDocument;const r={query:{f:"json",token:t.apiKey},responseType:"json",signal:t.signal};try{const _=await f(t.sceneServerUrl,r);t.rootDocument=_.data}catch{t.rootDocument={}}return t.rootDocument}async function O(t){const r=D?.findServerInfo(t.sceneServerUrl);if(r?.owningSystemUrl)return r.owningSystemUrl;const _=t.sceneServerUrl.replace(/(.*\/rest)\/.*/i,"$1")+"/info";try{const e=(await f(_,{query:{f:"json"},responseType:"json",signal:t.signal})).data.owningSystemUrl;if(e)return e}catch(e){s(e)}return null}async function m(t,r){const _=p(t);if(!_)throw new d("invalid-feature-service-url","Invalid feature service url");const e=_.url.path,i=r.layerId;if(i==null)return{serverUrl:e};const l=w(r),c=u=>{const I={query:{f:"json"},responseType:"json",authMode:u,signal:r.signal};return f(e,I)},L=c("anonymous").catch((()=>c("no-prompt"))),[y,E]=await Promise.all([L,l]),o=E?.layers,n=y.data&&y.data.layers;if(!Array.isArray(n))throw new Error("expected layers array");if(Array.isArray(o)){for(let u=0;u<Math.min(o.length,n.length);u++)if(o[u].id===i)return{serverUrl:e,layerId:n[u].id}}else if(i!=null&&i<n.length)return{serverUrl:e,layerId:n[i].id};throw new Error("could not find matching associated sublayer")}async function P({sceneLayerItem:t,signal:r}){if(!t)return null;try{const _=(await t.fetchRelatedItems({relationshipType:"Service2Service",direction:"reverse"},{signal:r})).find((i=>i.type==="Feature Service"))||null;if(!_)return null;const e=new v({portal:_.portal,id:_.id});return await e.load(),e}catch(_){return s(_),null}}export{g as a,U as l};
