import{an as j,V as h,D as w}from"./uuid-De2V3pkO.js";const A=new Set(["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"]);function y(n){return n instanceof w}function b(n){return n instanceof h?Object.keys(n.items):y(n)?j(n).keys():n?Object.keys(n):[]}function p(n,t){return n instanceof h?n.items[t]:n[t]}function k(n,t){return!(!Array.isArray(n)||!Array.isArray(t))&&n.length!==t.length}function s(n){return n?n.declaredClass:null}function V(n,t){const o=n.diff;if(o&&typeof o=="function")return o(n,t);const f=b(n),i=b(t);if(f.length===0&&i.length===0)return;if(!f.length||!i.length||k(n,t))return{type:"complete",oldValue:n,newValue:t};const c=i.filter((e=>!f.includes(e))),g=f.filter((e=>!i.includes(e))),m=f.filter((e=>i.includes(e)&&p(n,e)!==p(t,e))).concat(c,g).sort(),d=s(n);if(d&&A.has(d)&&m.length)return{type:"complete",oldValue:n,newValue:t};let a;const D=y(n)&&y(t);for(const e of m){const l=p(n,e),r=p(t,e);let u;if((D||typeof l!="function"&&typeof r!="function")&&l!==r&&(l!=null||r!=null)){if(o&&o[e]&&typeof o[e]=="function")u=o[e]?.(l,r);else if(l instanceof Date&&r instanceof Date){if(l.getTime()===r.getTime())continue;u={type:"complete",oldValue:l,newValue:r}}else u=typeof l=="object"&&typeof r=="object"&&s(l)===s(r)?V(l,r):{type:"complete",oldValue:l,newValue:r};u!=null&&(a!=null?a.diff[e]=u:a={type:"partial",diff:{[e]:u}})}}return a}function P(n,t){if(n==null)return!1;const o=t.split(".");let f=n;for(const i of o){if(f.type==="complete")return!0;if(f.type!=="partial")return!1;{const c=f.diff[i];if(!c)return!1;f=c}}return!0}function C(n,t){for(const o of t)if(P(n,o))return!0;return!1}function O(n,t){if(typeof n!="function"&&typeof t!="function"&&(n!=null||t!=null))return n==null||t==null||typeof n=="object"&&typeof t=="object"&&s(n)!==s(t)?{type:"complete",oldValue:n,newValue:t}:V(n,t)}export{O as a,C as p,P as s};
