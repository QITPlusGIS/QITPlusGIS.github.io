import{aC as P,aD as d,O as L,aE as A,aV as E}from"./uuid-De2V3pkO.js";const f=(t,n,r)=>[n,r],c=(t,n,r)=>[n,r,t[2]],m=(t,n,r)=>[n,r,t[2],t[3]];function T(t){return t?{originPosition:t.originPosition==="upper-left"?"upperLeft":t.originPosition==="lower-left"?"lowerLeft":t.originPosition,scale:t.tolerance?[t.tolerance,t.tolerance]:[1,1],translate:t.extent!=null?[t.extent.xmin,t.extent.ymax]:[0,0]}:null}function h({scale:t,translate:n},r){return Math.round((r-n[0])/t[0])}function g({scale:t,translate:n},r){return Math.round((n[1]-r)/t[1])}function p(t,n,r){const u=[];let o,l,e,s;for(let a=0;a<r.length;a++){const i=r[a];a>0?(e=h(t,i[0]),s=g(t,i[1]),e===o&&s===l||(u.push(n(i,e-o,s-l)),o=e,l=s)):(o=h(t,i[0]),l=g(t,i[1]),u.push(n(i,o,l)))}return u.length>0?u:null}function M(t,n,r,u){return p(t,f,n)}function O(t,n,r,u){const o=[],l=f;for(let e=0;e<n.length;e++){const s=p(t,l,n[e]);s&&s.length>=3&&o.push(s)}return o.length?o:null}function b(t,n,r,u){const o=[],l=f;for(let e=0;e<n.length;e++){const s=p(t,l,n[e]);s&&s.length>=2&&o.push(s)}return o.length?o:null}function x({scale:t,translate:n},r){return r*t[0]+n[0]}function y({scale:t,translate:n},r){return n[1]-r*t[1]}function w(t,n,r){const u=new Array(r.length);if(!r.length)return u;const[o,l]=t.scale;let e=x(t,r[0][0]),s=y(t,r[0][1]);u[0]=n(r[0],e,s);for(let a=1;a<r.length;a++){const i=r[a];e+=i[0]*o,s-=i[1]*l,u[a]=n(i,e,s)}return u}function z(t,n,r){const u=new Array(r.length);for(let o=0;o<r.length;o++)u[o]=w(t,n,r[o]);return u}function k(t,n,r,u){return w(t,r?u?m:c:u?c:f,n)}function q(t,n,r,u){return z(t,r?u?m:c:u?c:f,n)}function v(t,n,r,u){return z(t,r?u?m:c:u?c:f,n)}function C(t,n,r,u,o){return n.xmin=h(t,r.xmin),n.ymin=g(t,r.ymin),n.xmax=h(t,r.xmax),n.ymax=g(t,r.ymax),n}function D(t,n,r,u,o){return n.points=M(t,r.points)??[],n}function G(t,n,r,u,o){return n.x=h(t,r.x),n.y=g(t,r.y),n!==r&&(u&&(n.z=r.z),o&&(n.m=r.m)),n}function I(t,n,r,u,o){const l=O(t,r.rings);return l?(n.rings=l,n):null}function N(t,n,r,u,o){const l=b(t,r.paths);return l?(n.paths=l,n):null}function U(t,n){return t&&n?P(n)?G(t,{},n,!1,!1):d(n)?N(t,{},n):L(n)?I(t,{},n):A(n)?D(t,{},n):E(n)?C(t,{},n):null:null}function V(t,n,r,u,o){return r!=null&&(n.points=k(t,r.points,u,o)),n}function j(t,n,r,u,o){return r==null||(n.x=x(t,r.x),n.y=y(t,r.y),n!==r&&(u&&(n.z=r.z),o&&(n.m=r.m))),n}function B(t,n,r,u,o){return r!=null&&(n.rings=v(t,r.rings,u,o)),n}function F(t,n,r,u,o){return r!=null&&(n.paths=q(t,r.paths,u,o)),n}export{G as L,V as U,U as d,j as k,T as m,B as q,F as v};
